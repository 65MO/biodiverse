#!/usr/bin/perl -w
use strict;
use warnings;
use Math::Random::MT::Auto;

#  Use state from a 32 bit or 64 bit implementation.
#  Edit as needed.
my $use_32bit = 0;


my $state = $use_32bit ? get_state32() : get_state64();

#  32 bit system with 64 bit seed does not pass this line
#  ActivePerl 5.8.9
#  "Perl command line has stopped working"
my $prng = Math::Random::MT::Auto->new (state => $state);

#  64 bit system with 32 bit seed seg faults on first irand
#  strawberry perl 5.14.2
for (1 .. 10) {
    print $prng->irand, "\n";  #  fatals 
}


###########
##
##  States
##  Both generated using a seed of 23.
##

sub get_state32 {
    #  generated from (seed => 23)
    return [
          2147483648,
          91106209,
          952405958,
          71342245,
          299481094,
          2537352883,
          2626934658,
          1277588972,
          1530309964,
          2387736906,
          3017917693,
          2146712081,
          4057648994,
          1944578158,
          1530754834,
          3974727350,
          3428187146,
          604614421,
          1801448418,
          4279723890,
          3908642316,
          987077246,
          3098044121,
          3739679403,
          2722799680,
          4066862773,
          955883190,
          1844778355,
          267346736,
          2279751669,
          2320874353,
          3415836001,
          2578973733,
          571164635,
          1434157468,
          1566254156,
          2536894171,
          1309804331,
          625340955,
          3423674865,
          1403740343,
          2292201325,
          2482940642,
          983966399,
          4063868862,
          2262057015,
          3724835374,
          1420089803,
          3700154240,
          3737893141,
          1669041371,
          674373978,
          3054572935,
          3198320919,
          1943910409,
          2357071816,
          2165857246,
          564909854,
          79391435,
          1653156108,
          2713503846,
          2051742312,
          3212803979,
          569519736,
          4150364364,
          3200799085,
          3885221093,
          3624976873,
          1541452097,
          2985878245,
          1785924242,
          1326638920,
          3200443320,
          271013207,
          3525381581,
          3714124476,
          108761349,
          3741146117,
          532919289,
          3341867088,
          2523185259,
          2777650944,
          3480736993,
          2812207889,
          1440965148,
          3385819579,
          1150959276,
          3514996547,
          3469227097,
          3386188191,
          3691848216,
          1416508315,
          3112037549,
          3196081143,
          1403550873,
          544973205,
          1003722856,
          392241337,
          2922387703,
          4029394098,
          2814361666,
          3046701612,
          2806433008,
          124486290,
          1878776246,
          735790937,
          1004551553,
          344927507,
          1263870752,
          542519231,
          4057243550,
          2047597241,
          2328909380,
          766983204,
          4173829480,
          1088552645,
          4082842194,
          2675158400,
          1319804426,
          4212165759,
          4171675231,
          945914224,
          176218889,
          3171837516,
          1004452994,
          392280271,
          602222570,
          1770016112,
          2434200431,
          1362189623,
          3686559300,
          3011113981,
          3450656129,
          2315630292,
          1311267043,
          1186810559,
          2790252350,
          375724823,
          3633992192,
          3613007692,
          4176887142,
          1818344613,
          2284166355,
          175281218,
          1633088744,
          383353869,
          3052105952,
          66363013,
          1327853954,
          1981222703,
          3762048578,
          4154292008,
          1374617822,
          3604212270,
          3698398381,
          142730670,
          700707182,
          3831779474,
          4110332799,
          43495713,
          195906491,
          570088748,
          2629044613,
          3907420561,
          1671083789,
          2671366372,
          1507166459,
          1234808534,
          709858452,
          2433133083,
          935154002,
          338053930,
          2286574393,
          779009327,
          746744499,
          4162436432,
          1571349536,
          3524008406,
          4057442033,
          2889223594,
          1191877471,
          492938949,
          2775881069,
          610555567,
          3809989012,
          760114235,
          3287433753,
          1061076218,
          2596459263,
          2470852418,
          759051673,
          1764739125,
          1319791153,
          2129669199,
          3897541044,
          3608364358,
          4286614841,
          2614001948,
          3095419394,
          1426431511,
          2356719122,
          1438318030,
          2224959621,
          689788565,
          1110009921,
          1630899804,
          483114217,
          2893837719,
          2571726870,
          2837200829,
          280573651,
          1928641448,
          3436885316,
          34558441,
          3165581785,
          1191709696,
          1629319831,
          1046423393,
          503057292,
          2437069068,
          606633856,
          3648296987,
          1538000782,
          3289935245,
          2765873837,
          839702096,
          3372243737,
          1244813411,
          1070510946,
          1624628187,
          2419731742,
          3056449201,
          1569470197,
          147469379,
          442555628,
          3798842805,
          160776445,
          911036007,
          1524695657,
          1066724724,
          104934352,
          3110311133,
          1097332234,
          2902529612,
          2993250482,
          1873279614,
          2385689363,
          1165249323,
          3152166024,
          6684659,
          2557601938,
          2485555615,
          3439385047,
          605039613,
          1630080668,
          3286578724,
          97870799,
          3027316811,
          2344573592,
          531605414,
          2722056224,
          299784213,
          722263487,
          1381646144,
          76496415,
          688001926,
          3300128098,
          73899740,
          2197893364,
          1547765399,
          1777780401,
          2203415173,
          1645435208,
          1468340900,
          37795141,
          947080538,
          2984504379,
          192486917,
          3620783596,
          3337873897,
          1754377780,
          3693776310,
          3375528490,
          4272251794,
          3785247417,
          2723461074,
          3731743655,
          3403883686,
          3937009128,
          4105734336,
          2984886703,
          546173422,
          4267934022,
          2912447860,
          2614439917,
          2538281998,
          3682246648,
          4175266473,
          2675323202,
          4084846761,
          1148317279,
          3531404775,
          3446616487,
          541062799,
          1138213996,
          2999922211,
          20624441,
          73411037,
          961369911,
          834810733,
          775063282,
          2832093598,
          3575876703,
          3892904168,
          3643596983,
          3216393212,
          169468398,
          3727048772,
          2169500393,
          817724740,
          984285448,
          1619770773,
          3245404620,
          4241188318,
          4012757848,
          1343653278,
          3392842983,
          3763364864,
          568796618,
          2172900682,
          860514738,
          1290847677,
          4228539972,
          1053407926,
          693035450,
          1769825368,
          1216577024,
          590885173,
          1056851454,
          4156885150,
          589259135,
          3321025806,
          2988047015,
          2460551295,
          1766434162,
          639734747,
          108138209,
          1778772293,
          3888014497,
          1189444502,
          3012814741,
          3362283839,
          86310295,
          1935670538,
          2095030495,
          1386485818,
          1902979484,
          1802367162,
          378487600,
          1796675256,
          713269805,
          3955832639,
          3946676128,
          2782038716,
          1263531050,
          1396478018,
          2943431806,
          3612522676,
          2311762332,
          1161360962,
          2162992007,
          153187298,
          1642493593,
          452181882,
          3758777393,
          1549660242,
          2884816270,
          1277376454,
          1851210623,
          2781020992,
          1610990576,
          1710373077,
          2005668461,
          2960922854,
          708006139,
          615899065,
          3004362596,
          4253609701,
          71595337,
          464187226,
          488448468,
          3907147784,
          3905112586,
          2497872439,
          3495125532,
          2455046406,
          3905432249,
          1119969260,
          2379717015,
          10760622,
          999361305,
          573996266,
          711224501,
          1024691296,
          2777903599,
          2654658978,
          3774267560,
          1373168841,
          4222161339,
          185205739,
          1715127552,
          1262659411,
          3264099444,
          3049868922,
          1983444633,
          472123614,
          1178778029,
          1765427316,
          2009752489,
          345543893,
          2760803812,
          4291532877,
          3616922521,
          27191389,
          2583463670,
          2700205874,
          1731573422,
          4094938171,
          1364008134,
          2924479709,
          3294937376,
          2399321076,
          3279511839,
          3173051510,
          4111784193,
          3659100787,
          3120007212,
          3819467933,
          1406295059,
          3179557049,
          3208620958,
          2581867324,
          2503644305,
          1117493878,
          3520637793,
          412664918,
          2873860338,
          2993829523,
          1119016675,
          1034276324,
          506196505,
          3580044433,
          1926998752,
          417427823,
          2454954848,
          3248637894,
          3779164067,
          3382764178,
          2431817728,
          3105137671,
          1451969995,
          2624712003,
          1812643985,
          3676855944,
          2750903002,
          355867730,
          996886569,
          3438570463,
          2636595238,
          233964692,
          1093447079,
          4132626763,
          1608929913,
          2012674795,
          1204558368,
          4249653469,
          252373075,
          182057255,
          2108582836,
          1510399684,
          1486943682,
          1511870726,
          1540824059,
          2836704620,
          3273319044,
          1059699112,
          1916953349,
          255938952,
          2236731012,
          2027100742,
          628121597,
          2968176149,
          3807873299,
          212735376,
          3021836376,
          1838187532,
          1622354354,
          517138404,
          1009136196,
          3591089931,
          405974078,
          32581555,
          1928274998,
          1635354550,
          2629818499,
          2630659974,
          4239476325,
          2691527662,
          3741101901,
          3644964351,
          3777034697,
          1993005783,
          1483321155,
          4122749594,
          495347366,
          686976840,
          1084603189,
          2252941464,
          3984552930,
          294928173,
          2547172507,
          2128570816,
          3067370147,
          1204185661,
          3016429183,
          129305410,
          3695852163,
          3174023174,
          386138451,
          938759305,
          2110893606,
          314872804,
          2689545601,
          3339162048,
          418766493,
          1906307567,
          3699662208,
          2555908031,
          3688107578,
          2096689430,
          3210643485,
          3314611627,
          224611887,
          373891606,
          147996984,
          223843540,
          853909593,
          3897504668,
          3448865171,
          972619526,
          1048836705,
          1761066106,
          3385366784,
          335634485,
          2243825293,
          2817512755,
          2515205299,
          770674801,
          3040904310,
          776813203,
          2219195209,
          4081744330,
          3120455999,
          636594379,
          4122207085,
          323058395,
          3127170915,
          225255006,
          3960386185,
          2998465920,
          3617483422,
          3035427315,
          1130211426,
          3813909155,
          1007756015,
          1922039682,
          1039856265,
          3424239312,
          770713501,
          2992746601,
          914256252,
          1587238838,
          290649061,
          1422775046,
          1441333923,
          2325905008,
          2960369091,
          3760828538,
          3629926270,
          2032234892,
          2898961019,
          1399142408,
          1724859978,
          2902532872,
          3938035195,
          1262219445,
          2667521430,
          3562571540,
          10841049,
          1978832401,
          3981644387,
          2117504357,
          2626333826,
          3281007034,
          2935158656,
          4294958374,
          1820640022,
          3104248918,
          416518027,
          3455079280,
          2564932581,
          1375116768,
          261442115,
          3129174005,
          3896817059,
          874087409,
          2773712820,
          4076503773,
          2074536909,
          4164333027,
          720574775,
          1154015365,
          1993159017,
          1008675493,
          1,
          0,
          '0',
          '-1',
          '0',
          '0',
          '0',
          -1,
          '0',
          '-1',
          '0',
          '0'
        ];
}

sub get_state64 {
    #  also generated from (seed => 23), but on a 64 bit system
    return [
          '9223372036854775808',
          '10818085087290316006',
          '11168007672075904395',
          '5220551296468210181',
          '5778236734275138613',
          '3685248933612618303',
          '2264663895790813454',
          '3104275720766569545',
          '18072856287764658368',
          '12292723557740798668',
          '15831793963740951138',
          '1760600725754189080',
          '8290768358613909558',
          '14883512666590805592',
          '117839361267847089',
          '11486154563850826573',
          '14305009628317211219',
          '2808886595088849626',
          '30800793932337915',
          '17293915553443608301',
          '8197219361838802318',
          '5724201070020346102',
          '7952226814544060435',
          '7603651752253637011',
          '10495376294315730023',
          '8505495512281254970',
          '4547552732995091421',
          '10925738827857788371',
          '3115722077088425275',
          '8869927619477512065',
          '10674985462930015060',
          '13550695561208642768',
          '3745009569974313915',
          '16416081499642820035',
          '880098663340195388',
          '16930015032995550175',
          '8974734549929335437',
          '16638936910805731823',
          '5162077406931168146',
          '586362564313830182',
          '1997863834397793611',
          '9183084472011283895',
          '3401526461691878191',
          '17679918409148052102',
          '16192305572989516511',
          '11335048053166087842',
          '7255504227718321071',
          '3192957756500474151',
          '16395358520743613616',
          '8260638869126413091',
          '525884866592809538',
          '4302007079070715352',
          '16308551008959993063',
          '10808886180782360181',
          '4027056648428662951',
          '2538620703301451573',
          '10604841973875264850',
          '7028458750216506213',
          '12279660999994352105',
          '7126400880862170913',
          '1532702685709079740',
          '17339622882895492859',
          '5326329699433761189',
          '1671648426001180181',
          '7617605398247619113',
          '9603441668163266481',
          '1571330922891296872',
          '5129354327473306487',
          '8772598056297669402',
          '696936183160123575',
          '6201253177667056211',
          '3706269464792447873',
          '2782004683385288879',
          '3833998215370554793',
          '3739214212533169423',
          '17429424993300594972',
          '933239106609414653',
          '5919784033674579665',
          '4893170967245789501',
          '16729815082656056315',
          '6680046826335430911',
          '13898327243302337002',
          '16457822084182907194',
          '15991800712006151195',
          '15180152130430597214',
          '17628952831879143151',
          '15674113854261450978',
          '1406503620240139266',
          '17253005915421798979',
          '14838778201017995177',
          '4588960802299031400',
          '9253758744174585244',
          '2639411358158553779',
          '4971134857941641581',
          '8549692197069860960',
          '1884188715582798282',
          '12172174289973415707',
          '10664583651315941169',
          '381454791969507914',
          '7474265017949406122',
          '10313658003587822930',
          '13319488437146215226',
          '889930164438471159',
          '2808268984085615387',
          '14228759375321554765',
          '5560813125795299243',
          '4014708946079072949',
          '6380109520299718369',
          '10497995192855087254',
          '15485694821392489811',
          '18323569343598179047',
          '399590547536421490',
          '2594907667771568399',
          '5239925683198477683',
          '13035434286913612087',
          '11163559313399181042',
          '14875411417043303195',
          '11084257414833889695',
          '1858377053537435625',
          '7713585153126908275',
          '5975001471133185339',
          '3011253952492040456',
          '5461077153973595111',
          '16149390575961502459',
          '9350038456746599474',
          '6601738063322288565',
          '6335116751963214681',
          '8960898561243849909',
          '2482264688264444065',
          '8686049851089847586',
          '15417390577013577828',
          '2144239152000517053',
          '5413330251538885702',
          '13625307669049577356',
          '14320725665313227071',
          '9703470520074960892',
          '6550529201671922602',
          '16627521007301895710',
          '6815505953313109060',
          '18321728357560626066',
          '29427078738159328',
          '5498377490666923590',
          '7347361802399393725',
          '3978619765097670341',
          '3381517303942846836',
          '926602812156169355',
          '9322007841509539777',
          '203583995223604877',
          '10550999759725457998',
          '2277154058880786999',
          '5544639857691288951',
          '5420845566582832532',
          '11961623802351867517',
          '5172296429477980709',
          '10449286085766974168',
          '9034764638210966937',
          '3832699299073334921',
          '16491420887964298095',
          '14207894425349705687',
          '15906156667631584075',
          '10109996062393816726',
          '2779085794893752934',
          '2955484654799778741',
          '12031867327129442769',
          '9373949581440121126',
          '17051233757622054792',
          '165068510153212950',
          '16383478879557330563',
          '4344693163981103858',
          '7771319997370594771',
          '16772511394871423044',
          '13120804483423186205',
          '17918141457393568554',
          '7233244577248828177',
          '72176993105013079',
          '10822391747982912662',
          '13052760359790790277',
          '2837841179504119746',
          '10002344886142398642',
          '6760745765674811205',
          '15389909650194643527',
          '8472299738618704169',
          '5211623861573755174',
          '3775543290016942850',
          '3447777255720384866',
          '17945206746947357530',
          '9697359117183606914',
          '10475547245922150809',
          '9530537023060986537',
          '2012714065472263238',
          '4132920739433537703',
          '1686088621408226019',
          '10115046956214942303',
          '10793711557178953707',
          '14091482963840086315',
          '5595333148802321697',
          '12795443847621388051',
          '14355853633972722621',
          '8631328330569889684',
          '8474995687824846613',
          '3700909759372055833',
          '2514161314446600675',
          '1242676468914221334',
          '7735846858090019945',
          '13679150535763723539',
          '12593616161557540504',
          '7490627364189591067',
          '10845110611006834577',
          '3284896226245826833',
          '16242306535170811306',
          '7742906400408207435',
          '14543122582643116316',
          '14496309084386876386',
          '10543011245857303526',
          '16365076099019305195',
          '4296783152260979922',
          '14290604228416568395',
          '8228506015214089404',
          '10697231172493723172',
          '17509481371004124322',
          '17756893196651393801',
          '1988453242432322191',
          '6885651686451801127',
          '16913637622901493808',
          '17001005529580414019',
          '10822038951193183701',
          '2767110105315059650',
          '2906617229350176903',
          '8208166628759895558',
          '10501671515036775238',
          '2766482493454364993',
          '2426433617138309614',
          '14352311975395258598',
          '14859972555292524850',
          '10978117188815439555',
          '3620147546018226503',
          '13716514046078617844',
          '16355597645542811373',
          '7872269670171905721',
          '4929651960371952996',
          '11070876976516190597',
          '14510632270159208370',
          '4994476100537459983',
          '12441962116690390849',
          '2548801214728516170',
          '18049936153934399741',
          '3794716891433125398',
          '10366388329274504025',
          '792467985807819877',
          '3013033773461367838',
          '2676077860174707303',
          '6077058235807590201',
          '4441092128495459181',
          '11920968171291089010',
          '16098462453295858009',
          '4260215368198272878',
          '5401648516674821876',
          '13213168655226517992',
          '7904772411179297545',
          '11338286976471066116',
          '9365317108705590159',
          '15917007211611625056',
          '2637154015534352137',
          '10688313943643331800',
          '1620181340756695071',
          '6096538825261847890',
          '10528708956291792149',
          '15039660134521775059',
          '5648696603261983254',
          '16566160948103893823',
          '6359672045568781058',
          '14446692012548044378',
          '1684910000597062701',
          '17881365451977555078',
          '4322884669459322462',
          '2887974058956652343',
          '18426785632084855228',
          '4474262355889817966',
          '15334385118680261826',
          '1523187620333040244',
          '15902584936841226996',
          '14193125872733508778',
          '2425826648759357731',
          '5963109347141676077',
          '5080899462152161173',
          '3291838593206769550',
          '9893230892913398326',
          '12193234195233176801',
          '5360473316312918264',
          '9473076327484150131',
          '9117611502940624037',
          '9976545512520053930',
          '4593560053681715885',
          '9159739068763582252',
          '8631444257464276882',
          '15550038135987800693',
          '13641590602258836197',
          '5123415027910741452',
          '15593834795883183224',
          '17062138734452431519',
          '12903313388920462699',
          '15344044463249790896',
          '16035809255578749028',
          '15404848556885160404',
          '9850561016755081892',
          '2645964067316174481',
          '9762232718189688294',
          '18123009616758562541',
          '14985258142144918003',
          '6440456503759700330',
          '8515126959039724474',
          '3840235332341502102',
          1,
          0,
          '0',
          '-1',
          '0',
          '0',
          '0',
          -1,
          '0',
          '-1',
          '0',
          '0'
        ];
}