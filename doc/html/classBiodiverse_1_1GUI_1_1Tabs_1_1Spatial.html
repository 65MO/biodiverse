<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::GUI::Tabs::Spatial Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::GUI::Tabs::Spatial Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::GUI::Tabs::Spatial:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial__coll__graph.png" border="0" usemap="#Biodiverse_1_1GUI_1_1Tabs_1_1Spatial_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1GUI_1_1Tabs_1_1Spatial_coll__map" id="Biodiverse_1_1GUI_1_1Tabs_1_1Spatial_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad813be10358df58bdce10ff83416bead"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad813be10358df58bdce10ff83416bead"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>NULL_STRING</b></td></tr>
<tr class="separator:ad813be10358df58bdce10ff83416bead"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:ac5ad754a075e5ac06c779e273b863042"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac5ad754a075e5ac06c779e273b863042">onRun</a> ()</td></tr>
<tr class="separator:ac5ad754a075e5ac06c779e273b863042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb31cd4ae247942b46e78b9b6eaf2d5"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a0bb31cd4ae247942b46e78b9b6eaf2d5">onAddParam</a> ()</td></tr>
<tr class="separator:a0bb31cd4ae247942b46e78b9b6eaf2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af684dce2b127ab7c569b931fc76fee47"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#af684dce2b127ab7c569b931fc76fee47">remove</a> ()</td></tr>
<tr class="separator:af684dce2b127ab7c569b931fc76fee47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a6cc69225e55b129bef515e36a25f0"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a55a6cc69225e55b129bef515e36a25f0">updateListsCombo</a> ()</td></tr>
<tr class="separator:a55a6cc69225e55b129bef515e36a25f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f47b9ea9013bf8c9e374c129935050"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab9f47b9ea9013bf8c9e374c129935050">on_show_hide_parameters</a> ()</td></tr>
<tr class="separator:ab9f47b9ea9013bf8c9e374c129935050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb964f63f9af1eb01801723fa1544427"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adb964f63f9af1eb01801723fa1544427">makeOutputIndicesModel</a> ()</td></tr>
<tr class="separator:adb964f63f9af1eb01801723fa1544427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0101d58dc0a00124d4a7f27bd79bce1c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a0101d58dc0a00124d4a7f27bd79bce1c">new</a> ()</td></tr>
<tr class="separator:a0101d58dc0a00124d4a7f27bd79bce1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd74921ce27fb0b03445ca1d77ae2bf8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#acd74921ce27fb0b03445ca1d77ae2bf8">onColourSet</a> ()</td></tr>
<tr class="separator:acd74921ce27fb0b03445ca1d77ae2bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3284236701b01bc6ef01d1ee607703ec"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a3284236701b01bc6ef01d1ee607703ec">onGridHover</a> ()</td></tr>
<tr class="separator:a3284236701b01bc6ef01d1ee607703ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeeadb4bbf7e23ecc12e9794983f145c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adeeadb4bbf7e23ecc12e9794983f145c">get_options_menu</a> ()</td></tr>
<tr class="separator:adeeadb4bbf7e23ecc12e9794983f145c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23c8ed405cb9bcc54c34b4655d42736"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab23c8ed405cb9bcc54c34b4655d42736">onNameChanged</a> ()</td></tr>
<tr class="separator:ab23c8ed405cb9bcc54c34b4655d42736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9273db6d593dcaada0289fb70e15a69b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a9273db6d593dcaada0289fb70e15a69b">set_frame_label_widget</a> ()</td></tr>
<tr class="separator:a9273db6d593dcaada0289fb70e15a69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ceb603a9edbd51f7a4f3c59f2f862e6"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a9ceb603a9edbd51f7a4f3c59f2f862e6">DESTROY</a> ()</td></tr>
<tr class="separator:a9ceb603a9edbd51f7a4f3c59f2f862e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1637fe17a976f75bd5935cf12256363b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a1637fe17a976f75bd5935cf12256363b">onActiveListChanged</a> ()</td></tr>
<tr class="separator:a1637fe17a976f75bd5935cf12256363b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9dfff39758747ba12a809575d60822f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac9dfff39758747ba12a809575d60822f">setPane</a> ()</td></tr>
<tr class="separator:ac9dfff39758747ba12a809575d60822f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1abc8eecc07d6bf5ca47e0f6048a4cd"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa1abc8eecc07d6bf5ca47e0f6048a4cd">queueSetPane</a> ()</td></tr>
<tr class="separator:aa1abc8eecc07d6bf5ca47e0f6048a4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa562649c340c7c44fc74c6960b1c4faa"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa562649c340c7c44fc74c6960b1c4faa">onZoomIn</a> ()</td></tr>
<tr class="separator:aa562649c340c7c44fc74c6960b1c4faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac3dd4cb5968cfd4aea06ef5c77d2b3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a2ac3dd4cb5968cfd4aea06ef5c77d2b3">onActiveIndexChanged</a> ()</td></tr>
<tr class="separator:a2ac3dd4cb5968cfd4aea06ef5c77d2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb86c696ccd06b162550e846b226ea3d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adb86c696ccd06b162550e846b226ea3d">onStretchChanged</a> ()</td></tr>
<tr class="separator:adb86c696ccd06b162550e846b226ea3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d9ceed35fe19acb0dcc90d6db2df67"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ad0d9ceed35fe19acb0dcc90d6db2df67">initGrid</a> ()</td></tr>
<tr class="separator:ad0d9ceed35fe19acb0dcc90d6db2df67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12d4717bd38463e0d6682e1e79967e23"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a12d4717bd38463e0d6682e1e79967e23">getType</a> ()</td></tr>
<tr class="separator:a12d4717bd38463e0d6682e1e79967e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288333598224982c32eb4534ef7a25b7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a288333598224982c32eb4534ef7a25b7">onZoomOut</a> ()</td></tr>
<tr class="separator:a288333598224982c32eb4534ef7a25b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff5f2cda7ed13f0873e2ee5a2b99995"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#abff5f2cda7ed13f0873e2ee5a2b99995">AUTOLOAD</a> ()</td></tr>
<tr class="separator:abff5f2cda7ed13f0873e2ee5a2b99995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af167f16100a40b74059b9192651387e3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#af167f16100a40b74059b9192651387e3">onZoomFit</a> ()</td></tr>
<tr class="separator:af167f16100a40b74059b9192651387e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c893b65f2116169c91fd1f7bfa8d761"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a4c893b65f2116169c91fd1f7bfa8d761">setPaneSignal</a> ()</td></tr>
<tr class="separator:a4c893b65f2116169c91fd1f7bfa8d761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcbc80fc1ac6281df9b17e1692cbd421"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adcbc80fc1ac6281df9b17e1692cbd421">recolour</a> ()</td></tr>
<tr class="separator:adcbc80fc1ac6281df9b17e1692cbd421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1818b43459dc25209dbe488cc486977"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac1818b43459dc25209dbe488cc486977">onOverlays</a> ()</td></tr>
<tr class="separator:ac1818b43459dc25209dbe488cc486977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702487754c18b088eebcf46d91f51ede"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a702487754c18b088eebcf46d91f51ede">makeListsModel</a> ()</td></tr>
<tr class="separator:a702487754c18b088eebcf46d91f51ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71eb9ca288009fa11aa7c59e2585080"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab71eb9ca288009fa11aa7c59e2585080">set_plot_min_max_values</a> ()</td></tr>
<tr class="separator:ab71eb9ca288009fa11aa7c59e2585080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0eb6fcd5d088842fa44d3550c64de5"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a2d0eb6fcd5d088842fa44d3550c64de5">onColoursChanged</a> ()</td></tr>
<tr class="separator:a2d0eb6fcd5d088842fa44d3550c64de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76b84c22c686ed91e78b2f7df2f2933"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa76b84c22c686ed91e78b2f7df2f2933">initOutputIndicesCombo</a> ()</td></tr>
<tr class="separator:aa76b84c22c686ed91e78b2f7df2f2933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac577974397bd84f31b99bd0371543d12"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac577974397bd84f31b99bd0371543d12">updateOutputIndicesCombo</a> ()</td></tr>
<tr class="separator:ac577974397bd84f31b99bd0371543d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa548a991d76c79f8a3c4c85affa1e0d7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa548a991d76c79f8a3c4c85affa1e0d7">initListsCombo</a> ()</td></tr>
<tr class="separator:aa548a991d76c79f8a3c4c85affa1e0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38df73f1fcf67911af95af3a3ee305b2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a38df73f1fcf67911af95af3a3ee305b2">showAnalysis</a> ()</td></tr>
<tr class="separator:a38df73f1fcf67911af95af3a3ee305b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dcf275e019f8d28a004091aabe3b35"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa6dcf275e019f8d28a004091aabe3b35">onNeighboursChanged</a> ()</td></tr>
<tr class="separator:aa6dcf275e019f8d28a004091aabe3b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0670bcd36ce8fef1a03901bde67f1d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#afa0670bcd36ce8fef1a03901bde67f1d">screenshot</a> ()</td></tr>
<tr class="separator:afa0670bcd36ce8fef1a03901bde67f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="GUI_2Tabs_2Spatial_8pm_source.html#l00022">22</a> of file <a class="el" href="GUI_2Tabs_2Spatial_8pm_source.html">Spatial.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abff5f2cda7ed13f0873e2ee5a2b99995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::AUTOLOAD </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-AUTOLOAD' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-AUTOLOAD-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-AUTOLOAD-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-AUTOLOAD-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in AUTOLOAD: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#abff5f2cda7ed13f0873e2ee5a2b99995">AUTOLOAD</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $type = ref($self)</div>
<div class="line">                or croak &quot;$self is not an <span class="keywordtype">object</span>\n&quot;;</div>
<div class="line"></div>
<div class="line">    my $method = $AUTOLOAD;</div>
<div class="line">    $method =~ s/.*:<span class="comment">//;   # strip fully-qualified portion</span></div>
<div class="line"></div>
<div class="line">    $method = &quot;SUPER::&quot; . $method;</div>
<div class="line">    return $self-&gt;$method(@_);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9ceb603a9edbd51f7a4f3c59f2f862e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::DESTROY </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-DESTROY' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-DESTROY-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-DESTROY-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-DESTROY-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in DESTROY: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a9ceb603a9edbd51f7a4f3c59f2f862e6">DESTROY</a> {}  #  let the system handle destruction - need <span class="keyword">this</span> <span class="keywordflow">for</span> AUTOLOADER</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">1;</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adeeadb4bbf7e23ecc12e9794983f145c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::get_options_menu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_options_menu' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_options_menu-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_options_menu-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_options_menu-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_options_menu: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adeeadb4bbf7e23ecc12e9794983f145c">get_options_menu</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my $menu = Gtk2::Menu-&gt;new();</div>
<div class="line"></div>
<div class="line">    $menu-&gt;append(Gtk2::MenuItem-&gt;<span class="keyword">new</span>(<span class="stringliteral">&#39;_Cut&#39;</span>));</div>
<div class="line">    $menu-&gt;append(Gtk2::MenuItem-&gt;<span class="keyword">new</span>(<span class="stringliteral">&#39;C_opy&#39;</span>));</div>
<div class="line">    $menu-&gt;append(Gtk2::MenuItem-&gt;<span class="keyword">new</span>(<span class="stringliteral">&#39;_Paste&#39;</span>));</div>
<div class="line"></div>
<div class="line">    $menu-&gt;show_all();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $menu;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  methods aren&#39;t inherited when called as GTK callbacks</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#  so we have to manually inherit them using SUPER::</span></div>
<div class="line"><span class="preprocessor">our $AUTOLOAD;</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a12d4717bd38463e0d6682e1e79967e23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::getType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getType' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getType-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getType-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getType-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getType: 3</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a12d4717bd38463e0d6682e1e79967e23">getType</a> {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;spatial&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ad0d9ceed35fe19acb0dcc90d6db2df67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::initGrid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initGrid' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-initGrid-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initGrid-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initGrid-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in initGrid: 41</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ad0d9ceed35fe19acb0dcc90d6db2df67">initGrid</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $frame   = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;gridFrame&#39;</span>);</div>
<div class="line">    my $hscroll = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;gridHScroll&#39;</span>);</div>
<div class="line">    my $vscroll = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;gridVScroll&#39;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#print &quot;Initialising grid\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Use closure to automatically pass $self (which grid doesn&#39;t know)</span></div>
<div class="line"><span class="preprocessor"></span>    my $hover_closure = sub { $self-&gt;onGridHover(@_); };</div>
<div class="line">    my $click_closure = sub {</div>
<div class="line">        <a class="code" href="classBiodiverse_1_1GUI_1_1CellPopup.html#ae0e0df7c820bad50efd6467efc7bd5fa">Biodiverse::GUI::CellPopup::cellClicked</a>(</div>
<div class="line">            $_[0],</div>
<div class="line">            $self-&gt;{grid}-&gt;getBaseStruct,</div>
<div class="line">        );</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    $self-&gt;{grid} = <a class="code" href="classBiodiverse_1_1GUI_1_1Grid.html">Biodiverse::GUI::Grid</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1Grid.html#a5fb262164b146ce78e01362c68d34ed9">new</a>(</div>
<div class="line">        $frame,</div>
<div class="line">        $hscroll,</div>
<div class="line">        $vscroll,</div>
<div class="line">        1,</div>
<div class="line">        0,</div>
<div class="line">        $hover_closure,</div>
<div class="line">        $click_closure</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{existing}) {</div>
<div class="line">        my $data = $self-&gt;{output_ref};</div>
<div class="line">        my $elt_count = $data-&gt;get_element_count;</div>
<div class="line">        my $completed = $data-&gt;get_param (<span class="stringliteral">&#39;COMPLETED&#39;</span>);</div>
<div class="line"><span class="preprocessor">        #  backwards compatibility - old versions did not have this flag</span></div>
<div class="line"><span class="preprocessor"></span>        $completed = 1 <span class="keywordflow">if</span> not defined $completed;  </div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (defined $data and $elt_count and $completed) {</div>
<div class="line">            $self-&gt;{grid}-&gt;setBaseStruct ($data);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa548a991d76c79f8a3c4c85affa1e0d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::initListsCombo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initListsCombo' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-initListsCombo-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initListsCombo-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initListsCombo-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in initListsCombo: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa548a991d76c79f8a3c4c85affa1e0d7">initListsCombo</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    my $combo = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboLists&#39;</span>);</div>
<div class="line">    my $renderer = Gtk2::CellRendererText-&gt;new();</div>
<div class="line">    $combo-&gt;pack_start($renderer, 1);</div>
<div class="line">    $combo-&gt;add_attribute($renderer, text =&gt; 0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Only do this if we aren&#39;t a new spatial analysis...</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{existing}) {</div>
<div class="line">        $self-&gt;updateListsCombo();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa76b84c22c686ed91e78b2f7df2f2933"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::initOutputIndicesCombo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initOutputIndicesCombo' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-initOutputIndicesCombo-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initOutputIndicesCombo-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initOutputIndicesCombo-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in initOutputIndicesCombo: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa76b84c22c686ed91e78b2f7df2f2933">initOutputIndicesCombo</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my $combo = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboIndices&#39;</span>);</div>
<div class="line">    my $renderer = Gtk2::CellRendererText-&gt;new();</div>
<div class="line">    $combo-&gt;pack_start($renderer, 1);</div>
<div class="line">    $combo-&gt;add_attribute($renderer, text =&gt; 0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Only do this if we aren&#39;t a new spatial analysis...</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{existing}) {</div>
<div class="line">        $self-&gt;updateOutputIndicesCombo();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a702487754c18b088eebcf46d91f51ede"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::makeListsModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeListsModel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeListsModel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeListsModel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeListsModel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeListsModel: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a702487754c18b088eebcf46d91f51ede">makeListsModel</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $output_ref = $self-&gt;{output_ref};</div>
<div class="line"></div>
<div class="line">    my $lists = $output_ref-&gt;get_lists_across_elements (</div>
<div class="line">        no_private =&gt; 1,</div>
<div class="line">        max_search =&gt; undef,</div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    #print &quot;Making lists model\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print join (&quot; &quot;, @lists) . &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Make model for combobox</span></div>
<div class="line"><span class="preprocessor"></span>    my $model = Gtk2::ListStore-&gt;new(<span class="stringliteral">&#39;Glib::String&#39;</span>);</div>
<div class="line">    <span class="keywordflow">foreach</span> my $x (sort @$lists) {</div>
<div class="line">        my $iter = $model-&gt;append;</div>
<div class="line">        $model-&gt;set($iter, 0, $x);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $model;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adb964f63f9af1eb01801723fa1544427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::makeOutputIndicesModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeOutputIndicesModel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeOutputIndicesModel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeOutputIndicesModel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeOutputIndicesModel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeOutputIndicesModel: 51</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adb964f63f9af1eb01801723fa1544427">makeOutputIndicesModel</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $list_name = $self-&gt;{selected_list};</div>
<div class="line">    my $output_ref = $self-&gt;{output_ref};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # SWL: Get possible analyses by sampling all elements - this allows for asymmetric lists</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #my $bd_ref = $output_ref-&gt;get_param (&#39;BASEDATA_REF&#39;) || $output_ref;</span></div>
<div class="line"><span class="preprocessor"></span>    my $elements = $output_ref-&gt;get_element_hash() || {};</div>
<div class="line">    </div>
<div class="line">    my %analyses_tmp;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $elt (keys %$elements) {</div>
<div class="line"><span class="preprocessor">        #%analyses_tmp = (%analyses_tmp, %{$elements-&gt;{$elt}{$list_name}});</span></div>
<div class="line"><span class="preprocessor"></span>        next <span class="keywordflow">if</span> ! exists $elements-&gt;{$elt}{$list_name};</div>
<div class="line">        my $hash = $elements-&gt;{$elt}{$list_name};</div>
<div class="line">        <span class="keywordflow">if</span> (scalar keys %$hash) {</div>
<div class="line">            @analyses_tmp{keys %$hash} = values %$hash;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  are they numeric?  if so then we sort differently.</span></div>
<div class="line"><span class="preprocessor"></span>    my $numeric = 1;</div>
<div class="line">    </div>
<div class="line">    CHECK_NUMERIC:</div>
<div class="line">    <span class="keywordflow">foreach</span> my $model (keys %analyses_tmp) {</div>
<div class="line">        <span class="keywordflow">if</span> (not looks_like_number ($model)) {</div>
<div class="line">            $numeric = 0;</div>
<div class="line">            last CHECK_NUMERIC;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my @analyses;</div>
<div class="line">    <span class="keywordflow">if</span> (scalar keys %analyses_tmp) {</div>
<div class="line">        @analyses = $numeric</div>
<div class="line">            ? sort {$a &lt;=&gt; $b} keys %analyses_tmp   #  numeric</div>
<div class="line">            : sort {$a cmp $b} keys %analyses_tmp;  #  text</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">#print &quot;Making ouput analysis model\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#print join (&quot; &quot;, @analyses) . &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line"><span class="preprocessor">    # Make model for combobox</span></div>
<div class="line"><span class="preprocessor"></span>    my $model = Gtk2::ListStore-&gt;new(<span class="stringliteral">&#39;Glib::String&#39;</span>);</div>
<div class="line">    <span class="keywordflow">foreach</span> my $x (@analyses) {</div>
<div class="line">        my $iter = $model-&gt;append;</div>
<div class="line"><span class="preprocessor">        #print ($model-&gt;get($iter, 0), &quot;\n&quot;) if defined $model-&gt;get($iter, 0);    #debug</span></div>
<div class="line"><span class="preprocessor"></span>        $model-&gt;set($iter, 0, $x);</div>
<div class="line"><span class="preprocessor">        #print ($model-&gt;get($iter, 0), &quot;\n&quot;) if defined $model-&gt;get($iter, 0);      #debug</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $model;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0101d58dc0a00124d4a7f27bd79bce1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in new: 213</span></div>
<div class="line"><span class="preprocessor"></span>sub <span class="keyword">new</span> {</div>
<div class="line">    my $class = shift;</div>
<div class="line">    my $output_ref = shift; # will be undef <span class="keywordflow">if</span> none specified</div>
<div class="line">    </div>
<div class="line">    my $self = {gui =&gt; <a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html">Biodiverse::GUI::GUIManager</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html#ac3e7ca0c649afeb296bb870ab3842d9d">instance</a>()};</div>
<div class="line">    $self-&gt;{project} = $self-&gt;{gui}-&gt;getProject();</div>
<div class="line">    bless $self, $class;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Load _new_ widgets from glade </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # (we can have many Analysis tabs open, for example. These have a different object/widgets)</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{xmlPage}  = Gtk2::GladeXML-&gt;new($self-&gt;{gui}-&gt;getGladeFile, <span class="stringliteral">&#39;vpaneSpatial&#39;</span>);</div>
<div class="line">    $self-&gt;{xmlLabel} = Gtk2::GladeXML-&gt;new($self-&gt;{gui}-&gt;getGladeFile, <span class="stringliteral">&#39;hboxSpatialLabel&#39;</span>);</div>
<div class="line"></div>
<div class="line">    my $page  = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;vpaneSpatial&#39;</span>);</div>
<div class="line">    my $label = $self-&gt;{xmlLabel}-&gt;get_widget(<span class="stringliteral">&#39;hboxSpatialLabel&#39;</span>);</div>
<div class="line">    my $label_text = $self-&gt;{xmlLabel}-&gt;get_widget(<span class="stringliteral">&#39;lblSpatialName&#39;</span>)-&gt;get_text;</div>
<div class="line">    my $label_widget = Gtk2::Label-&gt;new ($label_text);</div>
<div class="line">    $self-&gt;{tab_menu_label} = $label_widget;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Add to notebook</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;add_to_notebook (</div>
<div class="line">        page         =&gt; $page,</div>
<div class="line">        label        =&gt; $label,</div>
<div class="line">        label_widget =&gt; $label_widget,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    my ($elt_count, $completed);  #  used to control display</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not defined $output_ref) {</div>
<div class="line"><span class="preprocessor">        # We&#39;re being called as a NEW output</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # Generate a new output name</span></div>
<div class="line"><span class="preprocessor"></span>        my $bd = $self-&gt;{basedata_ref} = $self-&gt;{project}-&gt;getSelectedBaseData;</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (not blessed ($bd)) {  #  <span class="keyword">this</span> should be fixed now</div>
<div class="line">            $self-&gt;onClose;</div>
<div class="line">            croak <span class="stringliteral">&quot;Basedata ref undefined - click on the basedata object in &quot;</span></div>
<div class="line">                    . <span class="stringliteral">&quot;the outputs tab to select it (this is a bug)\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line"><span class="preprocessor">        #  check if it has rand outputs already and warn the user</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (my @a = $bd-&gt;get_randomisation_output_refs) {</div>
<div class="line">            my $response</div>
<div class="line">                = $self-&gt;{gui}-&gt;warn_outputs_exist_if_randomisation_run(</div>
<div class="line">                    $self-&gt;{basedata_ref}-&gt;get_param (<span class="stringliteral">&#39;NAME&#39;</span>)</div>
<div class="line">                );</div>
<div class="line">            <span class="keywordflow">if</span> (not $response eq <span class="stringliteral">&#39;yes&#39;</span>) {</div>
<div class="line">                $self-&gt;onClose;</div>
<div class="line">                croak <span class="stringliteral">&quot;User cancelled operation\n&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $self-&gt;{output_name} = $self-&gt;{project}-&gt;makeNewOutputName(</div>
<div class="line">            $self-&gt;{basedata_ref},</div>
<div class="line">            <span class="stringliteral">&#39;Spatial&#39;</span></div>
<div class="line">        );</div>
<div class="line">        print <span class="stringliteral">&quot;[Spatial tab] New spatial output &quot;</span> . $self-&gt;{output_name} . <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">        $self-&gt;queueSetPane(1);</div>
<div class="line">        $self-&gt;{existing} = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">        # We&#39;re being called to show an EXISTING output</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # Register as a tab for this output</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;registerInOutputsModel($output_ref, $self);</div>
<div class="line">        </div>
<div class="line">        </div>
<div class="line">        $elt_count = $output_ref-&gt;get_element_count;</div>
<div class="line">        $completed = $output_ref-&gt;get_param (<span class="stringliteral">&#39;COMPLETED&#39;</span>);</div>
<div class="line"><span class="preprocessor">        #  backwards compatibility - old versions did not have this flag</span></div>
<div class="line"><span class="preprocessor"></span>        $completed <span class="comment">//= 1;</span></div>
<div class="line"></div>
<div class="line">        $self-&gt;{output_name} = $output_ref-&gt;get_param(<span class="stringliteral">&#39;NAME&#39;</span>);</div>
<div class="line">        $self-&gt;{basedata_ref} = $output_ref-&gt;get_param(<span class="stringliteral">&#39;BASEDATA_REF&#39;</span>);</div>
<div class="line">        print <span class="stringliteral">&quot;[Spatial tab] Existing spatial output - &quot;</span> . $self-&gt;{output_name}</div>
<div class="line">              . <span class="stringliteral">&quot;. Part of Basedata set - &quot;</span></div>
<div class="line">              . ($self-&gt;{basedata_ref}-&gt;get_param (<span class="stringliteral">&#39;NAME&#39;</span>) || <span class="stringliteral">&quot;no name&quot;</span>)</div>
<div class="line">              . <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($elt_count and $completed) {</div>
<div class="line">            $self-&gt;queueSetPane(0.01);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            $self-&gt;queueSetPane(1);</div>
<div class="line">        }</div>
<div class="line">        $self-&gt;{existing} = 1;</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;{output_ref} = $output_ref;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Initialise widgets</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{title_widget} = $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;txtSpatialName&#39;</span>);</div>
<div class="line">    $self-&gt;{label_widget} = $self-&gt;{xmlLabel}-&gt;get_widget(<span class="stringliteral">&#39;lblSpatialName&#39;</span>);</div>
<div class="line"></div>
<div class="line">    $self-&gt;{title_widget}-&gt;set_text($self-&gt;{output_name} );</div>
<div class="line">    $self-&gt;{label_widget}-&gt;set_text($self-&gt;{output_name} );</div>
<div class="line">    $self-&gt;{tab_menu_label}-&gt;set_text($self-&gt;{output_name} );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Spatial parameters</span></div>
<div class="line"><span class="preprocessor"></span>    my ($initial_sp1, $initial_sp2);</div>
<div class="line">    my $initial_def1 = $NULL_STRING;</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{existing}) {</div>
<div class="line">        </div>
<div class="line">        my $spatial_params = $output_ref-&gt;get_param (<span class="stringliteral">&#39;SPATIAL_PARAMS&#39;</span>);</div>
<div class="line"><span class="preprocessor">        #  allow for empty conditions</span></div>
<div class="line"><span class="preprocessor"></span>        $initial_sp1</div>
<div class="line">            = defined $spatial_params-&gt;[0]</div>
<div class="line">            ? $spatial_params-&gt;[0]-&gt;get_conditions_unparsed()</div>
<div class="line">            : $NULL_STRING;</div>
<div class="line">        $initial_sp2</div>
<div class="line">            = defined $spatial_params-&gt;[1]</div>
<div class="line">            ? $spatial_params-&gt;[1]-&gt;get_conditions_unparsed()</div>
<div class="line">            : $NULL_STRING;</div>
<div class="line">        </div>
<div class="line">        my $definition_query = $output_ref-&gt;get_param (<span class="stringliteral">&#39;DEFINITION_QUERY&#39;</span>);</div>
<div class="line">        $initial_def1</div>
<div class="line">            = defined $definition_query</div>
<div class="line">            ? $definition_query-&gt;get_conditions_unparsed()</div>
<div class="line">            : $NULL_STRING;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        my $cell_sizes = $self-&gt;{basedata_ref}-&gt;get_param(<span class="stringliteral">&#39;CELL_SIZES&#39;</span>);</div>
<div class="line">        my $cellX = $cell_sizes-&gt;[0];</div>
<div class="line">        $initial_sp1 = <span class="stringliteral">&#39;sp_self_only ()&#39;</span>;</div>
<div class="line">        $initial_sp2 = <span class="stringliteral">&quot;sp_circle (radius =&gt; $cellX)&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{spatial1} = <a class="code" href="classBiodiverse_1_1GUI_1_1SpatialParams.html">Biodiverse::GUI::SpatialParams</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1SpatialParams.html#ac7c7e79cae1f399727cba02af22a2d70">new</a>($initial_sp1);</div>
<div class="line">    my $hide_flag = not (length $initial_sp2);</div>
<div class="line">    $self-&gt;{spatial2} = <a class="code" href="classBiodiverse_1_1GUI_1_1SpatialParams.html">Biodiverse::GUI::SpatialParams</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1SpatialParams.html#ac7c7e79cae1f399727cba02af22a2d70">new</a>($initial_sp2, $hide_flag);</div>
<div class="line"></div>
<div class="line">    $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;frameSpatialParams1&#39;</span>)-&gt;add(</div>
<div class="line">        $self-&gt;{spatial1}-&gt;get_widget</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;frameSpatialParams2&#39;</span>)-&gt;add(</div>
<div class="line">        $self-&gt;{spatial2}-&gt;get_widget</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    $hide_flag = not (length $initial_def1);</div>
<div class="line">    $self-&gt;{definition_query1}</div>
<div class="line">        = <a class="code" href="classBiodiverse_1_1GUI_1_1SpatialParams.html">Biodiverse::GUI::SpatialParams</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1SpatialParams.html#ac7c7e79cae1f399727cba02af22a2d70">new</a>($initial_def1, $hide_flag, <span class="stringliteral">&#39;is_def_query&#39;</span>);</div>
<div class="line">    $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;frameDefinitionQuery1&#39;</span>)-&gt;add(</div>
<div class="line">        $self-&gt;{definition_query1}-&gt;get_widget</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  add the basedata ref</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $sp (qw /spatial1 spatial2 definition_query1/) {</div>
<div class="line">        $self-&gt;{$sp}-&gt;set_param(BASEDATA_REF =&gt; $self-&gt;{basedata_ref});</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hover_neighbours} = <span class="stringliteral">&#39;Both&#39;</span>;</div>
<div class="line">    $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboNeighbours&#39;</span>) -&gt;set_active(3);</div>
<div class="line">    $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboSpatialStretch&#39;</span>)-&gt;set_active(0);</div>
<div class="line">    $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboColours&#39;</span>)    -&gt;set_active(0);</div>
<div class="line">    $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;colourButton&#39;</span>)    -&gt;set_color(</div>
<div class="line">        Gtk2::Gdk::Color-&gt;<span class="keyword">new</span>(65535,0,0)  # red</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line"></div>
<div class="line">    $self-&gt;{calculations_model}</div>
<div class="line">        = <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1CalculationsTree.html#a4be6a44f753d09dc37029b63915c0a66">Biodiverse::GUI::Tabs::CalculationsTree::makeCalculationsModel</a> (</div>
<div class="line">            $self-&gt;{basedata_ref},</div>
<div class="line">            $output_ref,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1CalculationsTree.html#ad2bf00c58cc81b0d51a7993d5a6a8cf5">Biodiverse::GUI::Tabs::CalculationsTree::initCalculationsTree</a>(</div>
<div class="line">        $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;treeCalculations&#39;</span>),</div>
<div class="line">        $self-&gt;{calculations_model},</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  only set it up if it exists (we get errors otherwise)</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($completed and $elt_count) {</div>
<div class="line">        eval {</div>
<div class="line">            $self-&gt;initGrid();</div>
<div class="line">        };</div>
<div class="line">        <span class="keywordflow">if</span> ($EVAL_ERROR) {</div>
<div class="line">            $self-&gt;{gui}-&gt;report_error ($EVAL_ERROR);</div>
<div class="line">            $self-&gt;onClose;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;initListsCombo();</div>
<div class="line">    $self-&gt;initOutputIndicesCombo();</div>
<div class="line">    </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  NEED TO CONVERT THIS TO A HASH BASED LOOP, as per Clustering.pm</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # Connect signals</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{xmlLabel}-&gt;get_widget(<span class="stringliteral">&#39;btnSpatialClose&#39;</span>)-&gt;signal_connect_swapped(clicked   =&gt; \&amp;onClose,                 $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;btnSpatialRun&#39;</span>)  -&gt;signal_connect_swapped(clicked   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac5ad754a075e5ac06c779e273b863042">onRun</a>,                   $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;btnOverlays&#39;</span>)    -&gt;signal_connect_swapped(clicked   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac1818b43459dc25209dbe488cc486977">onOverlays</a>,              $self);</div>
<div class="line"><span class="preprocessor">    #  btnAddParam gone for now - retrieve from glade file pre svn 1206</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;{xmlPage} -&gt;get_widget(&#39;btnAddParam&#39;)    -&gt;signal_connect_swapped(clicked   =&gt; \&amp;onAddParam,              $self);</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;txtSpatialName&#39;</span>) -&gt;signal_connect_swapped(changed   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab23c8ed405cb9bcc54c34b4655d42736">onNameChanged</a>,           $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;comboIndices&#39;</span>)-&gt;signal_connect_swapped(changed =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a2ac3dd4cb5968cfd4aea06ef5c77d2b3">onActiveIndexChanged</a>, $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;comboLists&#39;</span>)     -&gt;signal_connect_swapped(changed   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a1637fe17a976f75bd5935cf12256363b">onActiveListChanged</a>,     $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;comboColours&#39;</span>)   -&gt;signal_connect_swapped(changed   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a2d0eb6fcd5d088842fa44d3550c64de5">onColoursChanged</a>,        $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;comboNeighbours&#39;</span>)-&gt;signal_connect_swapped(changed   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa6dcf275e019f8d28a004091aabe3b35">onNeighboursChanged</a>,     $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;comboSpatialStretch&#39;</span>)-&gt;signal_connect_swapped(changed   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adb86c696ccd06b162550e846b226ea3d">onStretchChanged</a>,     $self);</div>
<div class="line"></div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;btnZoomIn&#39;</span>)      -&gt;signal_connect_swapped(clicked   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa562649c340c7c44fc74c6960b1c4faa">onZoomIn</a>,                $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;btnZoomOut&#39;</span>)     -&gt;signal_connect_swapped(clicked   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a288333598224982c32eb4534ef7a25b7">onZoomOut</a>,               $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;btnZoomFit&#39;</span>)     -&gt;signal_connect_swapped(clicked   =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#af167f16100a40b74059b9192651387e3">onZoomFit</a>,               $self);</div>
<div class="line">    $self-&gt;{xmlPage} -&gt;get_widget(<span class="stringliteral">&#39;colourButton&#39;</span>)   -&gt;signal_connect_swapped(color_set =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#acd74921ce27fb0b03445ca1d77ae2bf8">onColourSet</a>,             $self);</div>
<div class="line">    </div>
<div class="line"></div>
<div class="line">    $self-&gt;set_frame_label_widget;</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #my $options_menu = $self-&gt;{xmlPage}-&gt;get_widget(&#39;menu_spatial_grid_options&#39;);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$options_menu-&gt;set_menu ($self-&gt;get_options_menu);</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line"></div>
<div class="line">    print <span class="stringliteral">&quot;[Spatial tab] - Loaded tab - Spatial Analysis\n&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $self;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab9f47b9ea9013bf8c9e374c129935050"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::on_show_hide_parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-on_show_hide_parameters' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-on_show_hide_parameters-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-on_show_hide_parameters-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-on_show_hide_parameters-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in on_show_hide_parameters: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab9f47b9ea9013bf8c9e374c129935050">on_show_hide_parameters</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my $frame = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;frame_spatial_parameters&#39;</span>);</div>
<div class="line">    my $widget = $frame-&gt;get_label_widget;</div>
<div class="line">    my $active = $widget-&gt;get_active;</div>
<div class="line"></div>
<div class="line">    my $table = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;tbl_spatial_parameters&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($active) {</div>
<div class="line">        $table-&gt;hide;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $table-&gt;show;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2ac3dd4cb5968cfd4aea06ef5c77d2b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onActiveIndexChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onActiveIndexChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onActiveIndexChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onActiveIndexChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onActiveIndexChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onActiveIndexChanged: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a2ac3dd4cb5968cfd4aea06ef5c77d2b3">onActiveIndexChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $combo = shift</div>
<div class="line">              ||  $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboIndices&#39;</span>);</div>
<div class="line"></div>
<div class="line">    my $iter = $combo-&gt;get_active_iter() || <span class="keywordflow">return</span>;</div>
<div class="line">    my ($index) = $self-&gt;{output_indices_model}-&gt;get($iter, 0);</div>
<div class="line">    $self-&gt;{selected_index} = $index;  #  should be called calculation</div>
<div class="line"></div>
<div class="line">    $self-&gt;set_plot_min_max_values;</div>
<div class="line"></div>
<div class="line">    $self-&gt;recolour();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a1637fe17a976f75bd5935cf12256363b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onActiveListChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onActiveListChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onActiveListChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onActiveListChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onActiveListChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onActiveListChanged: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a1637fe17a976f75bd5935cf12256363b">onActiveListChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $combo = shift;</div>
<div class="line"></div>
<div class="line">    my $iter = $combo-&gt;get_active_iter() || <span class="keywordflow">return</span>;</div>
<div class="line">    my ($list) = $self-&gt;{output_lists_model}-&gt;get($iter, 0);</div>
<div class="line"></div>
<div class="line">    $self-&gt;{selected_list} = $list;</div>
<div class="line">    $self-&gt;updateOutputIndicesCombo();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0bb31cd4ae247942b46e78b9b6eaf2d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onAddParam </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onAddParam' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onAddParam-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onAddParam-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onAddParam-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onAddParam: 34</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a0bb31cd4ae247942b46e78b9b6eaf2d5">onAddParam</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $button = shift; # the <span class="stringliteral">&quot;add param&quot;</span> button</div>
<div class="line"></div>
<div class="line">    my $table = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;tblParams&#39;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Add an extra row</span></div>
<div class="line"><span class="preprocessor"></span>    my ($rows) = $table-&gt;get(<span class="stringliteral">&#39;n-rows&#39;</span>);</div>
<div class="line">    print <span class="stringliteral">&quot;currently has $rows rows. &quot;</span>;</div>
<div class="line">    $rows++;</div>
<div class="line">    $table-&gt;set(<span class="stringliteral">&#39;n-rows&#39;</span> =&gt; $rows);</div>
<div class="line">    print <span class="stringliteral">&quot;now has $rows rows\n&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Move the button to the last row</span></div>
<div class="line"><span class="preprocessor"></span>    $table-&gt;remove($button);</div>
<div class="line">    $table-&gt;attach($button, 0, 1, $rows, $rows + 1, [], [], 0, 0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make a combobox and a label to set the parameter</span></div>
<div class="line"><span class="preprocessor"></span>    my $combo = Gtk2::ComboBox-&gt;new_text;</div>
<div class="line">    my $entry = Gtk2::Entry-&gt;new;</div>
<div class="line"></div>
<div class="line">    $table-&gt;attach($combo, 0, 1, $rows - 1, $rows, <span class="stringliteral">&#39;fill&#39;</span>, [], 0, 0);</div>
<div class="line">    $table-&gt;attach($entry, 1, 2, $rows - 1, $rows, <span class="stringliteral">&#39;fill&#39;</span>, [], 0, 0);</div>
<div class="line"></div>
<div class="line">    $combo-&gt;show; $entry-&gt;show;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Add the optional parameters</span></div>
<div class="line"><span class="preprocessor"></span>    $combo-&gt;prepend_text(<span class="stringliteral">&quot;..these are not yet heeded..&quot;</span>);</div>
<div class="line">    $combo-&gt;prepend_text(<span class="stringliteral">&quot;Use Matrix&quot;</span>);</div>
<div class="line">    $combo-&gt;prepend_text(<span class="stringliteral">&quot;Max Richness&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2d0eb6fcd5d088842fa44d3550c64de5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onColoursChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onColoursChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onColoursChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onColoursChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onColoursChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onColoursChanged: 8</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a2d0eb6fcd5d088842fa44d3550c64de5">onColoursChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $colours = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboColours&#39;</span>)-&gt;get_active_text();</div>
<div class="line">    $self-&gt;{grid}-&gt;setLegendMode($colours);</div>
<div class="line">    $self-&gt;recolour();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="acd74921ce27fb0b03445ca1d77ae2bf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onColourSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onColourSet' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onColourSet-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onColourSet-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onColourSet-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onColourSet: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#acd74921ce27fb0b03445ca1d77ae2bf8">onColourSet</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $button = shift;</div>
<div class="line"></div>
<div class="line">    my $combo_colours_hue_choice = 1;</div>
<div class="line"></div>
<div class="line">    my $widget = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboColours&#39;</span>);</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  a bodge to set the active colour mode to Hue</span></div>
<div class="line"><span class="preprocessor"></span>    my $active = $widget-&gt;get_active;</div>
<div class="line">    </div>
<div class="line">    $widget-&gt;set_active($combo_colours_hue_choice);</div>
<div class="line">    $self-&gt;{grid}-&gt;setLegendHue($button-&gt;get_color());</div>
<div class="line">    $self-&gt;recolour();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3284236701b01bc6ef01d1ee607703ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onGridHover </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onGridHover' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onGridHover-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onGridHover-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onGridHover-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onGridHover: 62</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a3284236701b01bc6ef01d1ee607703ec">onGridHover</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $element = shift;</div>
<div class="line"></div>
<div class="line">    my $output_ref = $self-&gt;{output_ref};</div>
<div class="line">    my $text = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">    </div>
<div class="line">    my $bd_ref = $output_ref-&gt;get_param (<span class="stringliteral">&#39;BASEDATA_REF&#39;</span>) || $output_ref;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($element) {</div>
<div class="line">        no warnings <span class="stringliteral">&#39;uninitialized&#39;</span>;  #  sometimes the selected_list or analysis is undefined</div>
<div class="line"><span class="preprocessor">        # Update the Value label</span></div>
<div class="line"><span class="preprocessor"></span>        my $elts = $output_ref-&gt;get_element_hash();</div>
<div class="line"></div>
<div class="line">        my $val = $elts-&gt;{$element}{ $self-&gt;{selected_list} }{$self-&gt;{selected_index}};</div>
<div class="line"></div>
<div class="line">        $text = sprintf <span class="stringliteral">&#39;&lt;b&gt;%s, Output - %s: &lt;/b&gt;&#39;</span>,</div>
<div class="line">            $element,</div>
<div class="line">            $self-&gt;{selected_index};</div>
<div class="line">        $text .= defined $val</div>
<div class="line">            ? $self-&gt;format_number_for_display (number =&gt; $val)</div>
<div class="line">            : <span class="stringliteral">&#39;value is undefined&#39;</span>;</div>
<div class="line"></div>
<div class="line">        $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;lblOutput&#39;</span>)-&gt;set_markup($text);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Mark out neighbours</span></div>
<div class="line"><span class="preprocessor"></span>        my $neighbours = $self-&gt;{hover_neighbours};</div>
<div class="line">        </div>
<div class="line"><span class="preprocessor">        #  take advantage of the caching now in use - let sp_calc handle these calcs</span></div>
<div class="line"><span class="preprocessor"></span>        my @nbr_list;</div>
<div class="line">        $nbr_list[0] = $output_ref-&gt;get_list_values (</div>
<div class="line">            element =&gt; $element,</div>
<div class="line">            list    =&gt; <span class="stringliteral">&#39;_NBR_SET1&#39;</span>,</div>
<div class="line">        );</div>
<div class="line">        $nbr_list[1] = $output_ref-&gt;get_list_values (</div>
<div class="line">            element =&gt; $element,</div>
<div class="line">            list    =&gt; <span class="stringliteral">&#39;_NBR_SET2&#39;</span>,</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        my $nbrs_inner = $nbr_list[0] || [];</div>
<div class="line">        my $nbrs_outer = $nbr_list[1] || [];  #  an empty list by <span class="keywordflow">default</span></div>
<div class="line"></div>
<div class="line">        my (%nbrs_hash_inner, %nbrs_hash_outer);</div>
<div class="line">        @nbrs_hash_inner{ @$nbrs_inner } = undef; # convert to hash <span class="keyword">using</span> a hash slice (thanks google)</div>
<div class="line">        @nbrs_hash_outer{ @$nbrs_outer } = undef; # convert to hash <span class="keyword">using</span> a hash slice (thanks google)</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($neighbours eq <span class="stringliteral">&#39;Set1&#39;</span> || $neighbours eq <span class="stringliteral">&#39;Both&#39;</span>) {</div>
<div class="line">            $self-&gt;{grid}-&gt;markIfExists(\%nbrs_hash_inner, <span class="stringliteral">&#39;circle&#39;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($neighbours eq <span class="stringliteral">&#39;Set2&#39;</span> || $neighbours eq <span class="stringliteral">&#39;Both&#39;</span>) {</div>
<div class="line">            $self-&gt;{grid}-&gt;markIfExists(\%nbrs_hash_outer, <span class="stringliteral">&#39;minus&#39;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $self-&gt;{grid}-&gt;markIfExists({}, <span class="stringliteral">&#39;circle&#39;</span>);</div>
<div class="line">        $self-&gt;{grid}-&gt;markIfExists({}, <span class="stringliteral">&#39;minus&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab23c8ed405cb9bcc54c34b4655d42736"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onNameChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onNameChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onNameChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onNameChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onNameChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onNameChanged: 55</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab23c8ed405cb9bcc54c34b4655d42736">onNameChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $xml_page = $self-&gt;{xmlPage};</div>
<div class="line">    my $name = $xml_page-&gt;get_widget(<span class="stringliteral">&#39;txtSpatialName&#39;</span>)-&gt;get_text();</div>
<div class="line"></div>
<div class="line">    my $label_widget = $self-&gt;{xmlLabel}-&gt;get_widget(<span class="stringliteral">&#39;lblSpatialName&#39;</span>);</div>
<div class="line">    $label_widget-&gt;set_text($name);</div>
<div class="line"></div>
<div class="line">    my $tab_menu_label = $self-&gt;{tab_menu_label};</div>
<div class="line">    $tab_menu_label-&gt;set_text($name);</div>
<div class="line"></div>
<div class="line">    my $param_widget</div>
<div class="line">        = $xml_page-&gt;get_widget(<span class="stringliteral">&#39;lbl_parameter_spatial_name&#39;</span>);</div>
<div class="line">    $param_widget-&gt;set_markup(<span class="stringliteral">&quot;&lt;b&gt;Name&lt;/b&gt;&quot;</span>);</div>
<div class="line"></div>
<div class="line">    my $bd = $self-&gt;{basedata_ref};</div>
<div class="line"></div>
<div class="line">    my $name_in_use = $bd-&gt;get_spatial_output_ref (name =&gt; $name);</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  make things go red</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($name_in_use) {</div>
<div class="line"><span class="preprocessor">        #  colour the label red if the list exists</span></div>
<div class="line"><span class="preprocessor"></span>        my $label = $name;</div>
<div class="line">        my $span_leader = <span class="stringliteral">&#39;&lt;span foreground=&quot;red&quot;&gt;&#39;</span>;</div>
<div class="line">        my $span_ender  = <span class="stringliteral">&#39; &lt;b&gt;Name exists&lt;/b&gt;&lt;/span&gt;&#39;</span>;</div>
<div class="line"></div>
<div class="line">        $label =  $span_leader . $label . $span_ender;</div>
<div class="line">        $label_widget-&gt;set_markup ($label);</div>
<div class="line">        </div>
<div class="line">        $param_widget-&gt;set_markup (<span class="stringliteral">&quot;$span_leader &lt;b&gt;Name &lt;/b&gt;$span_ender&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # rename</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{existing}) {</div>
<div class="line">        my $object = $self-&gt;{output_ref};</div>
<div class="line">        eval {</div>
<div class="line">            $bd-&gt;rename_output(</div>
<div class="line">                output   =&gt; $object,</div>
<div class="line">                new_name =&gt; $name</div>
<div class="line">            );</div>
<div class="line">        };</div>
<div class="line">        <span class="keywordflow">if</span> ($EVAL_ERROR) {</div>
<div class="line">            $self-&gt;{gui}-&gt;report_error ($EVAL_ERROR);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $self-&gt;{project}-&gt;updateOutputName( $object );</div>
<div class="line">        $self-&gt;{output_name} = $name;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa6dcf275e019f8d28a004091aabe3b35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onNeighboursChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onNeighboursChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onNeighboursChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onNeighboursChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onNeighboursChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onNeighboursChanged: 22</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa6dcf275e019f8d28a004091aabe3b35">onNeighboursChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $sel = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboNeighbours&#39;</span>)-&gt;get_active_text();</div>
<div class="line">    $self-&gt;{hover_neighbours} = $sel;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Turn off markings if deselected</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($sel eq <span class="stringliteral">&#39;Set1&#39;</span> || $sel eq <span class="stringliteral">&#39;Off&#39;</span>) {</div>
<div class="line">        $self-&gt;{grid}-&gt;markIfExists({}, <span class="stringliteral">&#39;minus&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($sel eq <span class="stringliteral">&#39;Set2&#39;</span> || $sel eq <span class="stringliteral">&#39;Off&#39;</span>) {</div>
<div class="line">        $self-&gt;{grid}-&gt;markIfExists({}, <span class="stringliteral">&#39;circle&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    ##  this is a dirty bodge for testing purposes</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #if ($sel =~ /colour/) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    $self-&gt;{grid}-&gt;set_cell_outline_colour;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #}</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  should be called onSatSet</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ac1818b43459dc25209dbe488cc486977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onOverlays </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onOverlays' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onOverlays-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onOverlays-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onOverlays-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onOverlays: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac1818b43459dc25209dbe488cc486977">onOverlays</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $button = shift;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classBiodiverse_1_1GUI_1_1Overlays.html#ab29e422d6df872f9e17ff7682e8e81bc">Biodiverse::GUI::Overlays::showDialog</a>( $self-&gt;{grid} );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ac5ad754a075e5ac06c779e273b863042"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onRun </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onRun' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onRun-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onRun-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onRun-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onRun: 129</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac5ad754a075e5ac06c779e273b863042">onRun</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Load settings...</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{output_name} = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;txtSpatialName&#39;</span>)-&gt;get_text();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Get calculations to run</span></div>
<div class="line"><span class="preprocessor"></span>    my @toRun</div>
<div class="line">        = <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1CalculationsTree.html#ac143c361a3758f7c32c5e07ad1561d3f">Biodiverse::GUI::Tabs::CalculationsTree::getCalculationsToRun</a>( $self-&gt;{calculations_model} );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (scalar @toRun == 0) {</div>
<div class="line">        my $dlg = Gtk2::MessageDialog-&gt;new(</div>
<div class="line">            undef,</div>
<div class="line">            <span class="stringliteral">&#39;modal&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;error&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;close&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;No calculations selected&#39;</span>,</div>
<div class="line">        );</div>
<div class="line">        $dlg-&gt;run();</div>
<div class="line">        $dlg-&gt;destroy();</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Check spatial syntax</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ($self-&gt;{spatial1}-&gt;syntax_check(<span class="stringliteral">&#39;no_ok&#39;</span>) ne <span class="stringliteral">&#39;ok&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ($self-&gt;{spatial2}-&gt;syntax_check(<span class="stringliteral">&#39;no_ok&#39;</span>) ne <span class="stringliteral">&#39;ok&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ($self-&gt;{definition_query1}-&gt;syntax_check(<span class="stringliteral">&#39;no_ok&#39;</span>) ne <span class="stringliteral">&#39;ok&#39;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Delete existing?</span></div>
<div class="line"><span class="preprocessor"></span>    my $new_result = 1;</div>
<div class="line">    <span class="keywordflow">if</span> (defined $self-&gt;{output_ref}) {</div>
<div class="line">        my $text = <span class="stringliteral">&quot;$self-&gt;{output_name} exists.  Do you mean to overwrite it?&quot;</span>;</div>
<div class="line">        my $completed = $self-&gt;{output_ref}-&gt;get_param(<span class="stringliteral">&#39;COMPLETED&#39;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;{existing} and defined $completed and $completed) {</div>
<div class="line">            </div>
<div class="line"><span class="preprocessor">            #  drop out if we don&#39;t want to overwrite</span></div>
<div class="line"><span class="preprocessor"></span>            my $response = <a class="code" href="classBiodiverse_1_1GUI_1_1YesNoCancel.html">Biodiverse::GUI::YesNoCancel</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1YesNoCancel.html#aa20e137376bfc08f21b51ac7bff76179">run</a>({</div>
<div class="line">                header =&gt; <span class="stringliteral">&#39;Overwrite?&#39;</span>,</div>
<div class="line">                text   =&gt; $text}</div>
<div class="line">            );</div>
<div class="line">            <span class="keywordflow">return</span> 0 <span class="keywordflow">if</span> $response ne <span class="stringliteral">&#39;yes&#39;</span>;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line"><span class="preprocessor">        #  remove original object, we are recreating it</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{basedata_ref}-&gt;delete_output(output =&gt; $self-&gt;{output_ref});</div>
<div class="line">        $self-&gt;{project}-&gt;deleteOutput($self-&gt;{output_ref});</div>
<div class="line">        $self-&gt;{existing} = 0;</div>
<div class="line">        $new_result = 0;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # Add spatial output</span></div>
<div class="line"><span class="preprocessor"></span>    my $output_ref = eval {</div>
<div class="line">        $self-&gt;{basedata_ref}-&gt;add_spatial_output(</div>
<div class="line">            name =&gt; $self-&gt;{output_name}</div>
<div class="line">        );</div>
<div class="line">    };</div>
<div class="line">    <span class="keywordflow">if</span> ($EVAL_ERROR) {</div>
<div class="line">        $self-&gt;{gui}-&gt;report_error ($EVAL_ERROR);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{output_ref} = $output_ref;</div>
<div class="line">    $self-&gt;{project}-&gt;addOutput($self-&gt;{basedata_ref}, $output_ref);</div>
<div class="line"></div>
<div class="line">    my %args = (</div>
<div class="line">        spatial_conditions  =&gt; [</div>
<div class="line">            $self-&gt;{spatial1}-&gt;get_text(),</div>
<div class="line">            $self-&gt;{spatial2}-&gt;get_text(),</div>
<div class="line">        ],</div>
<div class="line">        definition_query    =&gt; $self-&gt;{definition_query1}-&gt;get_text(),</div>
<div class="line">        calculations        =&gt; \@toRun,</div>
<div class="line">        matrix_ref          =&gt; $self-&gt;{project}-&gt;getSelectedMatrix,</div>
<div class="line">        tree_ref            =&gt; $self-&gt;{project}-&gt;getSelectedPhylogeny,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Perform the analysis</span></div>
<div class="line"><span class="preprocessor"></span>    print <span class="stringliteral">&quot;[Spatial tab] Running @toRun\n&quot;</span>;</div>
<div class="line"><span class="preprocessor">    #$self-&gt;{output_ref}-&gt;sp_calc(%args);</span></div>
<div class="line"><span class="preprocessor"></span>    my $success = eval {</div>
<div class="line">        $output_ref-&gt;sp_calc(%args)</div>
<div class="line">    };  #  wrap it in an eval to trap any errors</div>
<div class="line">    <span class="keywordflow">if</span> ($EVAL_ERROR) {</div>
<div class="line">        $self-&gt;{gui}-&gt;report_error ($EVAL_ERROR);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> ($success) {</div>
<div class="line">        $self-&gt;registerInOutputsModel($output_ref, $self);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{project}-&gt;updateIndicesRows($output_ref);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not $success) {</div>
<div class="line">        $self-&gt;onClose;  #  close the tab to avoid horrible problems with multiple instances</div>
<div class="line">        <span class="keywordflow">return</span>;  # sp_calc dropped out <span class="keywordflow">for</span> some reason, eg no valid calculations.</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $isnew = 0;</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{existing} == 0) {</div>
<div class="line">        $isnew = 1;</div>
<div class="line">        $self-&gt;{existing} = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $response = <a class="code" href="classBiodiverse_1_1GUI_1_1YesNoCancel.html">Biodiverse::GUI::YesNoCancel</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1YesNoCancel.html#aa20e137376bfc08f21b51ac7bff76179">run</a>({</div>
<div class="line">        title  =&gt; <span class="stringliteral">&#39;display?&#39;</span>,</div>
<div class="line">        header =&gt; <span class="stringliteral">&#39;display results?&#39;</span>,</div>
<div class="line">    });</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($response eq <span class="stringliteral">&#39;yes&#39;</span>) {</div>
<div class="line"><span class="preprocessor">        # If just ran a new analysis, pull up the pane</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;setPane(0.01);</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">        # Update output display if we are a new result</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # or grid is not defined yet (this can happen)</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($new_result || !defined $self-&gt;{grid}) {</div>
<div class="line">            eval {$self-&gt;initGrid()};</div>
<div class="line">            <span class="keywordflow">if</span> ($EVAL_ERROR) {</div>
<div class="line">                $self-&gt;{gui}-&gt;report_error ($EVAL_ERROR);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">        #  else reuse the grid and just reset the basestruct</span></div>
<div class="line"><span class="preprocessor"></span>        elsif (defined $output_ref) {</div>
<div class="line">            $self-&gt;{grid}-&gt;setBaseStruct($output_ref);</div>
<div class="line">        }</div>
<div class="line">        $self-&gt;updateListsCombo(); # will display first analysis as a side-effect...</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adb86c696ccd06b162550e846b226ea3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onStretchChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onStretchChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onStretchChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onStretchChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onStretchChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onStretchChanged: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adb86c696ccd06b162550e846b226ea3d">onStretchChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $sel = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboSpatialStretch&#39;</span>)-&gt;get_active_text();</div>
<div class="line">    </div>
<div class="line">    my ($min, $max) = split (/-/, uc $sel);</div>
<div class="line">    </div>
<div class="line">    my %stretch_codes = $self-&gt;get_display_stretch_codes;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{PLOT_STAT_MAX} = $stretch_codes{$max} || $max;</div>
<div class="line">    $self-&gt;{PLOT_STAT_MIN} = $stretch_codes{$min} || $min;</div>
<div class="line"></div>
<div class="line">    $self-&gt;onActiveIndexChanged;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af167f16100a40b74059b9192651387e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onZoomFit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onZoomFit' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onZoomFit-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onZoomFit-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onZoomFit-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onZoomFit: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#af167f16100a40b74059b9192651387e3">onZoomFit</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{grid}-&gt;zoomFit();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa562649c340c7c44fc74c6960b1c4faa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onZoomIn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onZoomIn' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onZoomIn-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onZoomIn-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onZoomIn-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onZoomIn: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa562649c340c7c44fc74c6960b1c4faa">onZoomIn</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    $self-&gt;{grid}-&gt;zoomIn();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a288333598224982c32eb4534ef7a25b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::onZoomOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onZoomOut' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onZoomOut-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onZoomOut-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onZoomOut-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onZoomOut: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a288333598224982c32eb4534ef7a25b7">onZoomOut</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    $self-&gt;{grid}-&gt;zoomOut();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa1abc8eecc07d6bf5ca47e0f6048a4cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::queueSetPane </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-queueSetPane' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-queueSetPane-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-queueSetPane-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-queueSetPane-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in queueSetPane: 13</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#aa1abc8eecc07d6bf5ca47e0f6048a4cd">queueSetPane</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $pos = shift;</div>
<div class="line"></div>
<div class="line">    my $pane = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&quot;vpaneSpatial&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # remember id so can disconnect later</span></div>
<div class="line"><span class="preprocessor"></span>    my $id = $pane-&gt;signal_connect_swapped(<span class="stringliteral">&quot;size-allocate&quot;</span>, \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a4c893b65f2116169c91fd1f7bfa8d761">Biodiverse::GUI::Tabs::Spatial::setPaneSignal</a>, $self);</div>
<div class="line">    $self-&gt;{setPaneSignalID} = $id;</div>
<div class="line">    $self-&gt;{setPanePos} = $pos;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adcbc80fc1ac6281df9b17e1692cbd421"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::recolour </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-recolour' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-recolour-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-recolour-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-recolour-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in recolour: 25</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#adcbc80fc1ac6281df9b17e1692cbd421">recolour</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my ($max, $min) = ($self-&gt;{plot_max_value} || 0, $self-&gt;{plot_min_value} || 0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # callback function to get colour of each element</span></div>
<div class="line"><span class="preprocessor"></span>    my $grid = $self-&gt;{grid};</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not defined $grid;  #  <span class="keywordflow">if</span> no grid then no need to colour.</div>
<div class="line">    </div>
<div class="line">    my $elements_hash = $self-&gt;{output_ref}-&gt;get_element_hash;</div>
<div class="line">    my $list = $self-&gt;{selected_list};</div>
<div class="line">    my $index = $self-&gt;{selected_index};</div>
<div class="line"></div>
<div class="line">    my $colour_func = sub {</div>
<div class="line">        my $elt = shift;</div>
<div class="line">        my $val = $elements_hash-&gt;{$elt}{$list}{$index};</div>
<div class="line">        <span class="keywordflow">return</span> defined $val</div>
<div class="line">            ? $grid-&gt;getColour($val, $min, $max)</div>
<div class="line">            : undef;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    $grid-&gt;colour($colour_func);</div>
<div class="line">    $grid-&gt;setLegendMinMax($min, $max);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af684dce2b127ab7c569b931fc76fee47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::remove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-remove' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-remove-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-remove-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-remove-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in remove: 10</span></div>
<div class="line"><span class="preprocessor"></span>sub <span class="keyword">remove</span> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    eval {$self-&gt;{grid}-&gt;destroy()};</div>
<div class="line">    $self-&gt;{grid} = undef;  #  convoluted, but we<span class="stringliteral">&#39;re getting reference cycles</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    $self-&gt;SUPER::remove;</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    return;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="afa0670bcd36ce8fef1a03901bde67f1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::screenshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-screenshot' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-screenshot-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-screenshot-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-screenshot-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in screenshot: 26</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#afa0670bcd36ce8fef1a03901bde67f1d">screenshot</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    my $mywidget = $self-&gt;{grid}{back_rect};</div>
<div class="line">    my ($width, $height) = $mywidget-&gt;window-&gt;get_size;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # create blank pixbuf to hold the image</span></div>
<div class="line"><span class="preprocessor"></span>    my $gdkpixbuf = Gtk2::Gdk::Pixbuf-&gt;new (</div>
<div class="line">        <span class="stringliteral">&#39;rgb&#39;</span>,</div>
<div class="line">        0,</div>
<div class="line">        8,</div>
<div class="line">        $width,</div>
<div class="line">        $height,</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    $gdkpixbuf-&gt;get_from_drawable</div>
<div class="line">        ($mywidget-&gt;window, undef, 0, 0, 0, 0, $width, $height);</div>
<div class="line"></div>
<div class="line">    my $file = <span class="stringliteral">&#39;testtest.png&#39;</span>;</div>
<div class="line">    print <span class="stringliteral">&quot;Saving screenshot to $file&quot;</span>;</div>
<div class="line">    $gdkpixbuf-&gt;save ($file, <span class="stringliteral">&#39;png&#39;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9273db6d593dcaada0289fb70e15a69b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::set_frame_label_widget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_frame_label_widget' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_frame_label_widget-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_frame_label_widget-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_frame_label_widget-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_frame_label_widget: 19</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a9273db6d593dcaada0289fb70e15a69b">set_frame_label_widget</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $widget = Gtk2::ToggleButton-&gt;new_with_label(<span class="stringliteral">&#39;Parameters&#39;</span>);</div>
<div class="line">    $widget-&gt;show;</div>
<div class="line"></div>
<div class="line">    my $frame = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;frame_spatial_parameters&#39;</span>);</div>
<div class="line">    $frame-&gt;set_label_widget ($widget);</div>
<div class="line"></div>
<div class="line">    $widget-&gt;signal_connect_swapped (</div>
<div class="line">        clicked =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab9f47b9ea9013bf8c9e374c129935050">on_show_hide_parameters</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line">    $widget-&gt;set_active (0);</div>
<div class="line">    $widget-&gt;set_has_tooltip (1);</div>
<div class="line">    $widget-&gt;set_tooltip_text (<span class="stringliteral">&#39;show/hide the parameters section&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab71eb9ca288009fa11aa7c59e2585080"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::set_plot_min_max_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_plot_min_max_values' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_plot_min_max_values-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_plot_min_max_values-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_plot_min_max_values-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_plot_min_max_values: 25</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ab71eb9ca288009fa11aa7c59e2585080">set_plot_min_max_values</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $output_ref = $self-&gt;{output_ref};</div>
<div class="line"></div>
<div class="line">    my $list  = $self-&gt;{selected_list};</div>
<div class="line">    my $index = $self-&gt;{selected_index};</div>
<div class="line">    </div>
<div class="line">    my $stats = $self-&gt;{stats}{$list}{$index};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not $stats) {</div>
<div class="line">        $stats = $output_ref-&gt;get_list_value_stats (</div>
<div class="line">            list  =&gt; $list,</div>
<div class="line">            index =&gt; $index,</div>
<div class="line">        );</div>
<div class="line">        $self-&gt;{stats}{$list}{$index} = $stats;  #  store it</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{plot_max_value} = $stats-&gt;{$self-&gt;{PLOT_STAT_MAX} || <span class="stringliteral">&#39;MAX&#39;</span>};</div>
<div class="line">    $self-&gt;{plot_min_value} = $stats-&gt;{$self-&gt;{PLOT_STAT_MIN} || <span class="stringliteral">&#39;MIN&#39;</span>};    </div>
<div class="line"></div>
<div class="line">    $self-&gt;set_legend_ltgt_flags ($stats);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ac9dfff39758747ba12a809575d60822f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::setPane </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setPane' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setPane-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setPane-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setPane-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setPane: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac9dfff39758747ba12a809575d60822f">setPane</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $pos = shift;</div>
<div class="line"></div>
<div class="line">    my $pane = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&quot;vpaneSpatial&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    my $maxPos = $pane-&gt;get(<span class="stringliteral">&#39;max-position&#39;</span>);</div>
<div class="line">    $pane-&gt;set_position( $maxPos * $pos );</div>
<div class="line"><span class="preprocessor">    #print &quot;[Spatial tab] Updating pane: maxPos = $maxPos, pos = $pos\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4c893b65f2116169c91fd1f7bfa8d761"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::setPaneSignal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setPaneSignal' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setPaneSignal-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setPaneSignal-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setPaneSignal-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setPaneSignal: 10</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a4c893b65f2116169c91fd1f7bfa8d761">setPaneSignal</a> {</div>
<div class="line">    my $self = shift; shift;  #  FIXME FIXME - check why <span class="keywordtype">double</span> shift, assign vars directly from list my ($self, undef, $pane) = @_;</div>
<div class="line">    my $pane = shift;</div>
<div class="line">    $self-&gt;setPane( $self-&gt;{setPanePos} );</div>
<div class="line">    $pane-&gt;signal_handler_disconnect( $self-&gt;{setPaneSignalID} );</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{setPanePos};</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{setPaneSignalID};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a38df73f1fcf67911af95af3a3ee305b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::showAnalysis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-showAnalysis' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-showAnalysis-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-showAnalysis-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-showAnalysis-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in showAnalysis: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a38df73f1fcf67911af95af3a3ee305b2">showAnalysis</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $name = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Reinitialising is a cheap way of showing </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # the SPATIAL_RESULTS list (the default), and</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # selecting what we want</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    $self-&gt;{selected_index} = $name;</div>
<div class="line">    $self-&gt;updateListsCombo();</div>
<div class="line">    $self-&gt;updateOutputIndicesCombo();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a55a6cc69225e55b129bef515e36a25f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::updateListsCombo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-updateListsCombo' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-updateListsCombo-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-updateListsCombo-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-updateListsCombo-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in updateListsCombo: 28</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#a55a6cc69225e55b129bef515e36a25f0">updateListsCombo</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make the model</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{output_lists_model} = $self-&gt;makeListsModel();</div>
<div class="line">    my $combo = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboLists&#39;</span>);</div>
<div class="line">    $combo-&gt;set_model($self-&gt;{output_lists_model});</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Select the SPATIAL_RESULTS list (or the first one)</span></div>
<div class="line"><span class="preprocessor"></span>    my $iter = $self-&gt;{output_lists_model}-&gt;get_iter_first();</div>
<div class="line">    my $selected = $iter;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> ($iter) {</div>
<div class="line">        my ($list) = $self-&gt;{output_lists_model}-&gt;get($iter, 0);</div>
<div class="line">        <span class="keywordflow">if</span> ($list eq <span class="stringliteral">&#39;SPATIAL_RESULTS&#39;</span> ) {</div>
<div class="line">            $selected = $iter;</div>
<div class="line">            last; # <span class="keywordflow">break</span> loop</div>
<div class="line">        }</div>
<div class="line">        $iter = $self-&gt;{output_lists_model}-&gt;iter_next($iter);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($selected) {</div>
<div class="line">        $combo-&gt;set_active_iter($selected);</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;onActiveListChanged($combo);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ac577974397bd84f31b99bd0371543d12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Tabs::Spatial::updateOutputIndicesCombo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-updateOutputIndicesCombo' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-updateOutputIndicesCombo-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-updateOutputIndicesCombo-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-updateOutputIndicesCombo-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in updateOutputIndicesCombo: 29</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html#ac577974397bd84f31b99bd0371543d12">updateOutputIndicesCombo</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make the model</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{output_indices_model} = $self-&gt;makeOutputIndicesModel();</div>
<div class="line">    my $combo = $self-&gt;{xmlPage}-&gt;get_widget(<span class="stringliteral">&#39;comboIndices&#39;</span>);</div>
<div class="line">    $combo-&gt;set_model($self-&gt;{output_indices_model});</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Select the previous analysis (or the first one)</span></div>
<div class="line"><span class="preprocessor"></span>    my $iter = $self-&gt;{output_indices_model}-&gt;get_iter_first();</div>
<div class="line">    my $selected = $iter;</div>
<div class="line">    </div>
<div class="line">    BY_ITER:</div>
<div class="line">    <span class="keywordflow">while</span> ($iter) {</div>
<div class="line">        my ($analysis) = $self-&gt;{output_indices_model}-&gt;get($iter, 0);</div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;{selected_index} &amp;&amp; ($analysis eq $self-&gt;{selected_index}) ) {</div>
<div class="line">            $selected = $iter;</div>
<div class="line">            last BY_ITER; # <span class="keywordflow">break</span> loop</div>
<div class="line">        }</div>
<div class="line">        $iter = $self-&gt;{output_indices_model}-&gt;iter_next($iter);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($selected) {</div>
<div class="line">        $combo-&gt;set_active_iter($selected);</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;onActiveIndexChanged($combo);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/GUI/Tabs/<a class="el" href="GUI_2Tabs_2Spatial_8pm_source.html">Spatial.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><b>GUI</b></li><li class="navelem"><b>Tabs</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1GUI_1_1Tabs_1_1Spatial.html">Spatial</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:53 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
