<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::Common Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1Common.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1Common-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::Common Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::Common:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1Common__coll__graph.png" border="0" usemap="#Biodiverse_1_1Common_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1Common_coll__map" id="Biodiverse_1_1Common_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1ac4d8cbea9627545965fd66a7f48465"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ac4d8cbea9627545965fd66a7f48465"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>EMPTY_STRING</b></td></tr>
<tr class="separator:a1ac4d8cbea9627545965fd66a7f48465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9830c11152bf6257aa32e0de053adb6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9830c11152bf6257aa32e0de053adb6d"></a>
hash&#160;</td><td class="memItemRight" valign="bottom"><b>user_defined_params</b></td></tr>
<tr class="separator:a9830c11152bf6257aa32e0de053adb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490abb49542c1ef66fb1c88da67f0b38"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a490abb49542c1ef66fb1c88da67f0b38"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>x</b></td></tr>
<tr class="separator:a490abb49542c1ef66fb1c88da67f0b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1b7d2727d53d80ec8a8c73dce1a8e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea1b7d2727d53d80ec8a8c73dce1a8e1"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>msg</b></td></tr>
<tr class="separator:aea1b7d2727d53d80ec8a8c73dce1a8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633f2c20cd6e2e64dff0240c461f223f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a633f2c20cd6e2e64dff0240c461f223f"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>locale_uses_comma_radix</b></td></tr>
<tr class="separator:a633f2c20cd6e2e64dff0240c461f223f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:aa9ce735f14fca9cce00d4aef4414ca13"><td class="memItemLeft" align="right" valign="top">private method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#aa9ce735f14fca9cce00d4aef4414ca13">__load_xml_file</a> ()</td></tr>
<tr class="separator:aa9ce735f14fca9cce00d4aef4414ca13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffd4897d87d2d3d2b0cf89b363aa43c"><td class="memItemLeft" align="right" valign="top">private method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#acffd4897d87d2d3d2b0cf89b363aa43c">_delete_params_all</a> ()</td></tr>
<tr class="separator:acffd4897d87d2d3d2b0cf89b363aa43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672ef16e4dff1eb536f45a795874dc26"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a672ef16e4dff1eb536f45a795874dc26">store_rand_state</a> ()</td></tr>
<tr class="separator:a672ef16e4dff1eb536f45a795874dc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d2ec6bbdd2c722c540a6a4ab2d8b99"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a03d2ec6bbdd2c722c540a6a4ab2d8b99">get_csv_object_for_export</a> ()</td></tr>
<tr class="separator:a03d2ec6bbdd2c722c540a6a4ab2d8b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2703e2b5027981f95440bbf63d798c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a5c2703e2b5027981f95440bbf63d798c">save_to_storable</a> ()</td></tr>
<tr class="separator:a5c2703e2b5027981f95440bbf63d798c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9954dccc23464a9ff01093e61ef9c4a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#aa9954dccc23464a9ff01093e61ef9c4a">guess_quote_char</a> ()</td></tr>
<tr class="separator:aa9954dccc23464a9ff01093e61ef9c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654e15b7d0a67f4d2401c42013c4387c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a654e15b7d0a67f4d2401c42013c4387c">rename_object</a> ()</td></tr>
<tr class="separator:a654e15b7d0a67f4d2401c42013c4387c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b70846460ff9e7fd084554778512b22"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a7b70846460ff9e7fd084554778512b22">set_cached_value</a> ()</td></tr>
<tr class="separator:a7b70846460ff9e7fd084554778512b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da6e97b3a2aa75cb06c20d69bfd12ac"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a6da6e97b3a2aa75cb06c20d69bfd12ac">numerically</a> ()</td></tr>
<tr class="separator:a6da6e97b3a2aa75cb06c20d69bfd12ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af001ea0a7543f9644896baeb7a8455d8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#af001ea0a7543f9644896baeb7a8455d8">array_to_hash_keys_old</a> ()</td></tr>
<tr class="separator:af001ea0a7543f9644896baeb7a8455d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29c1c28ea738e6fe65b30c057917795"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ab29c1c28ea738e6fe65b30c057917795">get_param</a> ()</td></tr>
<tr class="separator:ab29c1c28ea738e6fe65b30c057917795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08978bbc35755e3dabc72414122bbc0c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a08978bbc35755e3dabc72414122bbc0c">save_to_xml</a> ()</td></tr>
<tr class="separator:a08978bbc35755e3dabc72414122bbc0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0090ee1830660ac23e525e48b9b63d3a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a0090ee1830660ac23e525e48b9b63d3a">get_subs_with_prefix</a> ()</td></tr>
<tr class="separator:a0090ee1830660ac23e525e48b9b63d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d95a6b4bc7314c62fee3d25a40cecba"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a2d95a6b4bc7314c62fee3d25a40cecba">get_shared_hash_keys</a> ()</td></tr>
<tr class="separator:a2d95a6b4bc7314c62fee3d25a40cecba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e6cf60e119562f31eb5e12638f732d2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a6e6cf60e119562f31eb5e12638f732d2">get_basedata_ref</a> ()</td></tr>
<tr class="separator:a6e6cf60e119562f31eb5e12638f732d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578221cbdae8ac64e92b67adb69432c0"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a578221cbdae8ac64e92b67adb69432c0">set_precision</a> ()</td></tr>
<tr class="separator:a578221cbdae8ac64e92b67adb69432c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11cb0b03f08fe0f7d8cb929810b5b80"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ac11cb0b03f08fe0f7d8cb929810b5b80">get_list_as_flat_hash</a> ()</td></tr>
<tr class="separator:ac11cb0b03f08fe0f7d8cb929810b5b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb9e109dbe63696ee75891c380e6c9f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#abeb9e109dbe63696ee75891c380e6c9f">set_params</a> ()</td></tr>
<tr class="separator:abeb9e109dbe63696ee75891c380e6c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e36614a87b841a8fd538ab3b474e30e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a0e36614a87b841a8fd538ab3b474e30e">get_next_line_set</a> ()</td></tr>
<tr class="separator:a0e36614a87b841a8fd538ab3b474e30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205c09a561ad6ed41b26dfce93cd38c7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a205c09a561ad6ed41b26dfce93cd38c7">get_csv_object</a> ()</td></tr>
<tr class="separator:a205c09a561ad6ed41b26dfce93cd38c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23cb492a9eed259a2be171b409521739"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a23cb492a9eed259a2be171b409521739">get_last_update_time</a> ()</td></tr>
<tr class="separator:a23cb492a9eed259a2be171b409521739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7227b2cca2a1ad80273d5dfd64b59d1"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#aa7227b2cca2a1ad80273d5dfd64b59d1">weaken_param</a> ()</td></tr>
<tr class="separator:aa7227b2cca2a1ad80273d5dfd64b59d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2339c9545479573bea0d8b434ac7f99b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a2339c9545479573bea0d8b434ac7f99b">dump_to_yaml</a> ()</td></tr>
<tr class="separator:a2339c9545479573bea0d8b434ac7f99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc0b8fac0633e9a754ab20e0845b55b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#adfc0b8fac0633e9a754ab20e0845b55b">delete_params</a> ()</td></tr>
<tr class="separator:adfc0b8fac0633e9a754ab20e0845b55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3422726df1502e2f641c9d57c923ca88"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a3422726df1502e2f641c9d57c923ca88">get_cached_value</a> ()</td></tr>
<tr class="separator:a3422726df1502e2f641c9d57c923ca88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282103ff5ed13151b36ec9026d6043c1"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a282103ff5ed13151b36ec9026d6043c1">weaken_basedata_ref</a> ()</td></tr>
<tr class="separator:a282103ff5ed13151b36ec9026d6043c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599a1978dafbdf1c4d97428d4a4215f9"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a599a1978dafbdf1c4d97428d4a4215f9">load_storable_file</a> ()</td></tr>
<tr class="separator:a599a1978dafbdf1c4d97428d4a4215f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ffe9f979dbaf23b71b8b4f8ef4ae73"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ae9ffe9f979dbaf23b71b8b4f8ef4ae73">get_cached_value_keys</a> ()</td></tr>
<tr class="separator:ae9ffe9f979dbaf23b71b8b4f8ef4ae73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aedf3e2dc236ea8e6cda329c53da3bb"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a8aedf3e2dc236ea8e6cda329c53da3bb">clear_spatial_condition_caches</a> ()</td></tr>
<tr class="separator:a8aedf3e2dc236ea8e6cda329c53da3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bfedd1fa7a5bd42dac630d038feb31e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a6bfedd1fa7a5bd42dac630d038feb31e">write_table_csv</a> ()</td></tr>
<tr class="separator:a6bfedd1fa7a5bd42dac630d038feb31e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6b6e5f9a99ef7c77cc51e0e8bf8940"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a7b6b6e5f9a99ef7c77cc51e0e8bf8940">find_circular_refs</a> ()</td></tr>
<tr class="separator:a7b6b6e5f9a99ef7c77cc51e0e8bf8940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f373fe913bc9bfb2edfe994d9d09621"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a2f373fe913bc9bfb2edfe994d9d09621">dump_to_xml</a> ()</td></tr>
<tr class="separator:a2f373fe913bc9bfb2edfe994d9d09621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d94e85412063ecfe0a101917272a00"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a44d94e85412063ecfe0a101917272a00">load_file</a> ()</td></tr>
<tr class="separator:a44d94e85412063ecfe0a101917272a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4c0b66a3d2ad72ac12f807cb64bedc"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a4d4c0b66a3d2ad72ac12f807cb64bedc">get_list_intersection</a> ()</td></tr>
<tr class="separator:a4d4c0b66a3d2ad72ac12f807cb64bedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2788aa86b49668167277828f210ee419"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a2788aa86b49668167277828f210ee419">save_to_yaml</a> ()</td></tr>
<tr class="separator:a2788aa86b49668167277828f210ee419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad596668a51c5be35a450c7953cbdaa45"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ad596668a51c5be35a450c7953cbdaa45">save_to</a> ()</td></tr>
<tr class="separator:ad596668a51c5be35a450c7953cbdaa45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72dbb90c92c390aac1167a8332c57e53"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a72dbb90c92c390aac1167a8332c57e53">write_table</a> ()</td></tr>
<tr class="separator:a72dbb90c92c390aac1167a8332c57e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab318189dc8fcae800d6ea18b9cdfc29e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ab318189dc8fcae800d6ea18b9cdfc29e">set_basedata_ref</a> ()</td></tr>
<tr class="separator:ab318189dc8fcae800d6ea18b9cdfc29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689c4f8181610335cb69b2ca4ea192a3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a689c4f8181610335cb69b2ca4ea192a3">clear_spatial_index_csv_object</a> ()</td></tr>
<tr class="separator:a689c4f8181610335cb69b2ca4ea192a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14a1d32f5ca66b23327b5ca91523251a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a14a1d32f5ca66b23327b5ca91523251a">array_to_hash_values</a> ()</td></tr>
<tr class="separator:a14a1d32f5ca66b23327b5ca91523251a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f42fd19c17ad82b4d6930a50a10f75"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a42f42fd19c17ad82b4d6930a50a10f75">get_poss_elements</a> ()</td></tr>
<tr class="separator:a42f42fd19c17ad82b4d6930a50a10f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1376d46e666d76fbbad3edcd2f9f324d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a1376d46e666d76fbbad3edcd2f9f324d">exists_param</a> ()</td></tr>
<tr class="separator:a1376d46e666d76fbbad3edcd2f9f324d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c6b9f504f11694ddbeb57429433ec3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a44c6b9f504f11694ddbeb57429433ec3">delete_cached_values</a> ()</td></tr>
<tr class="separator:a44c6b9f504f11694ddbeb57429433ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a290750f49361e33bbf9aaf6c4afae56a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a290750f49361e33bbf9aaf6c4afae56a">delete_param</a> ()</td></tr>
<tr class="separator:a290750f49361e33bbf9aaf6c4afae56a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad938158e70a5c8cf13ad380ee0f700"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#abad938158e70a5c8cf13ad380ee0f700">write_table_xml</a> ()</td></tr>
<tr class="separator:abad938158e70a5c8cf13ad380ee0f700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f626db4e975ad97bb58d8f0f6638ed8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a5f626db4e975ad97bb58d8f0f6638ed8">get_param_as_ref</a> ()</td></tr>
<tr class="separator:a5f626db4e975ad97bb58d8f0f6638ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a885cfd63f5e23e908347b0afbeb7de26"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a885cfd63f5e23e908347b0afbeb7de26">compare_lists_by_item</a> ()</td></tr>
<tr class="separator:a885cfd63f5e23e908347b0afbeb7de26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18d0b2241d1d624991708c60833dc76"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ae18d0b2241d1d624991708c60833dc76">max</a> ()</td></tr>
<tr class="separator:ae18d0b2241d1d624991708c60833dc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3158d18fed592373eda5fbd30f12e5b8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a3158d18fed592373eda5fbd30f12e5b8">update_log</a> ()</td></tr>
<tr class="separator:a3158d18fed592373eda5fbd30f12e5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b632bf48e477b31a80af01002fa2cb"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a69b632bf48e477b31a80af01002fa2cb">list2csv</a> ()</td></tr>
<tr class="separator:a69b632bf48e477b31a80af01002fa2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb22d7cd0a837e84e40ea0f1c3b6a37"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#adcb22d7cd0a837e84e40ea0f1c3b6a37">clone</a> ()</td></tr>
<tr class="separator:adcb22d7cd0a837e84e40ea0f1c3b6a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b49625928f76d8914ff48fe7d86ed7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a91b49625928f76d8914ff48fe7d86ed7">array_to_hash_keys</a> ()</td></tr>
<tr class="separator:a91b49625928f76d8914ff48fe7d86ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35eb40c8b7f46ee0d2ecd120097aca8a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a35eb40c8b7f46ee0d2ecd120097aca8a">set_default_params</a> ()</td></tr>
<tr class="separator:a35eb40c8b7f46ee0d2ecd120097aca8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b855ca0d7a5a4cfcdb22bbf8f83c0f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a09b855ca0d7a5a4cfcdb22bbf8f83c0f">get_params_hash</a> ()</td></tr>
<tr class="separator:a09b855ca0d7a5a4cfcdb22bbf8f83c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8cd12bb93a154e78879b2b4a5e4fa4"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a7e8cd12bb93a154e78879b2b4a5e4fa4">get_surrounding_elements</a> ()</td></tr>
<tr class="separator:a7e8cd12bb93a154e78879b2b4a5e4fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a755fef8fc8b413de20672aab3d5e2d3c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a755fef8fc8b413de20672aab3d5e2d3c">guess_field_separator</a> ()</td></tr>
<tr class="separator:a755fef8fc8b413de20672aab3d5e2d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf586aaeeae0ab7cbb2ba8d4979f8084"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#adf586aaeeae0ab7cbb2ba8d4979f8084">print_params</a> ()</td></tr>
<tr class="separator:adf586aaeeae0ab7cbb2ba8d4979f8084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b04b54971d2eff7e381b39e6c06c90"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a80b04b54971d2eff7e381b39e6c06c90">guess_eol</a> ()</td></tr>
<tr class="separator:a80b04b54971d2eff7e381b39e6c06c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1b90e1bebeeb6c0b69091ee43d3788"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#acd1b90e1bebeeb6c0b69091ee43d3788">test_locale_numeric</a> ()</td></tr>
<tr class="separator:acd1b90e1bebeeb6c0b69091ee43d3788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c3b38103bc6c4986e7d914eeba722f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a68c3b38103bc6c4986e7d914eeba722f">get_tooltip_sparse_normal</a> ()</td></tr>
<tr class="separator:a68c3b38103bc6c4986e7d914eeba722f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f48d3909804d4281033df1e31d5554"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a27f48d3909804d4281033df1e31d5554">set_last_update_time</a> ()</td></tr>
<tr class="separator:a27f48d3909804d4281033df1e31d5554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78042c764d1eed3619c531a816b5e80"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ab78042c764d1eed3619c531a816b5e80">escape_filename</a> ()</td></tr>
<tr class="separator:ab78042c764d1eed3619c531a816b5e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcd106e0c0a1bd2dc09a17bb2edade3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a9fcd106e0c0a1bd2dc09a17bb2edade3">load_params</a> ()</td></tr>
<tr class="separator:a9fcd106e0c0a1bd2dc09a17bb2edade3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4caf609c078dbe28263234b9129e01c2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a4caf609c078dbe28263234b9129e01c2">csv2list</a> ()</td></tr>
<tr class="separator:a4caf609c078dbe28263234b9129e01c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e878452977d5ba551955d744593d6a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#aa6e878452977d5ba551955d744593d6a">move_to_front_of_list</a> ()</td></tr>
<tr class="separator:aa6e878452977d5ba551955d744593d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1221379da517a64c78a62cd888bf3069"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a1221379da517a64c78a62cd888bf3069">load_yaml_file</a> ()</td></tr>
<tr class="separator:a1221379da517a64c78a62cd888bf3069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827b7d019cb3fd2d3bd12b5825a0460f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a827b7d019cb3fd2d3bd12b5825a0460f">initialise_rand</a> ()</td></tr>
<tr class="separator:a827b7d019cb3fd2d3bd12b5825a0460f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d9d6a8483f889222d766df7d93bdbf"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a48d9d6a8483f889222d766df7d93bdbf">write_table_yaml</a> ()</td></tr>
<tr class="separator:a48d9d6a8483f889222d766df7d93bdbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f211ce1624b886fe561f48699ed801"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#aa7f211ce1624b886fe561f48699ed801">get_hash_inverted</a> ()</td></tr>
<tr class="separator:aa7f211ce1624b886fe561f48699ed801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217ce872bd6ede2fcf424a9e59612329"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a217ce872bd6ede2fcf424a9e59612329">min</a> ()</td></tr>
<tr class="separator:a217ce872bd6ede2fcf424a9e59612329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20aa4b422dfee4629fb82972d65a81f0"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a20aa4b422dfee4629fb82972d65a81f0">delete_spatial_index</a> ()</td></tr>
<tr class="separator:a20aa4b422dfee4629fb82972d65a81f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487af75719333ad737d3459dd9573f9e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a487af75719333ad737d3459dd9573f9e">set_param</a> ()</td></tr>
<tr class="separator:a487af75719333ad737d3459dd9573f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e80b16af8ef40a618cb12d0fb46a9fb"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a9e80b16af8ef40a618cb12d0fb46a9fb">write_table_html</a> ()</td></tr>
<tr class="separator:a9e80b16af8ef40a618cb12d0fb46a9fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af781887fcd5fbee00782579a013eb468"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#af781887fcd5fbee00782579a013eb468">store_rand_state_init</a> ()</td></tr>
<tr class="separator:af781887fcd5fbee00782579a013eb468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0365bc0d4ca6304bdc498a2e46afc154"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a0365bc0d4ca6304bdc498a2e46afc154">get_args</a> ()</td></tr>
<tr class="separator:a0365bc0d4ca6304bdc498a2e46afc154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211c58f08d6a9d94d03dab33c8379474"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#a211c58f08d6a9d94d03dab33c8379474">get_name</a> ()</td></tr>
<tr class="separator:a211c58f08d6a9d94d03dab33c8379474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e5a0f4c974e62223864e162960841e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Common.html#ab5e5a0f4c974e62223864e162960841e">lc_hash_keys</a> ()</td></tr>
<tr class="separator:ab5e5a0f4c974e62223864e162960841e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="NAME"></a>
NAME</h1>
<p><a class="el" href="classBiodiverse_1_1Common.html">Biodiverse::Common</a> - a set of common functions for the Biodiverse library. MASSIVELY OUT OF DATE</p>
<h1><a class="anchor" id="SYNOPSIS"></a>
SYNOPSIS</h1>
<pre>  use <a class="el" href="classBiodiverse_1_1Common.html">Biodiverse::Common</a>;</pre><h1><a class="anchor" id="DESCRIPTION"></a>
DESCRIPTION</h1>
<p>This module provides basic functions used across the Biodiverse libraries. These should be inherited by higher level objects through their @ISA list.</p>
<h2><a class="anchor" id="Assumptions"></a>
Assumptions</h2>
<p>Almost all methods in the Biodiverse library use {keyword =&gt; value} pairs as a policy. This means some of the methods may appear to contain unnecessary arguments, but it makes everything else more consistent.</p>
<p>List methods return a list in list context, and a reference to that list in scalar context.</p>
<h1><a class="anchor" id="Methods"></a>
Methods</h1>
<p>These assume you have declared an object called $self of a type that inherits these methods, for example:</p>
<ul>
<li>
<a class="anchor" id="item__self___Biodiverse__BaseData__gt_new_"></a><b>$self = <a class="el" href="classBiodiverse_1_1BaseData.html">Biodiverse::BaseData</a>-&gt;new;</b>  </li>
</ul>
<p>or</p>
<ul>
<li>
<a class="anchor" id="item__self___Biodiverse__Matrix__gt_new_"></a><b>$self = <a class="el" href="classBiodiverse_1_1Matrix.html">Biodiverse::Matrix</a>-&gt;new;</b>  </li>
</ul>
<p>or want to clone an existing object</p>
<ul>
<li>
<p class="startli"><a class="anchor" id="item__self____old_object___gt__clone_"></a><b>$self = $old_object -&gt; clone;</b> </p>
<p>(This uses the Storable::dclone method).</p>
<p class="endli"></p>
</li>
</ul>
<h2><a class="anchor" id="Parameter_stuff"></a>
Parameter stuff</h2>
<p>The parameters are used to store necessary metadata about the object, such as values used in its construction, references to parent objects and hash tables of other values such as exclusion lists. All parameters are set in upper case, and forced into uppercase if needed. There are no set parameters for each object type, but most include NAME, OUTPFX and the like.</p>
<ul>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_set_param_PARAMNAME___gt___param_"></a><b>$self-&gt;set_param(PARAMNAME =&gt; $param)</b> </p>
<p>Set a single parameter. For example, "$self-&amp;gt;set_param(NAME =&amp;gt; 'hernando')" will set the parameter NAME to the value 'hernando'</p>
<p></p>
<p>Overwrites any previous entry without any warnings.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_load_params__file___gt___filename__"></a><b>$self-&gt;load_params (file =&gt; $filename);</b> </p>
<p>Set parameters from a file.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_get_param__param__"></a><b>$self-&gt;get_param($param);</b> </p>
<p>Gets the value of a single parameter $param.</p>
<p class="endli"></p>
</li>
<li>
<a class="anchor" id="item__self__gt_delete_param___params__"></a><b>$self-&gt;delete_param(@params);</b>  </li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_delete_params___params__"></a><b>$self-&gt;delete_params(@params);</b> </p>
<p>Delete a list of parameters from the object's PARAMS hash. They are actually the same thing, as delete_param calls delete_params, passing on any arguments.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_get_params_hash_"></a><b>$self-&gt;get_params_hash;</b> </p>
<p>Returns the parameters hash.</p>
<p class="endli"></p>
</li>
</ul>
<h2><a class="anchor" id=""></a>
</h2>
<ul>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_load_file__file___gt___filename__"></a><b>$self-&gt;load_file (file =&gt; $filename);</b> </p>
<p>Loads an object written using the Storable format. Must satisfy the OUTSUFFIX parameter for the object type being loaded.</p>
<p class="endli"></p>
</li>
<li>
<a class="anchor" id="item__self__gt_write___embed_source_data___gt__0__embed_matrix___gt__0_______________________embed_basedata___gt__0__"></a><b>$self-&gt;write (embed_source_data =&gt; 0, embed_matrix =&gt; 0, embed_basedata =&gt; 0);</b>  </li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_write2__embed_source_data___gt__0__embed_matrix___gt__0_______________________embed_basedata___gt__0__"></a><b>$self-&gt;write2 (embed_source_data =&gt; 0, embed_matrix =&gt; 0, embed_basedata =&gt; 0);</b> </p>
<p>Dump the whole object to an xml file using the Storable package. Get the filename prefix from argument OUTPFX, the parameter OUTPFX, the parameter NAME or use BIODIVERSE if none of the others are defined. The filename extension is taken from parameter OUTSUFFIX. The embed arguments are used to remove the references to the parent <a class="el" href="classBiodiverse_1_1BaseData.html">Biodiverse::BaseData</a> object and any <a class="el" href="classBiodiverse_1_1Matrix.html">Biodiverse::Matrix</a> objects so they aren't included. If these are set to true then </p>
<div class="fragment"><div class="line">write()</div>
</div><!-- fragment --><p> calls </p>
<div class="fragment"><div class="line">write2()</div>
</div><!-- fragment --><p> , passing on all arguments.</p>
<div class="fragment"><div class="line">embed_source_data</div>
</div><!-- fragment --><p> must be set for </p>
<div class="fragment"><div class="line">embed_basedata</div>
</div><!-- fragment --><p> and </p>
<div class="fragment"><div class="line">embed_matrix</div>
</div><!-- fragment --><p> to have any effect.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_load_xml_file__file___gt___filename____DISABLED"></a><b>$self-&gt;load_xml_file (file =&gt; $filename); DISABLED</b> </p>
<p>Loads an object written using the Data::DumpXML format. Must satisfy the OUTSUFFIX parameter for the object type being loaded.</p>
<p class="endli"></p>
</li>
<li>
<a class="anchor" id="item__self__gt_write_xml___embed_source_data___gt__0__embed_matrix___gt__0_______________________embed_basedata___gt__0__"></a><b>$self-&gt;write_xml (embed_source_data =&gt; 0, embed_matrix =&gt; 0, embed_basedata =&gt; 0);</b>  </li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_write_xml2__embed_source_data___gt__0__embed_matrix___gt__0_______________________embed_basedata___gt__0__"></a><b>$self-&gt;write_xml2 (embed_source_data =&gt; 0, embed_matrix =&gt; 0, embed_basedata =&gt; 0);</b> </p>
<p>Dump the whole object to an xml file using Data::DumpXML. Get the filename prefix from argument OUTPFX, the parameter OUTPFX, the parameter NAME or use BIODIVERSE if none of the others are defined. The filename extension is taken from parameter OUTSUFFIX_XML. The embed arguments are used to remove the references to the parent <a class="el" href="classBiodiverse_1_1BaseData.html">Biodiverse::BaseData</a> object and any <a class="el" href="classBiodiverse_1_1Matrix.html">Biodiverse::Matrix</a> objects so they aren't included. If these are set to true then </p>
<div class="fragment"><div class="line">write_xml()</div>
</div><!-- fragment --><p> calls </p>
<div class="fragment"><div class="line">write_xml2()</div>
</div><!-- fragment --><p> , passing on all arguments.</p>
<div class="fragment"><div class="line">embed_source_data</div>
</div><!-- fragment --><p> must be set for </p>
<div class="fragment"><div class="line">embed_basedata</div>
</div><!-- fragment --><p> and </p>
<div class="fragment"><div class="line">embed_matrix</div>
</div><!-- fragment --><p> to have any effect.</p>
<p class="endli"></p>
</li>
</ul>
<h2><a class="anchor" id="General_utilities"></a>
General utilities</h2>
<ul>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_get_surrounding_elements__coord___gt______coord__resolutions___gt______resolutions__distance___gt__1__sep_char___gt___sep_char__"></a><b>$self-&gt;get_surrounding_elements (coord =&gt; \@coord, resolutions =&gt; \@resolutions, distance =&gt; 1, sep_char =&gt; $sep_char);</b> </p>
<p>Generate a list of values around a single coordinate at a specified resolution out to some resolution </p>
<div class="fragment"><div class="line">distance</div>
</div><!-- fragment --><p> (default 1). The values are joined together using $join_index. Actually just calculates the minima and maxima and calls</p>
<div class="fragment"><div class="line">$self-</div>
</div><!-- fragment --><p> getPossIndexValues&gt;.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_weaken_basedata_ref_"></a><b>$self-&gt;weaken_basedata_ref;</b> </p>
<p>Weakens the reference to a parent <a class="el" href="classBiodiverse_1_1BaseData.html">BaseData</a> object. This stops memory leakage problems due to circular references not being cleared out. <a href="http://www.perl.com/pub/a/2002/08/07/proxyobject.html?page=1">http://www.perl.com/pub/a/2002/08/07/proxyobject.html?page=1</a></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_csv2list__string___gt___string__quote_char___gt_______sep_char___gt_______"></a><b>$self-&gt;csv2list (string =&gt; $string, quote_char =&gt; "'", sep_char =&gt; ",");</b> </p>
<p>convert a CSV string to a list. Returns an array in list context, and an array ref in scalar context. Calls Text::CSV_XS and passes the arguments onwards.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__self__gt_list2csv__list___gt______list__quote_char___gt_______sep_char___gt_______"></a><b>$self-&gt;list2csv (list =&gt; \@list, quote_char =&gt; "'", sep_char =&gt; ",");</b> </p>
<p>Convert a list to a CSV string using text::CSV_XS. Must be passed a list reference.</p>
<p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="REPORTING_ERRORS"></a>
REPORTING ERRORS</h1>
<p><a href="http://code.google.com/p/biodiverse/issues/list">http://code.google.com/p/biodiverse/issues/list</a></p>
<h1><a class="anchor" id="AUTHOR"></a>
AUTHOR</h1>
<p>Shawn Laffan</p>
<p>Shawn.Laffan@unsw.edu.au</p>
<h1><a class="anchor" id="COPYRIGHT"></a>
COPYRIGHT</h1>
<p>Copyright (c) 2006 Shawn Laffan. All rights reserved. This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<h1><a class="anchor" id="REVISION_HISTORY"></a>
REVISION HISTORY</h1>
<blockquote class="doxtable">
<p></p>
</blockquote>

<p>Definition at line <a class="el" href="Common_8pm_source.html#l00229">229</a> of file <a class="el" href="Common_8pm_source.html">Common.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa9ce735f14fca9cce00d4aef4414ca13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method Biodiverse::Common::__load_xml_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-__load_xml_file' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-__load_xml_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-__load_xml_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-__load_xml_file-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in __load_xml_file: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#aa9ce735f14fca9cce00d4aef4414ca13">__load_xml_file</a> {</div>
<div class="line">    my $self = shift;  #  gets overwritten <span class="keywordflow">if</span> the file passes the tests</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! defined ($args{file});</div>
<div class="line">    my $suffix = $args{suffix} || $self-&gt;get_param(<span class="stringliteral">&#39;OUTSUFFIX_XML&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! -e $args{file};</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! ($args{file} =~ /$suffix$/);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  load data from bdx file, ignores rest of the args</span></div>
<div class="line"><span class="preprocessor"></span>    my $xml = Data::DumpXML::Parser-&gt;new;</div>
<div class="line">    my $data = $xml-&gt;parsefile($args{file});</div>
<div class="line">    $self = shift (@$data);  #  parsefile returns a list, we want the first (and only) element</div>
<div class="line">    <span class="keywordflow">foreach</span> my $fn (qw /weaken_parent_refs weaken_child_basedata_refs <a class="code" href="classBiodiverse_1_1Common.html#a282103ff5ed13151b36ec9026d6043c1">weaken_basedata_ref</a>/) {</div>
<div class="line">        $self -&gt; $fn <span class="keywordflow">if</span> $self-&gt;can($fn);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $self;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="acffd4897d87d2d3d2b0cf89b363aa43c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method Biodiverse::Common::_delete_params_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_delete_params_all' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-_delete_params_all-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_delete_params_all-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_delete_params_all-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in _delete_params_all: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#acffd4897d87d2d3d2b0cf89b363aa43c">_delete_params_all</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $params = $self-&gt;{PARAMS};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $param (keys %$params) {</div>
<div class="line">        print <span class="stringliteral">&quot;Deleting parameter $param\n&quot;</span>;</div>
<div class="line">        <span class="keyword">delete</span> $params-&gt;{$param};</div>
<div class="line">    }</div>
<div class="line">    $params = undef;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a91b49625928f76d8914ff48fe7d86ed7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::array_to_hash_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-array_to_hash_keys' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-array_to_hash_keys-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-array_to_hash_keys-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-array_to_hash_keys-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in array_to_hash_keys: 27</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a91b49625928f76d8914ff48fe7d86ed7">array_to_hash_keys</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    exists $args{list} || croak <span class="stringliteral">&quot;Argument &#39;list&#39; not specified or undef\n&quot;</span>;</div>
<div class="line">    my $list_ref = $args{list};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (! defined $list_ref) {</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? () : {};  #  <span class="keywordflow">return</span> empty <span class="keywordflow">if</span> $list_ref not defined</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  complain if it is a scalar</span></div>
<div class="line"><span class="preprocessor"></span>    croak <span class="stringliteral">&quot;Argument &#39;list&#39; is not an array ref - it is a scalar\n&quot;</span> <span class="keywordflow">if</span> ! ref ($list_ref);</div>
<div class="line"></div>
<div class="line">    my $value = $args{value};</div>
<div class="line"></div>
<div class="line">    my %hash;</div>
<div class="line">    <span class="keywordflow">if</span> ((ref $list_ref) =~ /ARRAY/ &amp;&amp; scalar @$list_ref) {  #  ref to array of non-zero length</div>
<div class="line">        @hash{@$list_ref} = ($value) x scalar @$list_ref;</div>
<div class="line">    }</div>
<div class="line">    elsif ((ref $list_ref) =~ /HASH/) {</div>
<div class="line">        %hash = %$list_ref;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %hash : \%hash;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  sometimes we want to keep the values</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af001ea0a7543f9644896baeb7a8455d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::array_to_hash_keys_old </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-array_to_hash_keys_old' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-array_to_hash_keys_old-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-array_to_hash_keys_old-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-array_to_hash_keys_old-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in array_to_hash_keys_old: 42</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#af001ea0a7543f9644896baeb7a8455d8">array_to_hash_keys_old</a> {  #  clunky...</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    exists $args{list} || croak <span class="stringliteral">&quot;Argument &#39;list&#39; not specified\n&quot;</span>;</div>
<div class="line">    my $list_ref = $args{list};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (! defined $list_ref) {</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? () : {};  #  <span class="keywordflow">return</span> empty <span class="keywordflow">if</span> $list_ref not defined</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  complain if it is a scalar</span></div>
<div class="line"><span class="preprocessor"></span>    croak <span class="stringliteral">&quot;Argument &#39;list&#39; is not an array ref - it is a scalar\n&quot;</span> <span class="keywordflow">if</span> ! ref ($list_ref);</div>
<div class="line"></div>
<div class="line">    my $value = $args{value};</div>
<div class="line"></div>
<div class="line">    my %hash;</div>
<div class="line">    <span class="keywordflow">if</span> ((ref $list_ref) =~ /ARRAY/ &amp;&amp; scalar @$list_ref) {  #  ref to array of non-zero length</div>
<div class="line"><span class="preprocessor">        #  make a copy of the list so we don&#39;t wreck any lists used outside the function</span></div>
<div class="line"><span class="preprocessor"></span>        my @list = @{$list_ref};</div>
<div class="line">        my $rebalance;</div>
<div class="line">        <span class="keywordflow">if</span> (scalar @list % 2) {  #  uneven non-zero count, better deal with it</div>
<div class="line">            push @list, $value;  #  add a dud value to the end</div>
<div class="line">            $rebalance = 1;</div>
<div class="line">        }</div>
<div class="line">        %hash = @list;</div>
<div class="line">        shift @list;  #  <span class="keyword">get</span> rid of the first key</div>
<div class="line">        <span class="keywordflow">if</span> ($rebalance) {  #  we don<span class="stringliteral">&#39;t want the dud value to appear as a key</span></div>
<div class="line"><span class="stringliteral">            pop @list;</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">        else {</span></div>
<div class="line"><span class="stringliteral">            push @list, $value;  #  balance </span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">        %hash = (%hash, @list);</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    elsif ((ref $list_ref) =~ /HASH/) {</span></div>
<div class="line"><span class="stringliteral">        %hash = %$list_ref;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return wantarray ? %hash : \%hash;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">#  make all the hash keys lowercase</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a14a1d32f5ca66b23327b5ca91523251a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::array_to_hash_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-array_to_hash_values' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-array_to_hash_values-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-array_to_hash_values-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-array_to_hash_values-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in array_to_hash_values: 34</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a14a1d32f5ca66b23327b5ca91523251a">array_to_hash_values</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    exists $args{list} || croak <span class="stringliteral">&quot;Argument &#39;list&#39; not specified or undef\n&quot;</span>;</div>
<div class="line">    my $list_ref = $args{list};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (! defined $list_ref) {</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? () : {};  #  <span class="keywordflow">return</span> empty <span class="keywordflow">if</span> $list_ref not defined</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  complain if it is a scalar</span></div>
<div class="line"><span class="preprocessor"></span>    croak <span class="stringliteral">&quot;Argument &#39;list&#39; is not an array ref - it is a scalar\n&quot;</span> <span class="keywordflow">if</span> ! ref ($list_ref);</div>
<div class="line">    $list_ref = [values %$list_ref] <span class="keywordflow">if</span> (ref $list_ref) =~ /HASH/;</div>
<div class="line"></div>
<div class="line">    my $prefix = $args{prefix} <span class="comment">// &quot;data&quot;;</span></div>
<div class="line"></div>
<div class="line">    my %hash;</div>
<div class="line">    my $start = <span class="stringliteral">&quot;0&quot;</span> x ($args{num_digits} || length $#$list_ref);  #  make sure it has as many chars as the end val</div>
<div class="line">    my $end = defined $args{num_digits}</div>
<div class="line">                        ? sprintf (<span class="stringliteral">&quot;%0$args{num_digits}s&quot;</span>, $#$list_ref) <span class="preprocessor">#  pad with zeroes</span></div>
<div class="line"><span class="preprocessor"></span>                        : $#$list_ref;</div>
<div class="line">    my @keys;</div>
<div class="line">    <span class="keywordflow">for</span> my $suffix (<span class="stringliteral">&quot;$start&quot;</span> .. <span class="stringliteral">&quot;$end&quot;</span>) {  #  a clunky way to build it, but the .. <span class="keyword">operator</span> won<span class="stringliteral">&#39;t play with underscores</span></div>
<div class="line"><span class="stringliteral">        push @keys, &quot;$prefix\_$suffix&quot;; </span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    if ((ref $list_ref) =~ /ARRAY/ &amp;&amp; scalar @$list_ref) {  #  ref to array of non-zero length</span></div>
<div class="line"><span class="stringliteral">        @hash{@keys} = $args{sort_array_lists} ? sort numerically @$list_ref : @$list_ref;  #  sort if needed</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return wantarray ? %hash : \%hash;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">#  get the intersection of two lists</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a8aedf3e2dc236ea8e6cda329c53da3bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::clear_spatial_condition_caches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clear_spatial_condition_caches' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clear_spatial_condition_caches-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clear_spatial_condition_caches-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clear_spatial_condition_caches-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clear_spatial_condition_caches: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a8aedf3e2dc236ea8e6cda329c53da3bb">clear_spatial_condition_caches</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    eval {</div>
<div class="line">        <span class="keywordflow">foreach</span> my $sp (@{$self-&gt;get_param (<span class="stringliteral">&#39;SPATIAL_PARAMS&#39;</span>)}) {</div>
<div class="line">            $sp-&gt;delete_cached_values (keys =&gt; $args{keys});</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">    eval {</div>
<div class="line">        my $def_query = $self-&gt;get_param(<span class="stringliteral">&#39;DEFINITION_QUERY&#39;</span>);</div>
<div class="line">        $def_query-&gt;delete_cached_values (keys =&gt; $args{keys})</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a689c4f8181610335cb69b2ca4ea192a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::clear_spatial_index_csv_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clear_spatial_index_csv_object' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clear_spatial_index_csv_object-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clear_spatial_index_csv_object-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clear_spatial_index_csv_object-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clear_spatial_index_csv_object: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a689c4f8181610335cb69b2ca4ea192a3">clear_spatial_index_csv_object</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $name = $self-&gt;get_param (<span class="stringliteral">&#39;NAME&#39;</span>);</div>
<div class="line">    my $cleared;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (my $sp_index = $self-&gt;get_param (<span class="stringliteral">&#39;SPATIAL_INDEX&#39;</span>)) {</div>
<div class="line">        $sp_index-&gt;delete_param(<span class="stringliteral">&#39;CSV_OBJECT&#39;</span>);</div>
<div class="line">        $sp_index-&gt;delete_cached_values (keys =&gt; [<span class="stringliteral">&#39;CSV_OBJECT&#39;</span>]);</div>
<div class="line">        $cleared = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $cleared;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adcb22d7cd0a837e84e40ea0f1c3b6a37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clone' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clone-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clone-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clone-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clone: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#adcb22d7cd0a837e84e40ea0f1c3b6a37">clone</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;  #  only works with argument <span class="stringliteral">&#39;data&#39;</span> <span class="keywordflow">for</span> now</div>
<div class="line"></div>
<div class="line">    my $cloneref;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ((scalar keys %args) == 0) {</div>
<div class="line"><span class="preprocessor">        #$cloneref = dclone($self);</span></div>
<div class="line"><span class="preprocessor"></span>        $cloneref = Clone::clone ($self);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">        #$cloneref = dclone ($args{data});</span></div>
<div class="line"><span class="preprocessor"></span>        $cloneref = Clone::clone ($args{data});</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $cloneref;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a885cfd63f5e23e908347b0afbeb7de26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::compare_lists_by_item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-compare_lists_by_item' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-compare_lists_by_item-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-compare_lists_by_item-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-compare_lists_by_item-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in compare_lists_by_item: 55</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a885cfd63f5e23e908347b0afbeb7de26">compare_lists_by_item</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $base_ref = $args{base_list_ref};</div>
<div class="line">    my $comp_ref = $args{comp_list_ref};</div>
<div class="line"></div>
<div class="line">    my $results  = $args{results_list_ref};</div>
<div class="line"></div>
<div class="line">    COMP_BY_ITEM:</div>
<div class="line">    <span class="keywordflow">foreach</span> my $index (keys %$base_ref) {</div>
<div class="line"><span class="preprocessor">    #while (my ($index, $op) = each %$comparisons) {</span></div>
<div class="line"><span class="preprocessor"></span>        next COMP_BY_ITEM</div>
<div class="line">            <span class="keywordflow">if</span>    not defined $base_ref-&gt;{$index}</div>
<div class="line">               or not exists  $comp_ref-&gt;{$index}</div>
<div class="line">               or not defined $comp_ref-&gt;{$index};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  compare at 10 decimal place precision</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #  this also allows for serialisation which</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #     rounds the numbers to 15 decimals</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #  should really make the precision an option in the metadata</span></div>
<div class="line"><span class="preprocessor"></span>        my $base = $self-&gt;set_precision (</div>
<div class="line">            precision =&gt; <span class="stringliteral">&#39;%.10f&#39;</span>,</div>
<div class="line">            value     =&gt; $base_ref-&gt;{$index},</div>
<div class="line">        );</div>
<div class="line">        my $comp = $self-&gt;set_precision (</div>
<div class="line">            precision =&gt; <span class="stringliteral">&#39;%.10f&#39;</span>,</div>
<div class="line">            value     =&gt; $comp_ref-&gt;{$index},</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  make sure it gets a value of 0 if false</span></div>
<div class="line"><span class="preprocessor"></span>        my $increment = 0;</div>
<div class="line">        <span class="keywordflow">if</span> (eval {$base &gt; $comp}) {</div>
<div class="line">            $increment = 1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  for debug, but leave just in case</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #carp &quot;$element, $op\n$comp\n$base  &quot; . ($comp - $base) if $increment;  </span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        #   C is count passed</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #   Q is quantum, or number of comparisons</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #   P is the percentile rank amongst the valid comparisons,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #      and has a range of [0,1]</span></div>
<div class="line"><span class="preprocessor"></span>        $results-&gt;{<span class="stringliteral">&quot;C_$index&quot;</span>} += $increment;    </div>
<div class="line">        $results-&gt;{<span class="stringliteral">&quot;Q_$index&quot;</span>} ++;</div>
<div class="line">        $results-&gt;{<span class="stringliteral">&quot;P_$index&quot;</span>} =   $results-&gt;{<span class="stringliteral">&quot;C_$index&quot;</span>}</div>
<div class="line">                                 / $results-&gt;{<span class="stringliteral">&quot;Q_$index&quot;</span>};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  track the number of ties</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($base == $comp) {</div>
<div class="line">            $results-&gt;{<span class="stringliteral">&quot;T_$index&quot;</span>} ++;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $results;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4caf609c078dbe28263234b9129e01c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::csv2list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-csv2list' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-csv2list-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-csv2list-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-csv2list-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in csv2list: 41</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a4caf609c078dbe28263234b9129e01c2">csv2list</a> {  #  <span class="keywordflow">return</span> a list of values from a csv <span class="keywordtype">string</span></div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $csv_obj = $args{csv_object};</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $csv_obj</div>
<div class="line">        #|| (blessed $csv_obj) !~ /Text::CSV_XS/</div>
<div class="line">        ) {</div>
<div class="line">        $csv_obj = $self-&gt;get_csv_object (%args);</div>
<div class="line">    }</div>
<div class="line">    my $string = $args{<span class="keywordtype">string</span>};</div>
<div class="line">    $string = $$string <span class="keywordflow">if</span> ref $string;</div>
<div class="line"></div>
<div class="line">    my @Fld;</div>
<div class="line">    <span class="keywordflow">if</span> ($csv_obj-&gt;parse($string)) {</div>
<div class="line"><span class="preprocessor">        #print &quot;STRING IS: $string&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        @Fld = $csv_obj-&gt;fields;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (length $string &gt; 50) {</div>
<div class="line">            $string = substr $string, 0, 50;</div>
<div class="line">            $string .= <span class="stringliteral">&#39;...&#39;</span>;</div>
<div class="line">        }</div>
<div class="line">        my $error_string = join (</div>
<div class="line">            $EMPTY_STRING,</div>
<div class="line">            <span class="stringliteral">&quot;csv2list parse() failed\n&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;String: $string\n&quot;</span>,</div>
<div class="line">            $csv_obj-&gt;error_diag,</div>
<div class="line">            <span class="stringliteral">&quot;\nline $.\nQuote Char is &quot;</span>,</div>
<div class="line">            $csv_obj-&gt;quote_char,</div>
<div class="line">            <span class="stringliteral">&quot;\nsep char is &quot;</span>,</div>
<div class="line">            $csv_obj-&gt;sep_char,</div>
<div class="line">            <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        );</div>
<div class="line">        croak $error_string;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? @Fld : \@Fld;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  get a csv object to pass to the csv routines</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a44c6b9f504f11694ddbeb57429433ec3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::delete_cached_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_cached_values' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-delete_cached_values-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_cached_values-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_cached_values-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in delete_cached_values: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a44c6b9f504f11694ddbeb57429433ec3">delete_cached_values</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! exists $self-&gt;{_cache};</div>
<div class="line"></div>
<div class="line">    my $keys = $args{keys} || $self-&gt;get_cached_value_keys;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not defined $keys or scalar @$keys == 0;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> @{$self-&gt;{_cache}}{@$keys};</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{_cache} <span class="keywordflow">if</span> scalar keys %{$self-&gt;{_cache}} == 0;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  This was generating spurious warnings under test regime.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  It should be unnecesary anyway.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #warn &quot;Cache deletion problem\n$EVAL_ERROR\n&quot;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  if $EVAL_ERROR;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    #warn &quot;XXXXXXX &quot;  . $self-&gt;get_name . &quot;\n&quot; if exists $self-&gt;{_cache};</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a290750f49361e33bbf9aaf6c4afae56a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::delete_param </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_param' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-delete_param-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_param-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_param-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in delete_param: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a290750f49361e33bbf9aaf6c4afae56a">delete_param</a> {  #  just passes everything through to <a class="code" href="classBiodiverse_1_1Common.html#adfc0b8fac0633e9a754ab20e0845b55b">delete_params</a></div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;delete_params(@_);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adfc0b8fac0633e9a754ab20e0845b55b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::delete_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_params' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-delete_params-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_params-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_params-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in delete_params: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#adfc0b8fac0633e9a754ab20e0845b55b">delete_params</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my $count = 0;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $param (@_) {  #  should only <span class="keyword">delete</span> those that exist...</div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">delete</span> $self-&gt;{PARAMS}{$param}) {</div>
<div class="line">            $count ++;</div>
<div class="line">            print <span class="stringliteral">&quot;Deleted parameter $param from $self\n&quot;</span></div>
<div class="line">                <span class="keywordflow">if</span> $self-&gt;get_param(<span class="stringliteral">&#39;PARAM_CHANGE_WARN&#39;</span>);</div>
<div class="line">        }</div>
<div class="line">    }  #  inefficient, as we could use a hash slice to <span class="keywordflow">do</span> all in one hit, but allows better feedback</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $count;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a20aa4b422dfee4629fb82972d65a81f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::delete_spatial_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-delete_spatial_index' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-delete_spatial_index-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-delete_spatial_index-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-delete_spatial_index-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in delete_spatial_index: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a20aa4b422dfee4629fb82972d65a81f0">delete_spatial_index</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $name = $self-&gt;get_param (<span class="stringliteral">&#39;NAME&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;get_param (<span class="stringliteral">&#39;SPATIAL_INDEX&#39;</span>)) {</div>
<div class="line">        my $class = blessed $self;</div>
<div class="line">        print <span class="stringliteral">&quot;[$class] Deleting spatial index from $name\n&quot;</span>;</div>
<div class="line">        $self-&gt;delete_param(<span class="stringliteral">&#39;SPATIAL_INDEX&#39;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2f373fe913bc9bfb2edfe994d9d09621"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::dump_to_xml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-dump_to_xml' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-dump_to_xml-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-dump_to_xml-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-dump_to_xml-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in dump_to_xml: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a2f373fe913bc9bfb2edfe994d9d09621">dump_to_xml</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $data = $args{data};</div>
<div class="line"></div>
<div class="line">    my $file = $args{filename};</div>
<div class="line">    <span class="keywordflow">if</span> (defined $file) {</div>
<div class="line">        $file = Path::Class::file($args{filename})-&gt;absolute;</div>
<div class="line">        print <span class="stringliteral">&quot;WRITING TO FILE $file\n&quot;</span>;</div>
<div class="line">        open (my $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $file);</div>
<div class="line">        print $fh dump_xml ($data);</div>
<div class="line">        $fh-&gt;close;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        print dump_xml ($data);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $file;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2339c9545479573bea0d8b434ac7f99b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::dump_to_yaml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-dump_to_yaml' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-dump_to_yaml-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-dump_to_yaml-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-dump_to_yaml-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in dump_to_yaml: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a2339c9545479573bea0d8b434ac7f99b">dump_to_yaml</a> {  </div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $data = $args{data};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (defined $args{filename}) {</div>
<div class="line">        my $file = Path::Class::file($args{filename})-&gt;absolute;</div>
<div class="line">        print <span class="stringliteral">&quot;WRITING TO FILE $file\n&quot;</span>;</div>
<div class="line">        YAML::Syck::DumpFile ($file, $data);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        print YAML::Syck::Dump ($data);</div>
<div class="line">        print <span class="stringliteral">&quot;...\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $args{filename};</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab78042c764d1eed3619c531a816b5e80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::escape_filename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-escape_filename' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-escape_filename-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-escape_filename-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-escape_filename-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in escape_filename: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#ab78042c764d1eed3619c531a816b5e80">escape_filename</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $string = $args{<span class="keywordtype">string</span>};</div>
<div class="line"></div>
<div class="line">    croak <span class="stringliteral">&quot;Argument &#39;string&#39; undefined\n&quot;</span></div>
<div class="line">      <span class="keywordflow">if</span> !defined $string;</div>
<div class="line"></div>
<div class="line">    use URI::Escape::XS qw/uri_escape/;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> uri_escape ($string);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a1376d46e666d76fbbad3edcd2f9f324d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::exists_param </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-exists_param' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-exists_param-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-exists_param-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-exists_param-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in exists_param: 8</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a1376d46e666d76fbbad3edcd2f9f324d">exists_param</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $param = shift;</div>
<div class="line">    croak <span class="stringliteral">&quot;param not specified\n&quot;</span> <span class="keywordflow">if</span> !defined $param;</div>
<div class="line">    </div>
<div class="line">    my $x = exists $self-&gt;{PARAMS}{$param};</div>
<div class="line">    <span class="keywordflow">return</span> $x;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a7b6b6e5f9a99ef7c77cc51e0e8bf8940"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::find_circular_refs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-find_circular_refs' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-find_circular_refs-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-find_circular_refs-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-find_circular_refs-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in find_circular_refs: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a7b6b6e5f9a99ef7c77cc51e0e8bf8940">find_circular_refs</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (0) {  #  <span class="keyword">set</span> to 0 to <span class="stringliteral">&quot;turn it off&quot;</span></div>
<div class="line">        eval q<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral">                use Devel::Cycle;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">                foreach my $ref (@_) {</span></div>
<div class="line"><span class="stringliteral">                    print &quot;testing circularity of $ref\n&quot;;</span></div>
<div class="line"><span class="stringliteral">                    find_cycle($ref);</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">                &#39;</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0365bc0d4ca6304bdc498a2e46afc154"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_args </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_args' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_args-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_args-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_args-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_args: 34</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a0365bc0d4ca6304bdc498a2e46afc154">get_args</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $sub = $args{sub} || croak <span class="stringliteral">&quot;sub not specified in get_args call\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    my $metadata_sub = <span class="stringliteral">&quot;get_metadata_$sub&quot;</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (my ($package, $subname) = $sub =~ / ( (?:[^:]+ ::)+ ) (.+) /xms) {</div>
<div class="line">        $metadata_sub = $package . <span class="stringliteral">&#39;get_metadata_&#39;</span> . $subname;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $sub_args;</div>
<div class="line"><span class="preprocessor">    #  use an eval to trap subs that don&#39;t allow the get_args option</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (blessed $self) {</div>
<div class="line">        $sub_args = eval {$self-&gt;$metadata_sub (%args)};</div>
<div class="line">        my $error = $EVAL_ERROR;</div>
<div class="line">        <span class="keywordflow">if</span> (blessed $error) {</div>
<div class="line">            $error-&gt;rethrow;</div>
<div class="line">        }</div>
<div class="line">        elsif ($error) {</div>
<div class="line">            croak <span class="stringliteral">&quot;$sub does not seem to have valid get_args metadata\n&quot;</span></div>
<div class="line">                  . $error;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {  #  called in non-OO manner  - not ideal (old style)</div>
<div class="line">        croak <span class="stringliteral">&quot;get_args called in non-OO manner - this is deprecated.\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (! defined $sub_args) {</div>
<div class="line">        $sub_args = {} ;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %$sub_args : $sub_args;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6e6cf60e119562f31eb5e12638f732d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_basedata_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_basedata_ref' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_basedata_ref-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_basedata_ref-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_basedata_ref-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_basedata_ref: 10</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a6e6cf60e119562f31eb5e12638f732d2">get_basedata_ref</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my $bd = $self-&gt;get_param (<span class="stringliteral">&#39;BASEDATA_REF&#39;</span>)</div>
<div class="line">           || Biodiverse::MissingBasedataRef-&gt;throw (</div>
<div class="line">              message =&gt; <span class="stringliteral">&#39;Parameter BASEDATA_REF not set&#39;</span></div>
<div class="line">            );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $bd;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3422726df1502e2f641c9d57c923ca88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_cached_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_cached_value' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_cached_value-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_cached_value-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_cached_value-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_cached_value: 11</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a3422726df1502e2f641c9d57c923ca88">get_cached_value</a> {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! exists $_[0]-&gt;{_cache}{$_[1]};</div>
<div class="line">    <span class="keywordflow">return</span> $_[0]-&gt;{_cache}{$_[1]};</div>
<div class="line"><span class="preprocessor">#    my $self = shift;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $key = shift;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">##    return if ! exists $self-&gt;{_cache};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">##    return $self-&gt;{_cache}{$key} if exists $self-&gt;{_cache}{$key};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">##    return;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    return if ! exists $self-&gt;{_cache}{$key};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    return $self-&gt;{_cache}{$key};</span></div>
<div class="line"><span class="preprocessor">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae9ffe9f979dbaf23b71b8b4f8ef4ae73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_cached_value_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_cached_value_keys' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_cached_value_keys-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_cached_value_keys-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_cached_value_keys-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_cached_value_keys: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#ae9ffe9f979dbaf23b71b8b4f8ef4ae73">get_cached_value_keys</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! exists $self-&gt;{_cache};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray</div>
<div class="line">        ? keys %{$self-&gt;{_cache}}</div>
<div class="line">        : [keys %{$self-&gt;{_cache}}];</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a205c09a561ad6ed41b26dfce93cd38c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_csv_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_csv_object' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_csv_object-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_csv_object-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_csv_object-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_csv_object: 56</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a205c09a561ad6ed41b26dfce93cd38c7">get_csv_object</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = (</div>
<div class="line">        quote_char      =&gt; q{<span class="stringliteral">&quot;},  #  set some defaults</span></div>
<div class="line"><span class="stringliteral">        sep_char        =&gt; q{,},</span></div>
<div class="line"><span class="stringliteral">        binary          =&gt; 1,</span></div>
<div class="line"><span class="stringliteral">        blank_is_undef  =&gt; 1,</span></div>
<div class="line"><span class="stringliteral">        quote_space     =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        always_quote    =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        #eol             =&gt; &quot;</span>\n<span class="stringliteral">&quot;,  #  comment out - use EOL on demand</span></div>
<div class="line"><span class="stringliteral">        @_,</span></div>
<div class="line"><span class="stringliteral">    );</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    #  csv_xs v0.41 will not ignore invalid args</span></div>
<div class="line"><span class="stringliteral">    #  - this is most annoying as we will have to update this list every time csv_xs is updated</span></div>
<div class="line"><span class="stringliteral">    my %valid_csv_args = (</span></div>
<div class="line"><span class="stringliteral">        quote_char          =&gt; 1,</span></div>
<div class="line"><span class="stringliteral">        escape_char         =&gt; 1,</span></div>
<div class="line"><span class="stringliteral">        sep_char            =&gt; 1,</span></div>
<div class="line"><span class="stringliteral">        eol                 =&gt; 1,</span></div>
<div class="line"><span class="stringliteral">        always_quote        =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        binary              =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        keep_meta_info      =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        allow_loose_quotes  =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        allow_loose_escapes =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        allow_whitespace    =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        blank_is_undef      =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        verbatim            =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">        empty_is_undef      =&gt; 1,</span></div>
<div class="line"><span class="stringliteral">    );</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    if (! defined $args{escape_char}) {</span></div>
<div class="line"><span class="stringliteral">        $args{escape_char} = $args{quote_char};</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    foreach my $arg (keys %args) {</span></div>
<div class="line"><span class="stringliteral">        if (! exists $valid_csv_args{$arg}) {</span></div>
<div class="line"><span class="stringliteral">            delete $args{$arg};</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    my $csv = Text::CSV_XS -&gt; new({%args});</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    croak Text::CSV_XS-&gt;error_diag ()</span></div>
<div class="line"><span class="stringliteral">      if ! defined $csv;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return $csv;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">#############################################################</span></div>
<div class="line"><span class="stringliteral">## </span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">#  convert an array to a hash, where the array values are keys and all the values are the same</span></div>
<div class="line"><span class="stringliteral">#  empty arrays return an empty hash</span></div>
<div class="line"><span class="stringliteral">#  if passed a hash, then it sends it straight back</span></div>
<div class="line"><span class="stringliteral">#  croaks if passed a scalar</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a03d2ec6bbdd2c722c540a6a4ab2d8b99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_csv_object_for_export </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_csv_object_for_export' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_csv_object_for_export-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_csv_object_for_export-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_csv_object_for_export-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_csv_object_for_export: 34</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a03d2ec6bbdd2c722c540a6a4ab2d8b99">get_csv_object_for_export</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $sep_char = $args{sep_char}</div>
<div class="line">                    || $self-&gt;get_param (<span class="stringliteral">&#39;OUTPUT_SEP_CHAR&#39;</span>)</div>
<div class="line">                    || q{,};</div>
<div class="line"></div>
<div class="line">    my $quote_char = $args{quote_char}</div>
<div class="line">                    || $self-&gt;get_param (<span class="stringliteral">&#39;OUTPUT_QUOTE_CHAR&#39;</span>)</div>
<div class="line">                    || q{<span class="stringliteral">&quot;};</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    if ($quote_char =~ /space/) {</span></div>
<div class="line"><span class="stringliteral">        $quote_char = &quot;</span>\ <span class="stringliteral">&quot;;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    elsif ($quote_char =~ /tab/) {</span></div>
<div class="line"><span class="stringliteral">        $quote_char = &quot;</span>\t<span class="stringliteral">&quot;;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    if ($sep_char =~ /space/) {</span></div>
<div class="line"><span class="stringliteral">        $sep_char = &quot;</span>\ <span class="stringliteral">&quot;;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    elsif ($sep_char =~ /tab/) {</span></div>
<div class="line"><span class="stringliteral">        $sep_char = &quot;</span>\t<span class="stringliteral">&quot;;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    my $csv_obj = $self-&gt;get_csv_object (</span></div>
<div class="line"><span class="stringliteral">        sep_char =&gt; $sep_char,</span></div>
<div class="line"><span class="stringliteral">        quote_char =&gt; $quote_char,</span></div>
<div class="line"><span class="stringliteral">    );</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return $csv_obj;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa7f211ce1624b886fe561f48699ed801"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_hash_inverted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_hash_inverted' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_hash_inverted-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_hash_inverted-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_hash_inverted-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_hash_inverted: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#aa7f211ce1624b886fe561f48699ed801">get_hash_inverted</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $list = $args{list} || croak <span class="stringliteral">&quot;list not specified\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    my %inv_list;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $key1 (keys %$list) {</div>
<div class="line">        <span class="keywordflow">foreach</span> my $key2 (keys %{$list-&gt;{$key1}}) {</div>
<div class="line">            $inv_list{$key2}{$key1} = $list-&gt;{$key1}{$key2};  #  may as well keep the value - it may have meaning</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %inv_list : \%inv_list;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a23cb492a9eed259a2be171b409521739"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_last_update_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_last_update_time' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_last_update_time-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_last_update_time-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_last_update_time-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_last_update_time: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a23cb492a9eed259a2be171b409521739">get_last_update_time</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#ab29c1c28ea738e6fe65b30c057917795">get_param</a> (<span class="stringliteral">&#39;LAST_UPDATE_TIME&#39;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ac11cb0b03f08fe0f7d8cb929810b5b80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_list_as_flat_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_list_as_flat_hash' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_list_as_flat_hash-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_list_as_flat_hash-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_list_as_flat_hash-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_list_as_flat_hash: 40</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#ac11cb0b03f08fe0f7d8cb929810b5b80">get_list_as_flat_hash</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $list = $args{list} || croak <span class="stringliteral">&quot;[Common] Argument &#39;list&#39; not specified\n&quot;</span>;</div>
<div class="line">    <span class="keyword">delete</span> $args{list};  #  saves passing it onwards</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  check the first one</span></div>
<div class="line"><span class="preprocessor"></span>    my $list_reftype = reftype ($list);</div>
<div class="line">    croak <span class="stringliteral">&#39;list arg must be a hash or array ref, not &#39;</span> . ($list_reftype || <span class="stringliteral">&#39;undef&#39;</span>) . <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">      <span class="keywordflow">if</span> not (defined $list_reftype or $list_reftype =~ /ARRAY|HASH/);</div>
<div class="line"></div>
<div class="line">    my @refs = ($list);  #  start with <span class="keyword">this</span></div>
<div class="line">    my %flat_hash;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $ref (@refs) {</div>
<div class="line">        my $reftype = reftype $ref;</div>
<div class="line">        <span class="keywordflow">if</span> ($reftype eq <span class="stringliteral">&#39;ARRAY&#39;</span>) {</div>
<div class="line">            @flat_hash{@$ref} = (1) x scalar @$ref;</div>
<div class="line">        }</div>
<div class="line">        elsif ($reftype eq <span class="stringliteral">&#39;HASH&#39;</span>) {</div>
<div class="line">            <span class="keywordflow">foreach</span> my $key (keys %$ref) {</div>
<div class="line">                my $reftype2 = reftype ($ref-&gt;{$key});</div>
<div class="line">                <span class="keywordflow">if</span> (not $reftype2) {  #  not a ref, so must be a single level hash list</div>
<div class="line">                    $flat_hash{$key} = $ref-&gt;{$key};</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                    #  push this ref onto the stack</span></div>
<div class="line"><span class="preprocessor"></span>                    push @refs, $ref-&gt;{$key};</div>
<div class="line"><span class="preprocessor">                    #  keep this branch key if needed</span></div>
<div class="line"><span class="preprocessor"></span>                    <span class="keywordflow">if</span> ($args{keep_branches}) {</div>
<div class="line">                        $flat_hash{$key} = $args{default_value};</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %flat_hash : \%flat_hash;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4d4c0b66a3d2ad72ac12f807cb64bedc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_list_intersection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_list_intersection' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_list_intersection-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_list_intersection-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_list_intersection-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_list_intersection: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a4d4c0b66a3d2ad72ac12f807cb64bedc">get_list_intersection</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my @list1 = @{$args{list1}};</div>
<div class="line">    my @list2 = @{$args{list2}};</div>
<div class="line"></div>
<div class="line">    my %exists;</div>
<div class="line"><span class="preprocessor">    #@exists{@list1} = (1) x scalar @list1;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #my @list = grep { $exists{$_} } @list2;</span></div>
<div class="line"><span class="preprocessor"></span>    @exists{@list1} = undef;</div>
<div class="line">    my @list = grep { exists $exists{$_} } @list2;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? @list : \@list;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  move an item to the front of the list, splice it out of its first slot if found</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#  should use List::MoreUtils::first_index</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#  additional arg add_if_not_found allows it to be added anyway</span></div>
<div class="line"><span class="preprocessor">#  works on a ref, so take care</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a211c58f08d6a9d94d03dab33c8379474"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_name' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_name-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_name-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_name-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_name: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a211c58f08d6a9d94d03dab33c8379474">get_name</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;get_param (<span class="stringliteral">&#39;NAME&#39;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0e36614a87b841a8fd538ab3b474e30e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_next_line_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_next_line_set' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_next_line_set-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_next_line_set-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_next_line_set-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_next_line_set: 43</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a0e36614a87b841a8fd538ab3b474e30e">get_next_line_set</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $progress_bar        = <a class="code" href="classBiodiverse_1_1Progress.html">Biodiverse::Progress</a>-&gt;<a class="code" href="classBiodiverse_1_1Progress.html#a88f4cef6f66986952a850fb70a2b62d8">new</a> (gui_only =&gt; 1);</div>
<div class="line">    my $file_handle         = $args{file_handle};</div>
<div class="line">    my $target_line_count   = $args{target_line_count};</div>
<div class="line">    my $file_name           = $args{file_name}    || $EMPTY_STRING;</div>
<div class="line">    my $size_comment        = $args{size_comment} || $EMPTY_STRING;</div>
<div class="line">    my $csv                 = $args{csv_object};</div>
<div class="line"></div>
<div class="line">    my $progress_pfx = <span class="stringliteral">&quot;Loading next $target_line_count lines \n&quot;</span></div>
<div class="line">                    . <span class="stringliteral">&quot;of $file_name into memory\n&quot;</span></div>
<div class="line">                    . $size_comment;</div>
<div class="line"></div>
<div class="line">    $progress_bar-&gt;update ($progress_pfx, 0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  now we read the lines</span></div>
<div class="line"><span class="preprocessor"></span>    my @lines;</div>
<div class="line">    <span class="keywordflow">while</span> (scalar @lines &lt; $target_line_count) {</div>
<div class="line">        my $line = $csv-&gt;getline ($file_handle);</div>
<div class="line">        <span class="keywordflow">if</span> (not $csv-&gt;error_diag) {</div>
<div class="line">            push @lines, $line;</div>
<div class="line">        }</div>
<div class="line">        elsif (not $csv-&gt;eof) {</div>
<div class="line">            print $csv-&gt;error_diag;</div>
<div class="line">            $csv-&gt;SetDiag (0);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ($csv-&gt;eof) {</div>
<div class="line"><span class="preprocessor">            #$self -&gt; set_param (IMPORT_TOTAL_CHUNK_TEXT =&gt; $$chunk_count);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #pop @lines if not defined $line;  #  undef returned for last line in some cases</span></div>
<div class="line"><span class="preprocessor"></span>            last;</div>
<div class="line">        }</div>
<div class="line">        $progress_bar-&gt;update (</div>
<div class="line">            $progress_pfx,</div>
<div class="line">            (scalar @lines / $target_line_count),</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? @lines : \@lines;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  get the metadata for a subroutine</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab29c1c28ea738e6fe65b30c057917795"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_param </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_param' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_param-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_param-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_param-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_param: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#ab29c1c28ea738e6fe65b30c057917795">get_param</a> {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! exists $_[0]-&gt;{PARAMS}{$_[1]};</div>
<div class="line">    <span class="keywordflow">return</span> $_[0]-&gt;{PARAMS}{$_[1]};</div>
<div class="line"><span class="preprocessor">    #my $self = shift;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #my $param = shift;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    ##if (! exists $self-&gt;{PARAMS}{$param}) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    ##    carp &quot;get_param WARNING: Parameter $param does not exist in $self.\n&quot;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    ##        if $self-&gt;{PARAMS}{PARAM_CHANGE_WARN};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    ##    return;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    ##}</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #return if ! exists $self-&gt;{PARAMS}{$param};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #return $self-&gt;{PARAMS}{$param};</span></div>
<div class="line"><span class="preprocessor">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a5f626db4e975ad97bb58d8f0f6638ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_param_as_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_param_as_ref' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_param_as_ref-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_param_as_ref-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_param_as_ref-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_param_as_ref: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a5f626db4e975ad97bb58d8f0f6638ed8">get_param_as_ref</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $param = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! $self-&gt;exists_param ($param);</div>
<div class="line"></div>
<div class="line">    my $value = $self-&gt;get_param ($param);</div>
<div class="line">    my $test_value = $value;  #  <span class="keywordflow">for</span> debug</div>
<div class="line">    <span class="keywordflow">if</span> (not ref $value) {</div>
<div class="line">        $value = \$self-&gt;{PARAMS}{$param};  #  create a ref <span class="keywordflow">if</span> it is not one already</div>
<div class="line"><span class="preprocessor">        #  debug checker</span></div>
<div class="line"><span class="preprocessor"></span>        carp <span class="stringliteral">&quot;issues in get_param_as_ref $value $test_value\n&quot;</span> <span class="keywordflow">if</span> $$value ne $test_value;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $value;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a09b855ca0d7a5a4cfcdb22bbf8f83c0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_params_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_params_hash' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_params_hash-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_params_hash-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_params_hash-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_params_hash: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a09b855ca0d7a5a4cfcdb22bbf8f83c0f">get_params_hash</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $params = $self-&gt;{PARAMS};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %$params : $params;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a42f42fd19c17ad82b4d6930a50a10f75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_poss_elements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_poss_elements' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_poss_elements-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_poss_elements-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_poss_elements-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_poss_elements: 72</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a42f42fd19c17ad82b4d6930a50a10f75">get_poss_elements</a> {  #  generate a list of values between two extrema given a resolution</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $soFar       = $args{soFar} || [];  #  reference to an array of values</div>
<div class="line">    my $depth       = $args{depth} || 0;</div>
<div class="line">    my $minima      = $args{minima};  #  should really be extrema1 and extrema2 not <a class="code" href="classBiodiverse_1_1Common.html#a217ce872bd6ede2fcf424a9e59612329">min</a> and <a class="code" href="classBiodiverse_1_1Common.html#ae18d0b2241d1d624991708c60833dc76">max</a></div>
<div class="line">    my $maxima      = $args{maxima};</div>
<div class="line">    my $resolutions = $args{resolutions};</div>
<div class="line">    my $precision   = $args{precision} || [(<span class="stringliteral">&quot;%.10f&quot;</span>) x scalar @$minima];</div>
<div class="line">    my $sep_char    = $args{sep_char} || $self-&gt;get_param(<span class="stringliteral">&#39;JOIN_CHAR&#39;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  need to add rule to cope with zero resolution</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    #  go through each element of @$soFar and append one of the values from this level</span></div>
<div class="line"><span class="preprocessor"></span>    my @thisDepth;</div>
<div class="line"></div>
<div class="line">    my $min = <a class="code" href="classBiodiverse_1_1Common.html#a217ce872bd6ede2fcf424a9e59612329">min</a> ($minima-&gt;[$depth], $maxima-&gt;[$depth]);</div>
<div class="line">    my $max = <a class="code" href="classBiodiverse_1_1Common.html#ae18d0b2241d1d624991708c60833dc76">max</a> ($minima-&gt;[$depth], $maxima-&gt;[$depth]);</div>
<div class="line">    my $res = $resolutions-&gt;[$depth];</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  debug stuff</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #if ($res &gt; 20) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #my $val = $min;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #print $val, &quot;::&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #$val += $res;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #print $val, &quot;::&quot;, $max, &quot;::(sprintf ($precision-&gt;[$depth], $val) + 0) &lt;= $max\::&quot;,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #        (sprintf ($precision-&gt;[$depth], $val) + 0) &lt;= $max, &quot;::end\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #print $EMPTY_STRING;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #}</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    #  need to fix the precision for some floating point comparisons</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">for</span> (my $value = $min;</div>
<div class="line">         (0 + $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a578221cbdae8ac64e92b67adb69432c0">set_precision</a> (</div>
<div class="line">                precision =&gt; $precision-&gt;[$depth],</div>
<div class="line">                value =&gt; $value)</div>
<div class="line">          ) &lt;= $max;</div>
<div class="line">         $value += $res) {</div>
<div class="line"></div>
<div class="line">        my $val = 0</div>
<div class="line">            + $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a578221cbdae8ac64e92b67adb69432c0">set_precision</a> (</div>
<div class="line">                precision =&gt; $precision-&gt;[$depth],</div>
<div class="line">                value     =&gt; $value,</div>
<div class="line">            );</div>
<div class="line">        <span class="keywordflow">if</span> ($depth &gt; 0) {</div>
<div class="line">            <span class="keywordflow">foreach</span> my $element (@$soFar) {</div>
<div class="line"><span class="preprocessor">                #print &quot;$element . $sep_char . $value\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>                push @thisDepth, $element . $sep_char . $val;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            push (@thisDepth, $val);</div>
<div class="line">        }</div>
<div class="line">        last <span class="keywordflow">if</span> $min == $max;  #  avoid infinite loop</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $soFar = \@thisDepth;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($depth &lt; $#$minima) {</div>
<div class="line">        my $nextDepth = $depth + 1;</div>
<div class="line">        $soFar = $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a42f42fd19c17ad82b4d6930a50a10f75">get_poss_elements</a> (</div>
<div class="line">            %args,</div>
<div class="line">            sep_char  =&gt; $sep_char,</div>
<div class="line">            precision =&gt; $precision,</div>
<div class="line">            depth     =&gt; $nextDepth,</div>
<div class="line">            soFar     =&gt; $soFar</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $soFar;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2d95a6b4bc7314c62fee3d25a40cecba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_shared_hash_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_shared_hash_keys' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_shared_hash_keys-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_shared_hash_keys-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_shared_hash_keys-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_shared_hash_keys: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a2d95a6b4bc7314c62fee3d25a40cecba">get_shared_hash_keys</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $lists = $args{lists};</div>
<div class="line">    croak <span class="stringliteral">&quot;lists arg is not an array ref\n&quot;</span> <span class="keywordflow">if</span> not (ref $lists) =~ /ARRAY/;</div>
<div class="line"></div>
<div class="line">    my %shared = %{shift @$lists};  #  copy the first one</div>
<div class="line">    <span class="keywordflow">foreach</span> my $list (@$lists) {</div>
<div class="line">        my %tmp2 = %shared;  #  <span class="keyword">get</span> a copy</div>
<div class="line">        <span class="keyword">delete</span> @tmp2{keys %$list};  #  <span class="keyword">get</span> the <span class="keyword">set</span> not in common</div>
<div class="line">        <span class="keyword">delete</span> @shared{keys %tmp2};  #  <span class="keyword">delete</span> those not in common</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %shared : \%shared;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0090ee1830660ac23e525e48b9b63d3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_subs_with_prefix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_subs_with_prefix' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_subs_with_prefix-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_subs_with_prefix-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_subs_with_prefix-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_subs_with_prefix: 13</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a0090ee1830660ac23e525e48b9b63d3a">get_subs_with_prefix</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $prefix = $args{prefix};</div>
<div class="line">    croak <span class="stringliteral">&quot;prefix not defined\n&quot;</span> <span class="keywordflow">if</span> not defined $prefix;</div>
<div class="line">    </div>
<div class="line">    my $methods = Class::Inspector-&gt;methods ($args{<span class="keyword">class</span>} or blessed ($self));</div>
<div class="line"></div>
<div class="line">    my %subs = map {$_ =&gt; 1} grep {$_ =~ /^$prefix/} @$methods;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %subs : \%subs;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a7e8cd12bb93a154e78879b2b4a5e4fa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_surrounding_elements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_surrounding_elements' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_surrounding_elements-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_surrounding_elements-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_surrounding_elements-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_surrounding_elements: 34</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a7e8cd12bb93a154e78879b2b4a5e4fa4">get_surrounding_elements</a> {  #  generate a list of values around a single point at a specified resolution</div>
<div class="line"><span class="preprocessor">                              #  calculates the min and max and call getPossIndexValues</span></div>
<div class="line"><span class="preprocessor"></span>    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $coordRef = $args{coord};</div>
<div class="line">    my $resolutions = $args{resolutions};</div>
<div class="line">    my $sep_char = $args{sep_char} || $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#ab29c1c28ea738e6fe65b30c057917795">get_param</a>(<span class="stringliteral">&#39;JOIN_CHAR&#39;</span>) || $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#ab29c1c28ea738e6fe65b30c057917795">get_param</a>(<span class="stringliteral">&#39;JOIN_CHAR&#39;</span>);</div>
<div class="line">    my $distance = $args{distance} || 1; #  number of cells distance to check</div>
<div class="line"></div>
<div class="line">    my (@minima, @maxima);</div>
<div class="line"><span class="preprocessor">    #  precision snap them to make comparisons easier</span></div>
<div class="line"><span class="preprocessor"></span>    my $precision = $args{precision} || [(<span class="stringliteral">&#39;%.10f&#39;</span>) x scalar @$coordRef];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $i (0..$#{$coordRef}) {</div>
<div class="line">        $minima[$i] = 0</div>
<div class="line">            + $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a578221cbdae8ac64e92b67adb69432c0">set_precision</a> (</div>
<div class="line">                precision =&gt; $precision-&gt;[$i],</div>
<div class="line">                value     =&gt; $coordRef-&gt;[$i] - ($resolutions-&gt;[$i] * $distance)</div>
<div class="line">            );</div>
<div class="line">        $maxima[$i] = 0</div>
<div class="line">            + $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a578221cbdae8ac64e92b67adb69432c0">set_precision</a> (</div>
<div class="line">                precision =&gt; $precision-&gt;[$i],</div>
<div class="line">                value     =&gt; $coordRef-&gt;[$i] + ($resolutions-&gt;[$i] * $distance)</div>
<div class="line">            );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;get_poss_elements (</div>
<div class="line">        %args,</div>
<div class="line">        minima      =&gt; \@minima,</div>
<div class="line">        maxima      =&gt; \@maxima,</div>
<div class="line">        resolutions =&gt; $resolutions,</div>
<div class="line">        sep_char    =&gt; $sep_char,</div>
<div class="line">    );</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a68c3b38103bc6c4986e7d914eeba722f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::get_tooltip_sparse_normal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_tooltip_sparse_normal' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_tooltip_sparse_normal-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_tooltip_sparse_normal-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_tooltip_sparse_normal-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_tooltip_sparse_normal: 47</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a68c3b38103bc6c4986e7d914eeba722f">get_tooltip_sparse_normal</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $tool_tip =&lt;&lt;<span class="stringliteral">&quot;END_MX_TOOLTIP&quot;</span></div>
<div class="line"></div>
<div class="line">Explanation:</div>
<div class="line"></div>
<div class="line">A rectangular matrix is a row by column matrix.</div>
<div class="line">Blank entries have an undefined value (no value).</div>
<div class="line"></div>
<div class="line">Element,Axis_0,Axis_1,Label1,Label2,Label3</div>
<div class="line">1.5:1.5,1.5,1.5,5,,2</div>
<div class="line">1.5:2.5,1.5,2.5,,23,2</div>
<div class="line">2.5:2.5,2.5,2.5,3,4,10</div>
<div class="line"></div>
<div class="line">A non-symmetric one-value-per-line format is a list, and is analogous to a sparse matrix.</div>
<div class="line">Undefined entries are not given.</div>
<div class="line"></div>
<div class="line">Element,Axis_0,Axis_1,Key,Value</div>
<div class="line">1.5:1.5,1.5,1.5,Label1,5</div>
<div class="line">1.5:1.5,1.5,1.5,Label3,2</div>
<div class="line">1.5:2.5,1.5,2.5,Label2,23</div>
<div class="line">1.5:2.5,1.5,2.5,Label3,2</div>
<div class="line">2.5:2.5,2.5,2.5,Label1,3</div>
<div class="line">2.5:2.5,2.5,2.5,Label2,4</div>
<div class="line">2.5:2.5,2.5,2.5,Label3,10</div>
<div class="line"></div>
<div class="line">A symmetric one-value-per-line format has rows <span class="keywordflow">for</span> the undefined values.</div>
<div class="line"></div>
<div class="line">Element,Axis_0,Axis_1,Key,Value</div>
<div class="line">1.5:1.5,1.5,1.5,Label1,5</div>
<div class="line">1.5:1.5,1.5,1.5,Label2,</div>
<div class="line">1.5:1.5,1.5,1.5,Label3,2</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">A non-symmetric normal matrix is useful <span class="keywordflow">for</span> array lists, but can also be used with hash lists.</div>
<div class="line">It has one row per element, with all the entries <span class="keywordflow">for</span> that element listed sequentially on that line.</div>
<div class="line"></div>
<div class="line">Element,Axis_0,Axis_1,Value</div>
<div class="line">1.5:1.5,1.5,1.5,Label1,5,Label3,2</div>
<div class="line">1.5:2.5,1.5,2.5,Label2,23,Label3,2</div>
<div class="line"></div>
<div class="line">END_MX_TOOLTIP</div>
<div class="line">;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $tool_tip;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a80b04b54971d2eff7e381b39e6c06c90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::guess_eol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-guess_eol' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-guess_eol-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-guess_eol-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-guess_eol-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in guess_eol: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a80b04b54971d2eff7e381b39e6c06c90">guess_eol</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! defined $args{<span class="keywordtype">string</span>};</div>
<div class="line">    my $string = $args{<span class="keywordtype">string</span>};</div>
<div class="line">    $string = $$string <span class="keywordflow">if</span> ref ($string);</div>
<div class="line"></div>
<div class="line">    my $pattern = $args{pattern} || <span class="stringliteral">&#39;[\n|\r]*&#39;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($string =~ /($pattern$)/) {</div>
<div class="line">        <span class="keywordflow">return</span> $1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a755fef8fc8b413de20672aab3d5e2d3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::guess_field_separator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-guess_field_separator' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-guess_field_separator-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-guess_field_separator-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-guess_field_separator-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in guess_field_separator: 46</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a755fef8fc8b413de20672aab3d5e2d3c">guess_field_separator</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;  #  these are passed straight through, except sep_char is overridden</div>
<div class="line">    my $string = $args{<span class="keywordtype">string</span>};</div>
<div class="line">    $string = $$string <span class="keywordflow">if</span> ref $string;</div>
<div class="line"><span class="preprocessor">    #  try a sequence of separators, starting with the default parameter</span></div>
<div class="line"><span class="preprocessor"></span>    my @separators = defined $ENV{BIODIVERSE_FIELD_SEPARATORS}  #  these should be globals <span class="keyword">set</span> by use_base</div>
<div class="line">                    ? @$ENV{BIODIVERSE_FIELD_SEPARATORS}</div>
<div class="line">                    : (<span class="charliteral">&#39;,&#39;</span>, <span class="stringliteral">&quot;\t&quot;</span>, <span class="charliteral">&#39;;&#39;</span>, q{ });</div>
<div class="line">    my $eol = $self-&gt;guess_eol(%args);</div>
<div class="line"></div>
<div class="line">    my %sep_count;</div>
<div class="line"><span class="preprocessor">    #my $i = 0;</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $sep (@separators) {</div>
<div class="line">        next <span class="keywordflow">if</span> ! length $string;</div>
<div class="line"><span class="preprocessor">        #  skip if does not contain the separator</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #  - no point testing in this case</span></div>
<div class="line"><span class="preprocessor"></span>        next <span class="keywordflow">if</span> ! ($string =~ /$sep/);  </div>
<div class="line"></div>
<div class="line">        my $flds = eval {</div>
<div class="line">            $self-&gt;csv2list (</div>
<div class="line">                %args,</div>
<div class="line">                sep_char =&gt; $sep,</div>
<div class="line">                eol      =&gt; $eol,</div>
<div class="line">            );</div>
<div class="line">        };</div>
<div class="line">        next <span class="keywordflow">if</span> $EVAL_ERROR;  #  any errors mean that separator won<span class="stringliteral">&#39;t work</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        if (scalar @$flds &gt; 1) {  #  need two or more fields to result</span></div>
<div class="line"><span class="stringliteral">            $sep_count{scalar @$flds} = $sep;</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">        #$i++;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    #  now we sort the keys, take the highest and use it as the</span></div>
<div class="line"><span class="stringliteral">    #  index to use from sep_count, thus giving us the most common</span></div>
<div class="line"><span class="stringliteral">    #  sep_char</span></div>
<div class="line"><span class="stringliteral">    my @sorted = reverse sort numerically keys %sep_count;</span></div>
<div class="line"><span class="stringliteral">    my $sep = (scalar @sorted &amp;&amp; defined $sep_count{$sorted[0]})</span></div>
<div class="line"><span class="stringliteral">        ? $sep_count{$sorted[0]}</span></div>
<div class="line"><span class="stringliteral">        : $separators[0];  # default to first checked</span></div>
<div class="line"><span class="stringliteral">    my $septext = ($sep =~ /\t/) ? &#39;</span>\t<span class="stringliteral">&#39; : $sep;  #  need a better way of handling special chars - ord &amp; chr?</span></div>
<div class="line"><span class="stringliteral">    print &quot;[COMMON] Guessed field separator as &#39;</span>$septext<span class="stringliteral">&#39;\n&quot;;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return $sep;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa9954dccc23464a9ff01093e61ef9c4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::guess_quote_char </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-guess_quote_char' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-guess_quote_char-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-guess_quote_char-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-guess_quote_char-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in guess_quote_char: 37</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#aa9954dccc23464a9ff01093e61ef9c4a">guess_quote_char</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;  </div>
<div class="line">    my $string = $args{<span class="keywordtype">string</span>};</div>
<div class="line">    $string = $$string <span class="keywordflow">if</span> ref $string;</div>
<div class="line"><span class="preprocessor">    #  try a sequence of separators, starting with the default parameter</span></div>
<div class="line"><span class="preprocessor"></span>    my @q_types = defined $ENV{BIODIVERSE_QUOTES}</div>
<div class="line">                    ? @$ENV{BIODIVERSE_QUOTES}</div>
<div class="line">                    : qw /<span class="stringliteral">&quot; &#39;/;</span></div>
<div class="line"><span class="stringliteral">    my $eol = $args{eol} or $self-&gt;guess_eol(%args);</span></div>
<div class="line"><span class="stringliteral">    #my @q_types = qw /&#39; &quot;</span>/;</div>
<div class="line"></div>
<div class="line">    my %q_count;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #my $i = 0;</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $q (@q_types) {</div>
<div class="line">        my @cracked = split ($q, $string);</div>
<div class="line">        <span class="keywordflow">if</span> ($#cracked and $#cracked % 2 == 0) {</div>
<div class="line">            $q_count{$#cracked} = $q;</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">        #$i++;</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"><span class="preprocessor">    #  now we sort the keys, take the highest and use it as the</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  index to use from q_count, thus giving us the most common</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  quotes character</span></div>
<div class="line"><span class="preprocessor"></span>    my @sorted = reverse sort <a class="code" href="classBiodiverse_1_1Common.html#a6da6e97b3a2aa75cb06c20d69bfd12ac">numerically</a> keys %q_count;</div>
<div class="line">    my $q = (defined $sorted[0]) ? $q_count{$sorted[0]} : $q_types[0];</div>
<div class="line">    print <span class="stringliteral">&quot;[COMMON] Guessed quote char as $q\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> $q;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  if we get this far then there is a quote issue to deal with</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;[COMMON] Could not guess quote char in $string.  Check the object QUOTES parameter and escape char in file\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #return;</span></div>
<div class="line"><span class="preprocessor"></span>}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  guess the end of line character in a string</span></div>
<div class="line"><span class="preprocessor">#  returns undef if there are none of the usual suspects (\n, \r)</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a827b7d019cb3fd2d3bd12b5825a0460f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::initialise_rand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initialise_rand' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-initialise_rand-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initialise_rand-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initialise_rand-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in initialise_rand: 30</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a827b7d019cb3fd2d3bd12b5825a0460f">initialise_rand</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $seed  = $args{seed};</div>
<div class="line">    my $state = $self-&gt;get_param (<span class="stringliteral">&#39;RAND_LAST_STATE&#39;</span>)</div>
<div class="line">                || $args{state};</div>
<div class="line"></div>
<div class="line">    say <span class="stringliteral">&quot;[COMMON] Ignoring PRNG seed argument ($seed) because the PRNG state is defined&quot;</span></div>
<div class="line">        <span class="keywordflow">if</span> defined $seed and defined $state;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  don&#39;t already have one, generate a new object using seed and/or state params.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  the system will initialise in the order of state and seed, followed by its own methods</span></div>
<div class="line"><span class="preprocessor"></span>    my $rand = eval {</div>
<div class="line">        Math::Random::MT::Auto-&gt;new (</div>
<div class="line">            seed  =&gt; $seed,</div>
<div class="line">            state =&gt; $state,  #  will use <span class="keyword">this</span> <span class="keywordflow">if</span> it is defined</div>
<div class="line">        );</div>
<div class="line">    };</div>
<div class="line">    my $e = $EVAL_ERROR;</div>
<div class="line">    <span class="keywordflow">if</span> (OIO-&gt;caught() &amp;&amp; $e =~ <span class="stringliteral">&#39;Invalid state vector&#39;</span>) {</div>
<div class="line">        Biodiverse::PRNG::InvalidStateVector-&gt;throw (Biodiverse::PRNG::InvalidStateVector-&gt;description);</div>
<div class="line">    }</div>
<div class="line">    croak $e <span class="keywordflow">if</span> $e;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (! defined $self-&gt;get_param (<span class="stringliteral">&#39;RAND_INIT_STATE&#39;</span>)) {</div>
<div class="line">        $self-&gt;store_rand_state_init (rand_object =&gt; $rand);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $rand;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab5e5a0f4c974e62223864e162960841e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::lc_hash_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-lc_hash_keys' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-lc_hash_keys-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-lc_hash_keys-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-lc_hash_keys-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in lc_hash_keys: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#ab5e5a0f4c974e62223864e162960841e">lc_hash_keys</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $hash = $args{hash} || <span class="keywordflow">return</span> {};  #  silently <span class="keywordflow">return</span> an empty hash <span class="keywordflow">if</span> none specified</div>
<div class="line"></div>
<div class="line">    my $hash2 = {};  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $key (keys %$hash) {</div>
<div class="line">        $hash2-&gt;{lc($key)} = $hash-&gt;{$key};</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %$hash2 : $hash2;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a69b632bf48e477b31a80af01002fa2cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::list2csv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-list2csv' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-list2csv-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-list2csv-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-list2csv-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in list2csv: 27</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a69b632bf48e477b31a80af01002fa2cb">list2csv</a> {  #  <span class="keywordflow">return</span> a csv <span class="keywordtype">string</span> from a list of values</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = (</div>
<div class="line">        quote_char =&gt; q{<span class="stringliteral">&#39;},</span></div>
<div class="line"><span class="stringliteral">        sep_char   =&gt; q{,},</span></div>
<div class="line"><span class="stringliteral">        @_,</span></div>
<div class="line"><span class="stringliteral">    );</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    my $csvLine = $args{csv_object};</span></div>
<div class="line"><span class="stringliteral">    if (!defined $csvLine</span></div>
<div class="line"><span class="stringliteral">        #or (blessed $csvLine) !~ /Text::CSV_XS/</span></div>
<div class="line"><span class="stringliteral">        ) {</span></div>
<div class="line"><span class="stringliteral">        $csvLine = $self-&gt;get_csv_object (@_);</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    if ($csvLine-&gt;combine(@{$args{list}})) {</span></div>
<div class="line"><span class="stringliteral">        return $csvLine-&gt;string;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral">    else {</span></div>
<div class="line"><span class="stringliteral">        croak &quot;list2csv CSV combine() failed for some reason: &quot;</span></div>
<div class="line"><span class="stringliteral">              . $csvLine-&gt;error_input</span></div>
<div class="line"><span class="stringliteral">              . &quot;, line $.\n&quot;;</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a44d94e85412063ecfe0a101917272a00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::load_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-load_file' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-load_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-load_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-load_file-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in load_file: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a44d94e85412063ecfe0a101917272a00">load_file</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    croak <span class="stringliteral">&quot;Argument &#39;file&#39; not defined, cannot load from file\n&quot;</span></div>
<div class="line">      <span class="keywordflow">if</span> ! defined ($args{file});</div>
<div class="line">      </div>
<div class="line">    croak <span class="stringliteral">&quot;File $args{file} does not exist or is not readable\n&quot;</span></div>
<div class="line">      <span class="keywordflow">if</span> !-r $args{file};</div>
<div class="line"></div>
<div class="line">    my $object;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $type (qw /storable yaml/) {</div>
<div class="line">        my $func = <span class="stringliteral">&quot;load_$type\_file&quot;</span>;</div>
<div class="line">        $object = eval {$self-&gt;$func (%args)};</div>
<div class="line"><span class="preprocessor">        #croak $EVAL_ERROR if $EVAL_ERROR;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #warn $@ if $@;</span></div>
<div class="line"><span class="preprocessor"></span>        last <span class="keywordflow">if</span> defined $object;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $object;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9fcd106e0c0a1bd2dc09a17bb2edade3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::load_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-load_params' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-load_params-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-load_params-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-load_params-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in load_params: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a9fcd106e0c0a1bd2dc09a17bb2edade3">load_params</a> {  # read in the parameters file, <span class="keyword">set</span> the PARAMS subhash.</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    open (my $fh, <span class="charliteral">&#39;&lt;&#39;</span>, $args{file}) || croak (<span class="stringliteral">&quot;Cannot open $args{file}\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    local $/ = undef;</div>
<div class="line">    my $data = &lt;$fh&gt;;</div>
<div class="line">    $fh -&gt; close;</div>
<div class="line">    </div>
<div class="line">    my %params = eval ($data);</div>
<div class="line">    $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a487af75719333ad737d3459dd9573f9e">set_param</a>(%params);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a599a1978dafbdf1c4d97428d4a4215f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::load_storable_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-load_storable_file' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-load_storable_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-load_storable_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-load_storable_file-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in load_storable_file: 31</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a599a1978dafbdf1c4d97428d4a4215f9">load_storable_file</a> {</div>
<div class="line">    my $self = shift;  #  gets overwritten <span class="keywordflow">if</span> the file passes the tests</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    croak <span class="stringliteral">&quot;argument &#39;file&#39; not defined\n&quot;</span>  <span class="keywordflow">if</span> ! defined ($args{file});</div>
<div class="line"></div>
<div class="line">    my $suffix = $args{suffix} || $self-&gt;get_param(<span class="stringliteral">&#39;OUTSUFFIX&#39;</span>) || $EMPTY_STRING;</div>
<div class="line"></div>
<div class="line">    my $file = Path::Class::file($args{file})-&gt;absolute;</div>
<div class="line">    <span class="keywordflow">if</span> (! -e $file) {</div>
<div class="line">        croak <span class="stringliteral">&quot;[BASEDATA] File $file does not exist\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!$args{ignore_suffix} &amp;&amp; ($file !~ /$suffix$/)) {</div>
<div class="line">        croak <span class="stringliteral">&quot;[BASEDATA] File $file does not have the correct suffix\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  attempt reconstruction of code refs -</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  NOTE THAT THIS IS NOT YET SAFE FROM MALICIOUS DATA</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #local $Storable::Eval = 1;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    #  load data from storable file, ignores rest of the args</span></div>
<div class="line"><span class="preprocessor"></span>    $self = retrieve($file);</div>
<div class="line">    <span class="keywordflow">if</span> ($Storable::VERSION &lt; 2.15) {</div>
<div class="line">        <span class="keywordflow">foreach</span> my $fn (qw /weaken_parent_refs weaken_child_basedata_refs <a class="code" href="classBiodiverse_1_1Common.html#a282103ff5ed13151b36ec9026d6043c1">weaken_basedata_ref</a>/) {</div>
<div class="line">            $self -&gt; $fn <span class="keywordflow">if</span> $self-&gt;can($fn);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a1221379da517a64c78a62cd888bf3069"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::load_yaml_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-load_yaml_file' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-load_yaml_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-load_yaml_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-load_yaml_file-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in load_yaml_file: 19</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a1221379da517a64c78a62cd888bf3069">load_yaml_file</a> {</div>
<div class="line">    my $self = shift;  #  gets overwritten <span class="keywordflow">if</span> the file passes the tests</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! defined ($args{file});</div>
<div class="line">    my $suffix = $args{suffix} || $self-&gt;get_param(<span class="stringliteral">&#39;OUTSUFFIX_YAML&#39;</span>) || $EMPTY_STRING;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! -e $args{file};</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! ($args{file} =~ /$suffix$/);</div>
<div class="line"></div>
<div class="line">    $self = YAML::Syck::LoadFile ($args{file});</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  yaml does not handle waek refs, so we need to put them back in</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $fn (qw /weaken_parent_refs weaken_child_basedata_refs <a class="code" href="classBiodiverse_1_1Common.html#a282103ff5ed13151b36ec9026d6043c1">weaken_basedata_ref</a>/) {</div>
<div class="line">        $self -&gt; $fn <span class="keywordflow">if</span> $self-&gt;can($fn);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> $self;</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae18d0b2241d1d624991708c60833dc76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::max </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-max' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-max-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-max-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-max-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in max: 1</span></div>
<div class="line"><span class="preprocessor">sub max {$_[0] &gt; $_[1] ? $_[0] : $_[1]};</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a217ce872bd6ede2fcf424a9e59612329"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::min </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-min' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-min-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-min-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-min-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in min: 1</span></div>
<div class="line"><span class="preprocessor">sub min {$_[0] &lt; $_[1] ? $_[0] : $_[1]};</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa6e878452977d5ba551955d744593d6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::move_to_front_of_list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-move_to_front_of_list' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-move_to_front_of_list-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-move_to_front_of_list-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-move_to_front_of_list-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in move_to_front_of_list: 30</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#aa6e878452977d5ba551955d744593d6a">move_to_front_of_list</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $list = $args{list} || croak <span class="stringliteral">&quot;argument &#39;list&#39; not defined\n&quot;</span>;</div>
<div class="line">    my $item = $args{item};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not defined $item) {</div>
<div class="line">        croak <span class="stringliteral">&quot;argument &#39;item&#39; not defined\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $i = 0;</div>
<div class="line">    my $found = 0;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $iter (@$list) {</div>
<div class="line">        <span class="keywordflow">if</span> ($iter eq $item) {</div>
<div class="line">            $found ++;</div>
<div class="line">            last;</div>
<div class="line">        }</div>
<div class="line">        $i ++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($args{add_if_not_found} || $found) {</div>
<div class="line">        splice @$list, $i, 1;</div>
<div class="line">        unshift @$list, $item;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? @$list : $list;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#  guess the field separator in a line</span></div>
<div class="line"><span class="preprocessor">#  the first separator that returns two or more columns is assumed</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6da6e97b3a2aa75cb06c20d69bfd12ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::numerically </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-numerically' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-numerically-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-numerically-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-numerically-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in numerically: 1</span></div>
<div class="line"><span class="preprocessor">sub numerically {$a &lt;=&gt; $b};</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adf586aaeeae0ab7cbb2ba8d4979f8084"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::print_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-print_params' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-print_params-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-print_params-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-print_params-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in print_params: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#adf586aaeeae0ab7cbb2ba8d4979f8084">print_params</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    print Data::Dumper::Dumper ($self-&gt;{PARAMS});</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a654e15b7d0a67f4d2401c42013c4387c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::rename_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-rename_object' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-rename_object-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-rename_object-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-rename_object-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in rename_object: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a654e15b7d0a67f4d2401c42013c4387c">rename_object</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $new_name = $args{name};</div>
<div class="line">    my $old_name = $self-&gt;get_param (<span class="stringliteral">&#39;NAME&#39;</span>);</div>
<div class="line">    </div>
<div class="line">    $self-&gt;set_param (NAME =&gt; $new_name);</div>
<div class="line">    </div>
<div class="line">    my $type = blessed $self;</div>
<div class="line"></div>
<div class="line">    print <span class="stringliteral">&quot;Renamed $type &#39;$old_name&#39; to &#39;$new_name&#39;\n&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ad596668a51c5be35a450c7953cbdaa45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::save_to </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-save_to' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-save_to-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-save_to-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-save_to-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in save_to: 39</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#ad596668a51c5be35a450c7953cbdaa45">save_to</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $file_name = $args{filename}</div>
<div class="line">                    || $args{OUTPFX}</div>
<div class="line">                    || $self-&gt;get_param(<span class="stringliteral">&#39;NAME&#39;</span>)</div>
<div class="line">                    || $self-&gt;get_param(<span class="stringliteral">&#39;OUTPFX&#39;</span>);</div>
<div class="line"></div>
<div class="line">    croak <span class="stringliteral">&quot;Argument &#39;filename&#39; not specified\n&quot;</span> <span class="keywordflow">if</span> ! defined $file_name;</div>
<div class="line"></div>
<div class="line">    my $storable_suffix = $self-&gt;get_param (<span class="stringliteral">&#39;OUTSUFFIX&#39;</span>);</div>
<div class="line">    my $yaml_suffix     = $self-&gt;get_param (<span class="stringliteral">&#39;OUTSUFFIX_YAML&#39;</span>);</div>
<div class="line"></div>
<div class="line">    my @suffixes = ($storable_suffix, $yaml_suffix);</div>
<div class="line"></div>
<div class="line">    my ($null1, $null2, $suffix) = fileparse ( $file_name, @suffixes ); </div>
<div class="line">    <span class="keywordflow">if</span> ($suffix eq $EMPTY_STRING</div>
<div class="line">        || ! defined $suffix</div>
<div class="line">        || none  {$suffix eq $_} @suffixes</div>
<div class="line">        ) {</div>
<div class="line">        $suffix = $storable_suffix;</div>
<div class="line">        $file_name .= <span class="charliteral">&#39;.&#39;</span> . $suffix;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $tmp_file_name = $file_name . <span class="stringliteral">&#39;.tmp&#39;</span>;</div>
<div class="line"></div>
<div class="line">    my $method = $suffix eq $yaml_suffix ? <span class="stringliteral">&#39;save_to_yaml&#39;</span> : <span class="stringliteral">&#39;save_to_storable&#39;</span>;</div>
<div class="line"></div>
<div class="line">    my $result = eval {$self-&gt;$method (filename =&gt; $tmp_file_name)};</div>
<div class="line">    croak $EVAL_ERROR <span class="keywordflow">if</span> $EVAL_ERROR;</div>
<div class="line"></div>
<div class="line">    print <span class="stringliteral">&quot;[COMMON] Renaming $tmp_file_name to $file_name ... &quot;</span>;</div>
<div class="line">    my $success = rename ($tmp_file_name, $file_name);</div>
<div class="line">    croak <span class="stringliteral">&quot;Unable to rename $tmp_file_name to $file_name\n&quot;</span></div>
<div class="line">      <span class="keywordflow">if</span> !$success;</div>
<div class="line">    print <span class="stringliteral">&quot;Done\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $file_name;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a5c2703e2b5027981f95440bbf63d798c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::save_to_storable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-save_to_storable' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-save_to_storable-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-save_to_storable-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-save_to_storable-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in save_to_storable: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a5c2703e2b5027981f95440bbf63d798c">save_to_storable</a> {  </div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $file = $args{filename};</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $file) {</div>
<div class="line">        my $prefix = $args{OUTPFX} || $self-&gt;get_param(<span class="stringliteral">&#39;OUTPFX&#39;</span>) || $self-&gt;get_param(<span class="stringliteral">&#39;NAME&#39;</span>) || caller();</div>
<div class="line">        $file = Path::Class::file($file || ($prefix . <span class="charliteral">&#39;.&#39;</span> . $self-&gt;get_param(<span class="stringliteral">&#39;OUTSUFFIX&#39;</span>)));</div>
<div class="line">    }</div>
<div class="line">    $file = Path::Class::file($file)-&gt;absolute;</div>
<div class="line"></div>
<div class="line">    print <span class="stringliteral">&quot;[COMMON] WRITING TO FILE $file\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    local $Storable::Deparse = 0;     #  <span class="keywordflow">for</span> code refs</div>
<div class="line">    local $Storable::forgive_me = 1;  #  don<span class="stringliteral">&#39;t croak on GLOBs, regexps etc.</span></div>
<div class="line"><span class="stringliteral">    eval { nstore $self, $file };</span></div>
<div class="line"><span class="stringliteral">    croak $EVAL_ERROR if $EVAL_ERROR;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return $file;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a08978bbc35755e3dabc72414122bbc0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::save_to_xml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-save_to_xml' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-save_to_xml-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-save_to_xml-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-save_to_xml-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in save_to_xml: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a08978bbc35755e3dabc72414122bbc0c">save_to_xml</a> {  </div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $file = $args{filename};</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $file) {</div>
<div class="line">        my $prefix = $args{OUTPFX} || $self-&gt;get_param(<span class="stringliteral">&#39;OUTPFX&#39;</span>) || $self-&gt;get_param(<span class="stringliteral">&#39;NAME&#39;</span>) || caller();</div>
<div class="line">        my $suffix = $self-&gt;get_param(<span class="stringliteral">&#39;OUTSUFFIX&#39;</span>) || <span class="stringliteral">&#39;xml&#39;</span>;</div>
<div class="line">        $file = Path::Class::file($file || ($prefix . <span class="charliteral">&#39;.&#39;</span> . $suffix));</div>
<div class="line">    }</div>
<div class="line">    $file = Path::Class::file($file)-&gt;absolute;</div>
<div class="line"></div>
<div class="line">    print <span class="stringliteral">&quot;[COMMON] WRITING TO FILE $file\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    open (my $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $file);</div>
<div class="line">    print $fh dump_xml ($self);</div>
<div class="line">    $fh -&gt; close;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $file;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2788aa86b49668167277828f210ee419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::save_to_yaml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-save_to_yaml' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-save_to_yaml-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-save_to_yaml-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-save_to_yaml-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in save_to_yaml: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a2788aa86b49668167277828f210ee419">save_to_yaml</a> {  </div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $file = $args{filename};</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $file) {</div>
<div class="line">        my $prefix = $args{OUTPFX} || $self-&gt;get_param(<span class="stringliteral">&#39;OUTPFX&#39;</span>) || $self-&gt;get_param(<span class="stringliteral">&#39;NAME&#39;</span>) || caller();</div>
<div class="line">        $file = Path::Class::file($file || ($prefix . <span class="stringliteral">&quot;.&quot;</span> . $self-&gt;get_param(<span class="stringliteral">&#39;OUTSUFFIX_YAML&#39;</span>)));</div>
<div class="line">    }</div>
<div class="line">    $file = Path::Class::file($file)-&gt;absolute;</div>
<div class="line"></div>
<div class="line">    print <span class="stringliteral">&quot;[COMMON] WRITING TO FILE $file\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    eval {YAML::Syck::DumpFile ($file, $self)};</div>
<div class="line">    croak $EVAL_ERROR <span class="keywordflow">if</span> $EVAL_ERROR;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $file;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab318189dc8fcae800d6ea18b9cdfc29e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::set_basedata_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_basedata_ref' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_basedata_ref-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_basedata_ref-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_basedata_ref-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_basedata_ref: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#ab318189dc8fcae800d6ea18b9cdfc29e">set_basedata_ref</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    $self-&gt;set_param (BASEDATA_REF =&gt; $args{BASEDATA_REF});</div>
<div class="line">    $self-&gt;weaken_basedata_ref;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a7b70846460ff9e7fd084554778512b22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::set_cached_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_cached_value' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_cached_value-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_cached_value-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_cached_value-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_cached_value: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a7b70846460ff9e7fd084554778512b22">set_cached_value</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    @{$self-&gt;{_cache}}{keys %args} = values %args;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a35eb40c8b7f46ee0d2ecd120097aca8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::set_default_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_default_params' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_default_params-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_default_params-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_default_params-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_default_params: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a35eb40c8b7f46ee0d2ecd120097aca8a">set_default_params</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $package = ref ($self);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! exists $user_defined_params{$package};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  make a clone to avoid clashes with multiple objects</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  receiving the same data structures</span></div>
<div class="line"><span class="preprocessor"></span>    my $params = $self-&gt;clone (data =&gt; $user_defined_params{$package});</div>
<div class="line">    </div>
<div class="line">    $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#abeb9e109dbe63696ee75891c380e6c9f">set_params</a> (%$params);  </div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a27f48d3909804d4281033df1e31d5554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::set_last_update_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_last_update_time' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_last_update_time-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_last_update_time-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_last_update_time-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_last_update_time: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a27f48d3909804d4281033df1e31d5554">set_last_update_time</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $time = shift || time;</div>
<div class="line">    $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a487af75719333ad737d3459dd9573f9e">set_param</a> (LAST_UPDATE_TIME =&gt; $time);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a487af75719333ad737d3459dd9573f9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::set_param </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_param' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_param-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_param-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_param-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_param: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a487af75719333ad737d3459dd9573f9e">set_param</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{PARAMS}{$_[0]} = $_[1];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="abeb9e109dbe63696ee75891c380e6c9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::set_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_params' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_params-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_params-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_params-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_params: 10</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#abeb9e109dbe63696ee75891c380e6c9f">set_params</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (my ($param, $value) = each %args) {</div>
<div class="line">        $self-&gt;{PARAMS}{$param} = $value;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> scalar keys %args;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a578221cbdae8ac64e92b67adb69432c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::set_precision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_precision' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_precision-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_precision-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_precision-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_precision: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a578221cbdae8ac64e92b67adb69432c0">set_precision</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $num = sprintf ($args{precision}, $args{value});</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($locale_uses_comma_radix) {</div>
<div class="line">        $num =~ s{,}{\.};  #  replace any comma with a decimal</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $num;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a672ef16e4dff1eb536f45a795874dc26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::store_rand_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-store_rand_state' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-store_rand_state-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-store_rand_state-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-store_rand_state-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in store_rand_state: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a672ef16e4dff1eb536f45a795874dc26">store_rand_state</a> {  #  we cannot store the <span class="keywordtype">object</span> itself, as it does not serialise properly <span class="keyword">using</span> YAML</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    croak <span class="stringliteral">&quot;rand_object not specified correctly\n&quot;</span> <span class="keywordflow">if</span> ! blessed $args{rand_object};</div>
<div class="line"></div>
<div class="line">    my $rand = $args{rand_object};</div>
<div class="line">    my @state = $rand -&gt; get_state;  #  make a copy - might reduce mem issues?</div>
<div class="line">    croak <span class="stringliteral">&quot;PRNG state not defined\n&quot;</span> <span class="keywordflow">if</span> ! scalar @state;</div>
<div class="line"></div>
<div class="line">    my $state = \@state;</div>
<div class="line">    $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a487af75719333ad737d3459dd9573f9e">set_param</a> (RAND_LAST_STATE =&gt; $state);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (defined wantarray) {</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? @state : $state;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af781887fcd5fbee00782579a013eb468"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::store_rand_state_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-store_rand_state_init' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-store_rand_state_init-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-store_rand_state_init-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-store_rand_state_init-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in store_rand_state_init: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#af781887fcd5fbee00782579a013eb468">store_rand_state_init</a> {  </div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    croak <span class="stringliteral">&quot;rand_object not specified correctly\n&quot;</span> <span class="keywordflow">if</span> ! blessed $args{rand_object};</div>
<div class="line"></div>
<div class="line">    my $rand = $args{rand_object};</div>
<div class="line">    my @state = $rand -&gt; get_state;</div>
<div class="line"></div>
<div class="line">    my $state = \@state;</div>
<div class="line"></div>
<div class="line">    $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a487af75719333ad737d3459dd9573f9e">set_param</a> (RAND_INIT_STATE =&gt; $state);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (defined wantarray) {</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? @state : $state;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="acd1b90e1bebeeb6c0b69091ee43d3788"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::test_locale_numeric </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-test_locale_numeric' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-test_locale_numeric-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-test_locale_numeric-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-test_locale_numeric-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in test_locale_numeric: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#acd1b90e1bebeeb6c0b69091ee43d3788">test_locale_numeric</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    use warnings FATAL =&gt; qw ( numeric );</div>
<div class="line">    </div>
<div class="line">    my $x = 10.5;</div>
<div class="line">    my $y = 10.1;</div>
<div class="line">    my $x1 = sprintf (<span class="stringliteral">&#39;%.10f&#39;</span>, $x);</div>
<div class="line">    my $y1 = sprintf (<span class="stringliteral">&#39;%.10f&#39;</span>, $y);</div>
<div class="line">    $y1 = <span class="stringliteral">&#39;10,1&#39;</span>;</div>
<div class="line">    my $correct_result = $x + $y;</div>
<div class="line">    my $result = $x1 + $y1;</div>
<div class="line">    </div>
<div class="line">    use POSIX qw /locale_h/;</div>
<div class="line">    my $locale = setlocale (<span class="stringliteral">&#39;LC_NUMERIC&#39;</span>);</div>
<div class="line">    croak <span class="stringliteral">&quot;$result != $correct_result, this could be a locale issue. &quot;</span></div>
<div class="line">            . <span class="stringliteral">&quot;Current locale is $locale.\n&quot;</span></div>
<div class="line">        <span class="keywordflow">if</span> $result != $correct_result;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3158d18fed592373eda5fbd30f12e5b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::update_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-update_log' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-update_log-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-update_log-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-update_log-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in update_log: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a3158d18fed592373eda5fbd30f12e5b8">update_log</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#ab29c1c28ea738e6fe65b30c057917795">get_param</a> (<span class="stringliteral">&#39;RUN_FROM_GUI&#39;</span>)) {</div>
<div class="line"></div>
<div class="line">        $args{type} = <span class="stringliteral">&#39;update_log&#39;</span>;</div>
<div class="line">        $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a2339c9545479573bea0d8b434ac7f99b">dump_to_yaml</a> (data =&gt; \%args);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        print $args{text};</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a282103ff5ed13151b36ec9026d6043c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::weaken_basedata_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-weaken_basedata_ref' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-weaken_basedata_ref-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-weaken_basedata_ref-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-weaken_basedata_ref-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in weaken_basedata_ref: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a282103ff5ed13151b36ec9026d6043c1">weaken_basedata_ref</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $success;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  avoid memory leak probs with circular refs</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;exists_param (<span class="stringliteral">&#39;BASEDATA_REF&#39;</span>)) {</div>
<div class="line">        $success = $self-&gt;weaken_param (<span class="stringliteral">&#39;BASEDATA_REF&#39;</span>);</div>
<div class="line"></div>
<div class="line">        warn <span class="stringliteral">&quot;[BaseStruct] Unable to weaken basedata ref\n&quot;</span></div>
<div class="line">          <span class="keywordflow">if</span> ! $success;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $success;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa7227b2cca2a1ad80273d5dfd64b59d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::weaken_param </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-weaken_param' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-weaken_param-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-weaken_param-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-weaken_param-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in weaken_param: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#aa7227b2cca2a1ad80273d5dfd64b59d1">weaken_param</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $count = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $param (@_) {</div>
<div class="line">        <span class="keywordflow">if</span> (! exists $self-&gt;{PARAMS}{$param}) {</div>
<div class="line">            croak <span class="stringliteral">&quot;Cannot weaken param $param, it does not exist\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (not isweak ($self-&gt;{PARAMS}{$param})) {</div>
<div class="line">            weaken $self-&gt;{PARAMS}{$param};</div>
<div class="line"><span class="preprocessor">            #print &quot;[COMMON] Weakened ref to $param, $self-&gt;{PARAMS}{$param}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line">        $count ++;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $count;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a72dbb90c92c390aac1167a8332c57e53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::write_table </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-write_table' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-write_table-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_table-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_table-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in write_table: 45</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a72dbb90c92c390aac1167a8332c57e53">write_table</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    defined $args{file} || croak <span class="stringliteral">&quot;file argument not specified\n&quot;</span>;</div>
<div class="line">    my $data = $args{data} || croak <span class="stringliteral">&quot;data argument not specified\n&quot;</span>;</div>
<div class="line">    (ref $data) =~ /ARRAY/ || croak <span class="stringliteral">&quot;data arg must be an array ref\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    $args{file} = Path::Class::file($args{file})-&gt;absolute;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  now do stuff depending on what format was chosen, based on the suffix</span></div>
<div class="line"><span class="preprocessor"></span>    my ($prefix, $suffix) = lc ($args{file}) =~ /(.*?)\.(.*?)$/;</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $suffix) {</div>
<div class="line">        $suffix = <span class="stringliteral">&#39;csv&#39;</span>;  #  does not affect the actual file name, as it is not passed onwards</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($suffix =~ /csv|txt/i) {</div>
<div class="line">        $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a6bfedd1fa7a5bd42dac630d038feb31e">write_table_csv</a> (%args);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    #elsif ($suffix =~ /dbf/i) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    $self -&gt; write_table_dbf (%args);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #}</span></div>
<div class="line"><span class="preprocessor"></span>    elsif ($suffix =~ /htm/i) {</div>
<div class="line">        $self-&gt;write_table_html (%args);</div>
<div class="line">    }</div>
<div class="line">    elsif ($suffix =~ /xml/i) {</div>
<div class="line">        $self-&gt;write_table_xml (%args);</div>
<div class="line">    }</div>
<div class="line">    elsif ($suffix =~ /yml/i) {</div>
<div class="line">        $self-&gt;write_table_yaml (%args);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    #elsif ($suffix =~ /shp/) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    $self-&gt;write_table_shapefile (%args);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #}</span></div>
<div class="line"><span class="preprocessor"></span>    elsif ($suffix =~ /mrt/i) {</div>
<div class="line"><span class="preprocessor">        #  some humourless souls might regard this as unnecessary...</span></div>
<div class="line"><span class="preprocessor"></span>        warn <span class="stringliteral">&quot;I pity the fool who thinks Mister T is a file format.\n&quot;</span>;</div>
<div class="line">        warn <span class="stringliteral">&quot;[COMMON] Not a recognised suffix $suffix, using csv/txt format\n&quot;</span>;</div>
<div class="line">        $self-&gt;write_table_csv (%args, data =&gt; $data);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        print <span class="stringliteral">&quot;[COMMON] Not a recognised suffix $suffix, using csv/txt format\n&quot;</span>;</div>
<div class="line">        $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a6bfedd1fa7a5bd42dac630d038feb31e">write_table_csv</a> (%args, data =&gt; $data);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6bfedd1fa7a5bd42dac630d038feb31e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::write_table_csv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-write_table_csv' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-write_table_csv-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_table_csv-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_table_csv-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in write_table_csv: 94</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a6bfedd1fa7a5bd42dac630d038feb31e">write_table_csv</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $data = $args{data} || croak <span class="stringliteral">&quot;data arg not specified\n&quot;</span>;</div>
<div class="line">    (ref $data) =~ /ARRAY/ || croak <span class="stringliteral">&quot;data arg must be an array ref\n&quot;</span>;</div>
<div class="line">    my $file = $args{file} || croak <span class="stringliteral">&quot;file arg not specified\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    my $csv_obj = $self-&gt;get_csv_object_for_export (%args);</div>
<div class="line"></div>
<div class="line">    open (my $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $file)</div>
<div class="line">        || croak <span class="stringliteral">&quot;Could not open $file for writing\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    eval {</div>
<div class="line">        <span class="keywordflow">foreach</span> my $line_ref (@$data) {</div>
<div class="line">            my $string = $self-&gt;list2csv (  #  should pass csv <span class="keywordtype">object</span></div>
<div class="line">                list       =&gt; $line_ref,</div>
<div class="line">                csv_object =&gt; $csv_obj,</div>
<div class="line">            );</div>
<div class="line">            print {$fh} $string . <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">    croak $EVAL_ERROR <span class="keywordflow">if</span> $EVAL_ERROR;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($fh -&gt; close) {</div>
<div class="line">        print <span class="stringliteral">&quot;[COMMON] Write to file $file successful\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        croak <span class="stringliteral">&quot;[COMMON] Unable to close $file\n&quot;</span>;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#sub write_table_dbf {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $self = shift;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my %args = @_;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $data = $args{data} || croak &quot;data arg not specified\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    (ref $data) =~ /ARRAY/ || croak &quot;data arg must be an array ref\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $file = $args{file} || croak &quot;file arg not specified\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    if (-e $file) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        print &quot;[COMMON] $file exists - deleting... &quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        if (! (unlink ($file))) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#            print &quot;COULD NOT DELETE FILE - check permissions and file locks\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#            return;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        print &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $header = shift (@$data);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    #  set up the field types</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my @field_types = (&quot;C&quot;, (&quot;F&quot;) x $#$header);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my @field_lengths = (64, (20) x $#$header);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my @field_decimals = (undef, (10) x $#$header);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my %flds_to_check;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    @flds_to_check{1 .. $#$header} = (undef) x $#$header;  #  need to check all bar the first field</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    foreach my $record (@$data) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        foreach my $j (keys %flds_to_check) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#            if (defined $record-&gt;[$j] and ! looks_like_number $record-&gt;[$j]) {  #  assume it&#39;s a character type</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                $field_types[$j] = &quot;C&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                $field_lengths[$j] = 64;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                $field_decimals[$j] = undef;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                delete $flds_to_check{$j};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#            }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        last if ! scalar keys %flds_to_check;  #  they&#39;re all characters, drop out</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $db = XBase -&gt; create (name =&gt; $file,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                              #version =&gt; 4,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                              field_names =&gt; $header,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                              field_types =&gt; \@field_types,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                              field_lengths =&gt; \@field_lengths,  </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                              field_decimals =&gt; \@field_decimals,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                              ) || die XBase-&gt;errstr;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $i = 0;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    foreach my $record (@$data) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        $db -&gt; set_record ($i, @$record);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        $i++;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    if ($db -&gt; close) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        print &quot;[COMMON] Write to file $file successful\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    else {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        carp &quot;[COMMON] Write to file $file failed\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    };</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor">#}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9e80b16af8ef40a618cb12d0fb46a9fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::write_table_html </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-write_table_html' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-write_table_html-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_table_html-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_table_html-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in write_table_html: 28</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a9e80b16af8ef40a618cb12d0fb46a9fb">write_table_html</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    my $data = $args{data} || croak <span class="stringliteral">&quot;data arg not specified\n&quot;</span>;</div>
<div class="line">    (ref $data) =~ /ARRAY/ || croak <span class="stringliteral">&quot;data arg must be an array ref\n&quot;</span>;</div>
<div class="line">    my $file = $args{file} || croak <span class="stringliteral">&quot;file arg not specified\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    my $qt = HTML::QuickTable -&gt; <span class="keyword">new</span>();</div>
<div class="line"></div>
<div class="line">    my $table = $qt-&gt;render($args{data});</div>
<div class="line"></div>
<div class="line">    open my $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $file;</div>
<div class="line"></div>
<div class="line">    eval {</div>
<div class="line">        print {$fh} $table;</div>
<div class="line">    };</div>
<div class="line">    croak $EVAL_ERROR <span class="keywordflow">if</span> $EVAL_ERROR;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($fh -&gt; close) {</div>
<div class="line">        print <span class="stringliteral">&quot;[COMMON] Write to file $file successful\n&quot;</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        croak <span class="stringliteral">&quot;[COMMON] Write to file $file failed, unable to close file\n&quot;</span></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="abad938158e70a5c8cf13ad380ee0f700"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::write_table_xml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-write_table_xml' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-write_table_xml-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_table_xml-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_table_xml-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in write_table_xml: 31</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#abad938158e70a5c8cf13ad380ee0f700">write_table_xml</a> {  #  dump the table to an xml file.</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $data = $args{data} || croak <span class="stringliteral">&quot;data arg not specified\n&quot;</span>;</div>
<div class="line">    (ref $data) =~ /ARRAY/ || croak <span class="stringliteral">&quot;data arg must be an array ref\n&quot;</span>;</div>
<div class="line">    my $file = $args{file} || croak <span class="stringliteral">&quot;file arg not specified\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (-e $file) {</div>
<div class="line">        print <span class="stringliteral">&quot;[COMMON] $file exists - deleting... &quot;</span>;</div>
<div class="line">        croak <span class="stringliteral">&quot;COULD NOT OVERWRITE $file - check permissions and file locks\n&quot;</span></div>
<div class="line">            <span class="keywordflow">if</span> ! unlink $file;</div>
<div class="line">        print <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    open (my $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $file);</div>
<div class="line">    eval {</div>
<div class="line">        print $fh dump_xml($data)</div>
<div class="line">    };</div>
<div class="line">    croak $EVAL_ERROR <span class="keywordflow">if</span> $EVAL_ERROR;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($fh -&gt; close) {</div>
<div class="line">        print <span class="stringliteral">&quot;[COMMON] Write to file $file successful\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        croak <span class="stringliteral">&quot;[COMMON] Unable to close $file\n&quot;</span>;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a48d9d6a8483f889222d766df7d93bdbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Common::write_table_yaml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-write_table_yaml' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-write_table_yaml-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_table_yaml-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_table_yaml-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in write_table_yaml: 56</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Common.html#a48d9d6a8483f889222d766df7d93bdbf">write_table_yaml</a> {  #  dump the table to a YAML file.</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $data = $args{data} || croak <span class="stringliteral">&quot;data arg not specified\n&quot;</span>;</div>
<div class="line">    (ref $data) =~ /ARRAY/ || croak <span class="stringliteral">&quot;data arg must be an array ref\n&quot;</span>;</div>
<div class="line">    my $file = $args{file} || croak <span class="stringliteral">&quot;file arg not specified\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    eval {</div>
<div class="line">        $self -&gt; <a class="code" href="classBiodiverse_1_1Common.html#a2339c9545479573bea0d8b434ac7f99b">dump_to_yaml</a> (</div>
<div class="line">            %args,</div>
<div class="line">            filename =&gt; $file</div>
<div class="line">        )</div>
<div class="line">    };</div>
<div class="line">    croak $EVAL_ERROR <span class="keywordflow">if</span> $EVAL_ERROR;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#sub write_table_shapefile {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    carp &quot;Shapefile export not supported due to bugs in shapelib library.\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    return;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $self = shift;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my %args = @_;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $data = $args{data} || croak &quot;data arg not specified\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    (ref $data) =~ /ARRAY/ || croak &quot;data arg must be an array ref\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $file = $args{file} || croak &quot;file arg not specified\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $header = shift (@$data);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $shape = Geo::Shapelib -&gt; new ({</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                       Name =&gt; $file,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                       Shapetype =&gt; POINT,  #  point</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                       FieldNames =&gt; $header,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                       FieldTypes =&gt; [&#39;String&#39;, (&#39;Double&#39;) x $#$header]</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                       }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                      );</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    my $i = 0;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    foreach my $record (@$data) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        push @{$shape -&gt; {Shapes}}, { Vertices =&gt; [[$record-&gt;[1],$record-&gt;[2],0,0]],</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                      #ShapeId =&gt; $i,  #  for debug - normally set by code</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                      #SHPType =&gt; POINT,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#                                      };</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        push @{$shape -&gt; {ShapeRecords}}, $record;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        $i++;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#        last if $i == 5;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    }</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    $shape -&gt; set_bounds;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    #$shape -&gt; dump;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    $shape -&gt; save;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    $shape -&gt; close;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    </span></div>
<div class="line"><span class="preprocessor">#}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/<a class="el" href="Common_8pm_source.html">Common.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1Common.html">Common</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:25 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
