<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::Indices::IEI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1Indices_1_1IEI.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1Indices_1_1IEI-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::Indices::IEI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::Indices::IEI:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1Indices_1_1IEI__coll__graph.png" border="0" usemap="#Biodiverse_1_1Indices_1_1IEI_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1Indices_1_1IEI_coll__map" id="Biodiverse_1_1Indices_1_1IEI_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a549e395f71635a3ed7c482ed70ceb8f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a549e395f71635a3ed7c482ed70ceb8f7"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>stats_package</b></td></tr>
<tr class="separator:a549e395f71635a3ed7c482ed70ceb8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058ec52a34c0c04880de479240c1f219"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a058ec52a34c0c04880de479240c1f219"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>EMPTY_STRING</b></td></tr>
<tr class="separator:a058ec52a34c0c04880de479240c1f219"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:a4021923dd25314db74a4619bdc6e782d"><td class="memItemLeft" align="right" valign="top">private method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a4021923dd25314db74a4619bdc6e782d">_get_metadata_calc_iei_summary_stats_per_nbrhood</a> ()</td></tr>
<tr class="separator:a4021923dd25314db74a4619bdc6e782d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40063ca3f05bd96426c324ffd503e49"><td class="memItemLeft" align="right" valign="top">private method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#ae40063ca3f05bd96426c324ffd503e49">_calc_iei_summary_stats_per_nbrhood</a> ()</td></tr>
<tr class="separator:ae40063ca3f05bd96426c324ffd503e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed79d1602b79315f84675c7bc46e4ba"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a0ed79d1602b79315f84675c7bc46e4ba">get_iei_element_cache</a> ()</td></tr>
<tr class="separator:a0ed79d1602b79315f84675c7bc46e4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5dbb9a3362645ccf2d1777cd1caaabe"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#ab5dbb9a3362645ccf2d1777cd1caaabe">get_metadata_get_iei_data_for_elements</a> ()</td></tr>
<tr class="separator:ab5dbb9a3362645ccf2d1777cd1caaabe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b38eb61c722895174454be2966adc16"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a4b38eb61c722895174454be2966adc16">get_metadata_cleanup_iei_element_cache</a> ()</td></tr>
<tr class="separator:a4b38eb61c722895174454be2966adc16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c505b3068c8ec23e059bd58018321e9"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a4c505b3068c8ec23e059bd58018321e9">get_metadata_get_iei_stats_object</a> ()</td></tr>
<tr class="separator:a4c505b3068c8ec23e059bd58018321e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a81282dc6982b0f4e30393e469492d7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a3a81282dc6982b0f4e30393e469492d7">get_metadata_calc_iei_stats</a> ()</td></tr>
<tr class="separator:a3a81282dc6982b0f4e30393e469492d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f5453e7aa45c35332f6d809dfa7cb7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a34f5453e7aa45c35332f6d809dfa7cb7">calc_iei_data</a> ()</td></tr>
<tr class="separator:a34f5453e7aa45c35332f6d809dfa7cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09373e457cae4caae32fde73c6637baa"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a09373e457cae4caae32fde73c6637baa">calc_iei_stats</a> ()</td></tr>
<tr class="separator:a09373e457cae4caae32fde73c6637baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd89d9d1476ea0442a6e9bb204c2a329"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#afd89d9d1476ea0442a6e9bb204c2a329">get_metadata_calc_iei_data</a> ()</td></tr>
<tr class="separator:afd89d9d1476ea0442a6e9bb204c2a329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2c9fa8532cd6a96acf7ed030d14e2b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a6d2c9fa8532cd6a96acf7ed030d14e2b">numerically</a> ()</td></tr>
<tr class="separator:a6d2c9fa8532cd6a96acf7ed030d14e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6912e66c4bc778237f3b5869ce276c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#aad6912e66c4bc778237f3b5869ce276c">cleanup_iei_element_cache</a> ()</td></tr>
<tr class="separator:aad6912e66c4bc778237f3b5869ce276c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0341d926d0771fb4e6d2655120fff96"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#ac0341d926d0771fb4e6d2655120fff96">get_metadata_get_iei_element_cache</a> ()</td></tr>
<tr class="separator:ac0341d926d0771fb4e6d2655120fff96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ab32877e38bbfb8dbe5c4e8d45531d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a32ab32877e38bbfb8dbe5c4e8d45531d">get_iei_data_for_elements</a> ()</td></tr>
<tr class="separator:a32ab32877e38bbfb8dbe5c4e8d45531d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af9d25d748cc77dedb6844c0e2a019e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html#a6af9d25d748cc77dedb6844c0e2a019e">get_iei_stats_object</a> ()</td></tr>
<tr class="separator:a6af9d25d748cc77dedb6844c0e2a019e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="NAME"></a>
NAME</h1>
<p><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html">Biodiverse::Indices::IEI</a></p>
<h1><a class="anchor" id="SYNOPSIS"></a>
SYNOPSIS</h1>
<pre>  use <a class="el" href="classBiodiverse_1_1Indices.html">Biodiverse::Indices</a>;</pre><h1><a class="anchor" id="DESCRIPTION"></a>
DESCRIPTION</h1>
<p>Inter-event interval indices for the Biodiverse system. It is inherited by <a class="el" href="classBiodiverse_1_1Indices.html">Biodiverse::Indices</a> and not to be used on it own.</p>
<p>See <a href="http://code.google.com/p/biodiverse/wiki/Indices">http://code.google.com/p/biodiverse/wiki/Indices</a> for more details.</p>
<h1><a class="anchor" id="METHODS"></a>
METHODS</h1>
<ul>
<li>
<a class="anchor" id="item_INSERT_METHODS"></a><b>INSERT METHODS</b>  </li>
</ul>
<h1><a class="anchor" id="REPORTING_ERRORS"></a>
REPORTING ERRORS</h1>
<p>Use the issue tracker at <a href="http://www.purl.org/biodiverse">http://www.purl.org/biodiverse</a></p>
<h1><a class="anchor" id="COPYRIGHT"></a>
COPYRIGHT</h1>
<p>Copyright (c) 2010 Shawn Laffan. All rights reserved.</p>
<h1><a class="anchor" id="LICENSE"></a>
LICENSE</h1>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>For a full copy of the license see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>

<p>Definition at line <a class="el" href="IEI_8pm_source.html#l00047">47</a> of file <a class="el" href="IEI_8pm_source.html">IEI.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae40063ca3f05bd96426c324ffd503e49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method Biodiverse::Indices::IEI::_calc_iei_summary_stats_per_nbrhood </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_calc_iei_summary_stats_per_nbrhood' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-_calc_iei_summary_stats_per_nbrhood-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_calc_iei_summary_stats_per_nbrhood-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_calc_iei_summary_stats_per_nbrhood-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in _calc_iei_summary_stats_per_nbrhood: 70</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#ae40063ca3f05bd96426c324ffd503e49">_calc_iei_summary_stats_per_nbrhood</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $hash_list   = $args{IEI_DATA_BY_ELEMENT_AS_HASH};</div>
<div class="line">    my $array_list  = $args{IEI_DATA_BY_ELEMENT_AS_ARRAY};</div>
<div class="line"></div>
<div class="line">    my @interval_array;  #  stores all the intervals as an array</div>
<div class="line">    my %interval_hash;  #  same, but as a hash (<span class="keywordflow">for</span> convenience more than anything <span class="keywordflow">else</span>)</div>
<div class="line">    </div>
<div class="line">    my $summary_stats = $stats_package-&gt;new;</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  list of arrays named by the function to be called</span></div>
<div class="line"><span class="preprocessor"></span>    my $stat_arrays = {</div>
<div class="line">        mean                =&gt; [],</div>
<div class="line">        standard_deviation  =&gt; [],</div>
<div class="line">        count               =&gt; [],</div>
<div class="line">        geometric_mean      =&gt; [],</div>
<div class="line">        sample_range        =&gt; [],</div>
<div class="line">        min                 =&gt; [],</div>
<div class="line">        max                 =&gt; [],</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  remap the stat names</span></div>
<div class="line"><span class="preprocessor"></span>    my $remap = {</div>
<div class="line">        mean                =&gt; <span class="stringliteral">&#39;MEAN&#39;</span>,</div>
<div class="line">        standard_deviation  =&gt; <span class="stringliteral">&#39;SD&#39;</span>,</div>
<div class="line">        count               =&gt; <span class="charliteral">&#39;N&#39;</span>,</div>
<div class="line">        geometric_mean      =&gt; <span class="stringliteral">&#39;GMEAN&#39;</span>,</div>
<div class="line">        sample_range        =&gt; <span class="stringliteral">&#39;RANGE&#39;</span>,</div>
<div class="line">        min                 =&gt; <span class="stringliteral">&#39;MIN&#39;</span>,</div>
<div class="line">        max                 =&gt; <span class="stringliteral">&#39;MAX&#39;</span>,</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    BY_ELEMENT:</div>
<div class="line">    <span class="keywordflow">foreach</span> my $element (keys %$array_list) {</div>
<div class="line">        my $data = $array_list-&gt;{$element};</div>
<div class="line"></div>
<div class="line">        next BY_ELEMENT <span class="keywordflow">if</span> scalar @$data == 0;</div>
<div class="line"></div>
<div class="line">        my $stats = $stats_package-&gt;new;</div>
<div class="line">        $stats -&gt; add_data ($data);</div>
<div class="line">        $stats -&gt; sort_data;</div>
<div class="line"></div>
<div class="line">        FUNC:</div>
<div class="line">        <span class="keywordflow">foreach</span> my $stat_func (keys %$stat_arrays) {</div>
<div class="line">            my $result = eval {$stats -&gt; $stat_func };</div>
<div class="line">            next FUNC <span class="keywordflow">if</span> not defined $result;</div>
<div class="line">            push @{$stat_arrays-&gt;{$stat_func}}, $result;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my %results;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $stat (keys %$stat_arrays) {</div>
<div class="line">        my $key = <span class="stringliteral">&#39;IEI_S_MEAN_&#39;</span> . $remap-&gt;{$stat};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  only calc if we have samples, but always do the sample count</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($stat eq <span class="stringliteral">&#39;count&#39;</span> || scalar @{$stat_arrays-&gt;{$stat}}) { </div>
<div class="line">            my $stats = $stats_package-&gt;new;</div>
<div class="line">            $stats -&gt; add_data ($stat_arrays-&gt;{$stat});</div>
<div class="line">            $results{$key} = eval {$stats-&gt;mean};</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            $results{$key} = undef;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %results : \%results;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4021923dd25314db74a4619bdc6e782d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method Biodiverse::Indices::IEI::_get_metadata_calc_iei_summary_stats_per_nbrhood </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_get_metadata_calc_iei_summary_stats_per_nbrhood' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-_get_metadata_calc_iei_summary_stats_per_nbrhood-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_get_metadata_calc_iei_summary_stats_per_nbrhood-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_get_metadata_calc_iei_summary_stats_per_nbrhood-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in _get_metadata_calc_iei_summary_stats_per_nbrhood: 41</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a4021923dd25314db74a4619bdc6e782d">_get_metadata_calc_iei_summary_stats_per_nbrhood</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my %arguments = (</div>
<div class="line">        name            =&gt; <span class="stringliteral">&#39;Inter-event interval statistics summary stats&#39;</span>,</div>
<div class="line">        description     =&gt; <span class="stringliteral">&quot;Calculate summary statistics of the IEI results across a neighbourhood\n&quot;</span></div>
<div class="line">                            . <span class="stringliteral">&quot;IEI summary statistics are calculated for each group and then summarised&quot;</span></div>
<div class="line">                            . <span class="stringliteral">&quot;across the neighbourhood&quot;</span>,</div>
<div class="line">        type            =&gt; <span class="stringliteral">&#39;Inter-event Interval Statistics&#39;</span>,</div>
<div class="line">        pre_calc        =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a32ab32877e38bbfb8dbe5c4e8d45531d">get_iei_data_for_elements</a>/],</div>
<div class="line"><span class="preprocessor">        #pre_calc_global =&gt; [qw /get_iei_element_cache/],</span></div>
<div class="line"><span class="preprocessor"></span>        post_calc       =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#aad6912e66c4bc778237f3b5869ce276c">cleanup_iei_element_cache</a>/],</div>
<div class="line">        uses_nbr_lists  =&gt; 1,  #  how many sets of lists it must have</div>
<div class="line">        indices         =&gt; {</div>
<div class="line">            IEI_S_MEAN_SD    =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean of the standard deviations&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_S_MEAN_MEAN    =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean of the means&#39;</span>,</div>
<div class="line">                cluster     =&gt; 1,</div>
<div class="line">            },</div>
<div class="line">            IEI_S_MEAN_GMEAN   =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean of the geometric means&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_S_MEAN_N       =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean number of samples&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_S_MEAN_RANGE   =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean range&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_S_MEAN_MIN     =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean minimum value&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_S_MEAN_MAX     =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean maximum value&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">        },</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %arguments : \%arguments;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a34f5453e7aa45c35332f6d809dfa7cb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::calc_iei_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-calc_iei_data' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-calc_iei_data-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-calc_iei_data-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-calc_iei_data-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in calc_iei_data: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a34f5453e7aa45c35332f6d809dfa7cb7">calc_iei_data</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $stats = $args{IEI_stats_object};</div>
<div class="line">    </div>
<div class="line">    my $data = defined $stats </div>
<div class="line">                ? $stats -&gt; get_data</div>
<div class="line">                : [];</div>
<div class="line"></div>
<div class="line">    my %results = (</div>
<div class="line">        IEI_DATA_ARRAY =&gt; $data,</div>
<div class="line">        IEI_DATA_HASH  =&gt; $args{IEI_interval_hash} || {},</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %results : \%results;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a09373e457cae4caae32fde73c6637baa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::calc_iei_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-calc_iei_stats' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-calc_iei_stats-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-calc_iei_stats-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-calc_iei_stats-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in calc_iei_stats: 57</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a09373e457cae4caae32fde73c6637baa">calc_iei_stats</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $stats = $args{IEI_stats_object};</div>
<div class="line">    </div>
<div class="line">    my %results;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (! defined $stats) {</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? %results : \%results;  #  safe exit, just in <span class="keywordflow">case</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # supppress divide by zero and other undef value warnings</span></div>
<div class="line"><span class="preprocessor"></span>    no warnings qw /uninitialized numeric/;</div>
<div class="line">    </div>
<div class="line">    my $n = $stats-&gt;count;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> ($n) {</div>
<div class="line">        my $sd    = eval {$stats -&gt; standard_deviation};</div>
<div class="line">        my $mean  = eval {$stats -&gt; mean};</div>
<div class="line">        my $cv    = defined $sd ? $sd / $mean : undef;</div>
<div class="line">        my $gmean = eval {$stats -&gt; geometric_mean};  #  put these here to trap some errors</div>
<div class="line"></div>
<div class="line">        %results = (</div>
<div class="line">            IEI_GMEAN   =&gt; $gmean,</div>
<div class="line">            IEI_MEAN    =&gt; $mean,</div>
<div class="line">            IEI_SD      =&gt; $sd,</div>
<div class="line">            IEI_N       =&gt; $stats -&gt; count,</div>
<div class="line">            IEI_RANGE   =&gt; $stats -&gt; sample_range,</div>
<div class="line">            IEI_SKEW    =&gt; $stats -&gt; skewness,</div>
<div class="line">            IEI_KURT    =&gt; $stats -&gt; kurtosis,</div>
<div class="line">            IEI_CV      =&gt; $cv,</div>
<div class="line">            IEI_MIN     =&gt; $stats -&gt; min,</div>
<div class="line">            IEI_MAX     =&gt; $stats -&gt; max,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    #  statistics::descriptive uses a default mean of zero if no values - not what we want</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">else</span> {  </div>
<div class="line">        %results = (</div>
<div class="line">            IEI_GMEAN   =&gt; undef,</div>
<div class="line">            IEI_MEAN    =&gt; undef,</div>
<div class="line">            IEI_SD      =&gt; undef,</div>
<div class="line">            IEI_N       =&gt; $n,</div>
<div class="line">            IEI_RANGE   =&gt; undef,</div>
<div class="line">            IEI_SKEW    =&gt; undef,</div>
<div class="line">            IEI_KURT    =&gt; undef,</div>
<div class="line">            IEI_CV      =&gt; undef,</div>
<div class="line">            IEI_MIN     =&gt; undef,</div>
<div class="line">            IEI_MAX     =&gt; undef,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> wantarray</div>
<div class="line">            ? %results</div>
<div class="line">            : \%results;</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aad6912e66c4bc778237f3b5869ce276c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::cleanup_iei_element_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-cleanup_iei_element_cache' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-cleanup_iei_element_cache-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-cleanup_iei_element_cache-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-cleanup_iei_element_cache-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in cleanup_iei_element_cache: 19</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#aad6912e66c4bc778237f3b5869ce276c">cleanup_iei_element_cache</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line">    my $hash_cache  = $args{IEI_ELEMENT_HASH_CACHE};</div>
<div class="line">    my $array_cache = $args{IEI_ELEMENT_ARRAY_CACHE};</div>
<div class="line">    my $results_are_recyclable          # param will be renamed at some stage</div>
<div class="line">        = $self -&gt; get_param (<span class="stringliteral">&#39;RESULTS_ARE_RECYCLABLE&#39;</span>);</div>
<div class="line"></div>
<div class="line">    print $EMPTY_STRING;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  clear the cache if needed</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($args{no_IEI_cache} || $args{no_cache} || $results_are_recyclable) {</div>
<div class="line">        <span class="keyword">delete</span> @{$hash_cache}{keys %$hash_cache};</div>
<div class="line">        <span class="keyword">delete</span> @{$array_cache}{keys %$array_cache};</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a32ab32877e38bbfb8dbe5c4e8d45531d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_iei_data_for_elements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_iei_data_for_elements' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_iei_data_for_elements-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_iei_data_for_elements-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_iei_data_for_elements-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_iei_data_for_elements: 130</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a32ab32877e38bbfb8dbe5c4e8d45531d">get_iei_data_for_elements</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $bd = $self-&gt;get_basedata_ref;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (! $bd -&gt; labels_are_numeric) {</div>
<div class="line">        my %results = (IEI_STATS_OBJECT =&gt; undef);</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? %results : \%results;  </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    croak <span class="stringliteral">&quot;neither of args element_list1, element_list2 specified\n&quot;</span></div>
<div class="line">        <span class="keywordflow">if</span> (   ! defined $args{element_list1}</div>
<div class="line">            &amp;&amp; ! defined $args{element_list2}</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">    my $hash_cache  = $args{IEI_ELEMENT_HASH_CACHE};</div>
<div class="line">    my $array_cache = $args{IEI_ELEMENT_ARRAY_CACHE};</div>
<div class="line"></div>
<div class="line">    my %out_hash;</div>
<div class="line">    my %out_array;</div>
<div class="line"></div>
<div class="line">    my %element_check = (1 =&gt; {}, 2 =&gt; {});</div>
<div class="line">    my %element_check_master;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  loop iter variables</span></div>
<div class="line"><span class="preprocessor"></span>    my ($listname, $iter, $label);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  work through the elements we&#39;ve been fed and extract</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  their labels and sample counts</span></div>
<div class="line"><span class="preprocessor"></span>    my %hash = (element_list1 =&gt; 1, element_list2 =&gt; 2);</div>
<div class="line"></div>
<div class="line">    BY_LIST:</div>
<div class="line">    <span class="keywordflow">while</span> (($listname, $iter) = each (%hash)) {</div>
<div class="line"><span class="preprocessor">        #print &quot;$listname, $iter\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        next BY_LIST <span class="keywordflow">if</span> ! defined $args{$listname};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  silently convert the hash to an array</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ((ref $args{$listname}) =~ /HASH/) {  </div>
<div class="line">            $args{$listname} = [keys %{$args{$listname}}];</div>
<div class="line">        }</div>
<div class="line">        elsif (! ref ($args{$listname})) {</div>
<div class="line">            croak <span class="stringliteral">&quot;argument $listname is not a list ref\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        my @checked_elements;</div>
<div class="line"></div>
<div class="line">        BY_ELEMENT:</div>
<div class="line">        <span class="keywordflow">foreach</span> my $element (@{$args{$listname}}) {</div>
<div class="line"><span class="preprocessor">            #  deal with lazy array refs pointing to</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #  longer lists than we have elements</span></div>
<div class="line"><span class="preprocessor"></span>            next BY_ELEMENT <span class="keywordflow">if</span> ! defined $element;  </div>
<div class="line"></div>
<div class="line">            my $interval_hash_sub  = {};  #  sub hash</div>
<div class="line">            my $interval_array_sub = [];  #  and sub array</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            #  get it if not cached</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="keywordflow">if</span> (! exists $hash_cache-&gt;{$element}) {</div>
<div class="line">                my %labels</div>
<div class="line">                    = $bd -&gt; get_labels_in_group_as_hash (group =&gt; $element);</div>
<div class="line">                my @sorted_labels = sort <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a6d2c9fa8532cd6a96acf7ed030d14e2b">numerically</a> keys %labels;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">                #  add to the cache</span></div>
<div class="line"><span class="preprocessor"></span>                $hash_cache-&gt;{$element}  = $interval_hash_sub;</div>
<div class="line">                $array_cache-&gt;{$element} = $interval_array_sub;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">                #  need two events to have an interval</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="keywordflow">if</span> (scalar @sorted_labels &gt; 1) {  </div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">                    #  get the inter-event distances</span></div>
<div class="line"><span class="preprocessor"></span>                    my $last_label = shift @sorted_labels;</div>
<div class="line"></div>
<div class="line">                    <span class="keywordflow">if</span> ($labels{$last_label} &gt; 1) {</div>
<div class="line">                        my $zero_event_count = $labels{$last_label} - 1;</div>
<div class="line">                        push @$interval_array_sub, ((0) x $zero_event_count);</div>
<div class="line">                        $interval_hash_sub-&gt;{0} += $zero_event_count;</div>
<div class="line">                    }</div>
<div class="line"></div>
<div class="line">                    <span class="keywordflow">foreach</span> my $label (@sorted_labels) {</div>
<div class="line">                        my $event_length = $label - $last_label;</div>
<div class="line">                        push @$interval_array_sub, $event_length;</div>
<div class="line">                        $interval_hash_sub-&gt;{$event_length} ++;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">if</span> ($labels{$label} &gt; 1) {</div>
<div class="line">                            my $zero_event_count = $labels{$label} - 1;</div>
<div class="line">                            push @$interval_array_sub, ((0) x $zero_event_count);</div>
<div class="line">                            $interval_hash_sub-&gt;{0} += $zero_event_count;</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        $last_label = $label;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {  #  we have the cache</div>
<div class="line">                $interval_hash_sub  = $hash_cache-&gt;{$element};</div>
<div class="line">                $interval_array_sub = $array_cache-&gt;{$element};</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $out_hash{$element}  = $interval_hash_sub;</div>
<div class="line">            $out_array{$element} = $interval_array_sub;</div>
<div class="line"></div>
<div class="line">            push @checked_elements, $element;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        @{$element_check{$iter}}{@checked_elements}</div>
<div class="line">            = (1) x @checked_elements;</div>
<div class="line">        </div>
<div class="line"><span class="preprocessor">        #  hash slice is faster than looping</span></div>
<div class="line"><span class="preprocessor"></span>        @element_check_master{@checked_elements}</div>
<div class="line">            = (1) x scalar @checked_elements;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  run some checks on the elements</span></div>
<div class="line"><span class="preprocessor"></span>    my $element_count_master = scalar keys %element_check_master;</div>
<div class="line">    my $element_count1 = scalar keys %{$element_check{1}};</div>
<div class="line">    my $element_count2 = scalar keys %{$element_check{2}};</div>
<div class="line">    <span class="keywordflow">if</span> ($element_count1 + $element_count2 &gt; $element_count_master) {</div>
<div class="line">        croak <span class="stringliteral">&quot;[INDICES] DOUBLE COUNTING OF ELEMENTS IN get_iei_stats_object&quot;</span></div>
<div class="line">            . <span class="stringliteral">&quot;, $element_count1 + $element_count2 &gt; $element_count_master\n&quot;</span>;        </div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my %results = (</div>
<div class="line">        IEI_DATA_BY_ELEMENT_AS_HASH  =&gt; \%out_hash,</div>
<div class="line">        IEI_DATA_BY_ELEMENT_AS_ARRAY =&gt; \%out_array,</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %results : \%results;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0ed79d1602b79315f84675c7bc46e4ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_iei_element_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_iei_element_cache' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_iei_element_cache-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_iei_element_cache-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_iei_element_cache-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_iei_element_cache: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a0ed79d1602b79315f84675c7bc46e4ba">get_iei_element_cache</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    my %results = (</div>
<div class="line">        IEI_ELEMENT_ARRAY_CACHE =&gt; {},</div>
<div class="line">        IEI_ELEMENT_HASH_CACHE  =&gt; {},</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %results : \%results;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6af9d25d748cc77dedb6844c0e2a019e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_iei_stats_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_iei_stats_object' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_iei_stats_object-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_iei_stats_object-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_iei_stats_object-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_iei_stats_object: 53</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a6af9d25d748cc77dedb6844c0e2a019e">get_iei_stats_object</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  assume we are in a spatial or tree object first,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  or a basedata object otherwise</span></div>
<div class="line"><span class="preprocessor"></span>    my $bd = $self-&gt;get_basedata_ref;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (! $bd -&gt; labels_are_numeric) {</div>
<div class="line">        my %results = (IEI_STATS_OBJECT =&gt; undef);</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? %results : \%results;  </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #my $stats = $args{IEI_stats_object};</span></div>
<div class="line"><span class="preprocessor"></span>    my $hash_list   = $args{IEI_DATA_BY_ELEMENT_AS_HASH};</div>
<div class="line">    my $array_list  = $args{IEI_DATA_BY_ELEMENT_AS_ARRAY};</div>
<div class="line"></div>
<div class="line">    my @interval_array;  #  stores all the intervals as an array</div>
<div class="line">    my %interval_hash;  #  same, but as a hash (<span class="keywordflow">for</span> convenience more than anything <span class="keywordflow">else</span>)</div>
<div class="line">    </div>
<div class="line">    BY_ELEMENT:</div>
<div class="line">    <span class="keywordflow">foreach</span> my $element (keys %$array_list) {</div>
<div class="line"></div>
<div class="line">        my $interval_hash_sub  = {};  #  sub hash</div>
<div class="line">        my $interval_array_sub = [];  #  and sub array</div>
<div class="line">        </div>
<div class="line">        my $array_this_el = $array_list-&gt;{$element};</div>
<div class="line">        my $hash_this_el  = $hash_list-&gt;{$element};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  push the cached array onto the main array</span></div>
<div class="line"><span class="preprocessor"></span>        push @interval_array, @$array_this_el;</div>
<div class="line"><span class="preprocessor">        #  and increment the main hash as appropriate</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">foreach</span> my $key (keys %$hash_this_el) {</div>
<div class="line">            $interval_hash{$key} += $hash_this_el-&gt;{$key};</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    </div>
<div class="line">    my $stats = $stats_package-&gt;new;</div>
<div class="line">    $stats -&gt; add_data (\@interval_array);</div>
<div class="line">    </div>
<div class="line">    $stats -&gt; sort_data;</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #my $x = $hash_cache;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  the hash saves extracting it from the stats object again later</span></div>
<div class="line"><span class="preprocessor"></span>    my %results = (</div>
<div class="line">        IEI_stats_object  =&gt; $stats,</div>
<div class="line">        IEI_interval_hash =&gt; \%interval_hash,  </div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %results : \%results;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="afd89d9d1476ea0442a6e9bb204c2a329"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_metadata_calc_iei_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_metadata_calc_iei_data' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_metadata_calc_iei_data-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_metadata_calc_iei_data-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_metadata_calc_iei_data-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_metadata_calc_iei_data: 24</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#afd89d9d1476ea0442a6e9bb204c2a329">get_metadata_calc_iei_data</a> {</div>
<div class="line"></div>
<div class="line">    my %arguments = (</div>
<div class="line">        name            =&gt; <span class="stringliteral">&#39;Inter-event interval statistics data&#39;</span>,</div>
<div class="line">        description     =&gt; <span class="stringliteral">&#39;The underlying data used for the IEI stats.&#39;</span>,</div>
<div class="line">        type            =&gt; <span class="stringliteral">&#39;Inter-event Interval Statistics&#39;</span>,</div>
<div class="line">        pre_calc        =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a6af9d25d748cc77dedb6844c0e2a019e">get_iei_stats_object</a>/],</div>
<div class="line">        uses_nbr_lists  =&gt; 1,  #  how many sets of lists it must have</div>
<div class="line">        indices         =&gt; {</div>
<div class="line">            IEI_DATA_ARRAY =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Interval data in array form.  Multiple occurrences are repeated &#39;</span>,</div>
<div class="line">                type        =&gt; <span class="stringliteral">&#39;list&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_DATA_HASH  =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&quot;Interval data in hash form where the \n&quot;</span></div>
<div class="line">                               . <span class="stringliteral">&quot;interval is the key and number of occurrences is the value&quot;</span>,</div>
<div class="line">                type        =&gt; <span class="stringliteral">&#39;list&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            </div>
<div class="line">        },</div>
<div class="line">    );</div>
<div class="line">        </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %arguments : \%arguments;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3a81282dc6982b0f4e30393e469492d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_metadata_calc_iei_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_metadata_calc_iei_stats' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_metadata_calc_iei_stats-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_metadata_calc_iei_stats-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_metadata_calc_iei_stats-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_metadata_calc_iei_stats: 49</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a3a81282dc6982b0f4e30393e469492d7">get_metadata_calc_iei_stats</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my %arguments = (</div>
<div class="line">        name            =&gt; <span class="stringliteral">&#39;Inter-event interval statistics&#39;</span>,</div>
<div class="line">        description     =&gt; <span class="stringliteral">&quot;Calculate summary statistics from a set of numeric &quot;</span></div>
<div class="line">                         . <span class="stringliteral">&quot;labels that represent event times.\n&quot;</span></div>
<div class="line">                         . <span class="stringliteral">&quot;Event intervals are calculated within groups, then aggregated &quot;</span></div>
<div class="line">                         . <span class="stringliteral">&quot;across the neighbourhoods, and then summary stats are calculated.&quot;</span>,</div>
<div class="line">        type            =&gt; <span class="stringliteral">&#39;Inter-event Interval Statistics&#39;</span>,</div>
<div class="line">        pre_calc        =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a6af9d25d748cc77dedb6844c0e2a019e">get_iei_stats_object</a>/],</div>
<div class="line">        uses_nbr_lists  =&gt; 1,  #  how many sets of lists it must have</div>
<div class="line">        indices         =&gt; {</div>
<div class="line">            IEI_SD      =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Standard deviation&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_MEAN    =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Mean&#39;</span>,</div>
<div class="line">                cluster     =&gt; 1,</div>
<div class="line">            },</div>
<div class="line">            IEI_GMEAN   =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Geometric mean&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_N       =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Number of samples&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_RANGE   =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Range (max - min)&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_SKEW    =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Skewness&#39;</span>,</div>
<div class="line">            }, </div>
<div class="line">            IEI_KURT    =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Kurtosis&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_CV      =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Coefficient of variation (IEI_SD / IEI_MEAN)&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_MIN     =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Minimum value (zero percentile)&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_MAX     =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Maximum value (100th percentile)&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">        },</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %arguments : \%arguments;    </div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4b38eb61c722895174454be2966adc16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_metadata_cleanup_iei_element_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_metadata_cleanup_iei_element_cache' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_metadata_cleanup_iei_element_cache-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_metadata_cleanup_iei_element_cache-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_metadata_cleanup_iei_element_cache-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_metadata_cleanup_iei_element_cache: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a4b38eb61c722895174454be2966adc16">get_metadata_cleanup_iei_element_cache</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my %metadata = (</div>
<div class="line">        pre_calc_global =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a0ed79d1602b79315f84675c7bc46e4ba">get_iei_element_cache</a>/],</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %metadata : \%metadata;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab5dbb9a3362645ccf2d1777cd1caaabe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_metadata_get_iei_data_for_elements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_metadata_get_iei_data_for_elements' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_metadata_get_iei_data_for_elements-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_metadata_get_iei_data_for_elements-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_metadata_get_iei_data_for_elements-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_metadata_get_iei_data_for_elements: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#ab5dbb9a3362645ccf2d1777cd1caaabe">get_metadata_get_iei_data_for_elements</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my %arguments = (</div>
<div class="line">        name            =&gt; <span class="stringliteral">&#39;get_iei_data_for_elements&#39;</span>,</div>
<div class="line">        description     =&gt; <span class="stringliteral">&quot;get the IEI data for a set of elements and cache them\n&quot;</span>,</div>
<div class="line">        pre_calc_global =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a0ed79d1602b79315f84675c7bc46e4ba">get_iei_element_cache</a>/],</div>
<div class="line">        uses_nbr_lists  =&gt; 1,</div>
<div class="line">        indices         =&gt; {</div>
<div class="line">            IEI_DATA_BY_ELEMENT_AS_HASH  =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Data in hash form&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_DATA_BY_ELEMENT_AS_ARRAY =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;Data in array form&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">        }</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %arguments : \%arguments;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ac0341d926d0771fb4e6d2655120fff96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_metadata_get_iei_element_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_metadata_get_iei_element_cache' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_metadata_get_iei_element_cache-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_metadata_get_iei_element_cache-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_metadata_get_iei_element_cache-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_metadata_get_iei_element_cache: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#ac0341d926d0771fb4e6d2655120fff96">get_metadata_get_iei_element_cache</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my %arguments = (</div>
<div class="line">        description =&gt; <span class="stringliteral">&#39;Create a hash in which to cache the IEI lists for each element&#39;</span>,</div>
<div class="line">        indices     =&gt; {</div>
<div class="line">            IEI_ELEMENT_ARRAY_CACHE =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;The IEI array cache for each element&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">            IEI_ELEMENT_HASH_CACHE =&gt; {</div>
<div class="line">                description =&gt; <span class="stringliteral">&#39;The IEI hash cache for each element&#39;</span>,</div>
<div class="line">            },</div>
<div class="line">        },</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %arguments : \%arguments;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4c505b3068c8ec23e059bd58018321e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::get_metadata_get_iei_stats_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_metadata_get_iei_stats_object' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_metadata_get_iei_stats_object-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_metadata_get_iei_stats_object-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_metadata_get_iei_stats_object-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_metadata_get_iei_stats_object: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a4c505b3068c8ec23e059bd58018321e9">get_metadata_get_iei_stats_object</a> {</div>
<div class="line">    </div>
<div class="line">    my %arguments = (</div>
<div class="line">        name            =&gt; <span class="stringliteral">&#39;get_iei_stats_object&#39;</span>,</div>
<div class="line">        description     =&gt; <span class="stringliteral">&quot;Generate a statistics object for an Inter-event Interval analysis\n&quot;</span></div>
<div class="line">                           . <span class="stringliteral">&quot;Calculates intervals within each element and returns the overall list of intervals\n&quot;</span>,</div>
<div class="line">        pre_calc_global =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a0ed79d1602b79315f84675c7bc46e4ba">get_iei_element_cache</a>/],</div>
<div class="line">        pre_calc        =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#a32ab32877e38bbfb8dbe5c4e8d45531d">get_iei_data_for_elements</a>/],</div>
<div class="line">        post_calc       =&gt; [qw /<a class="code" href="classBiodiverse_1_1Indices_1_1IEI.html#aad6912e66c4bc778237f3b5869ce276c">cleanup_iei_element_cache</a>/],</div>
<div class="line">        uses_nbr_lists  =&gt; 1,</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %arguments : \%arguments;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6d2c9fa8532cd6a96acf7ed030d14e2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Indices::IEI::numerically </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-numerically' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-numerically-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-numerically-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-numerically-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in numerically: 1</span></div>
<div class="line"><span class="preprocessor">sub numerically {$a &lt;=&gt; $b};</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/Indices/<a class="el" href="IEI_8pm_source.html">IEI.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><b>Indices</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1Indices_1_1IEI.html">IEI</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:59 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
