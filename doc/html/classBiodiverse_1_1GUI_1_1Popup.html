<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::GUI::Popup Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1GUI_1_1Popup.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1GUI_1_1Popup-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::GUI::Popup Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::GUI::Popup:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1GUI_1_1Popup__coll__graph.png" border="0" usemap="#Biodiverse_1_1GUI_1_1Popup_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1GUI_1_1Popup_coll__map" id="Biodiverse_1_1GUI_1_1Popup_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab3b389f3c64bef6fdc4b848f4deef438"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3b389f3c64bef6fdc4b848f4deef438"></a>
hash&#160;</td><td class="memItemRight" valign="bottom"><b>g_dialogs</b></td></tr>
<tr class="separator:ab3b389f3c64bef6fdc4b848f4deef438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1492ba159ca81c26f50769e6c6fa401"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1492ba159ca81c26f50769e6c6fa401"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>g_reuseDlg</b></td></tr>
<tr class="separator:ad1492ba159ca81c26f50769e6c6fa401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f4b8150411a0314e265167e0274e82"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98f4b8150411a0314e265167e0274e82"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>g_reuseElement</b></td></tr>
<tr class="separator:a98f4b8150411a0314e265167e0274e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8e42368edf51e359771c257a3cc9f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe8e42368edf51e359771c257a3cc9f4"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>g_selectedSource</b></td></tr>
<tr class="separator:abe8e42368edf51e359771c257a3cc9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169fd9f2906a2c8b41f8fdd0ec99bb93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a169fd9f2906a2c8b41f8fdd0ec99bb93"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>g_lastReuse</b></td></tr>
<tr class="separator:a169fd9f2906a2c8b41f8fdd0ec99bb93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:a5f96ece70380f509e33ab95cefcd0c65"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a5f96ece70380f509e33ab95cefcd0c65">clipboard_clear_func</a> ()</td></tr>
<tr class="separator:a5f96ece70380f509e33ab95cefcd0c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655cfbc1c39f846128008e35a26c8412"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a655cfbc1c39f846128008e35a26c8412">onCloseAll</a> ()</td></tr>
<tr class="separator:a655cfbc1c39f846128008e35a26c8412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac8fbdafc4a6afbe1cba930c4336f08"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#abac8fbdafc4a6afbe1cba930c4336f08">makeSourcesModel</a> ()</td></tr>
<tr class="separator:abac8fbdafc4a6afbe1cba930c4336f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd8878e9d1a0ad75175e5e8ded2e99ff"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#acd8878e9d1a0ad75175e5e8ded2e99ff">showPopup</a> ()</td></tr>
<tr class="separator:acd8878e9d1a0ad75175e5e8ded2e99ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b16bf8c8bd7da27ebbe591cf141f48"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#ae4b16bf8c8bd7da27ebbe591cf141f48">clipboard_get_func</a> ()</td></tr>
<tr class="separator:ae4b16bf8c8bd7da27ebbe591cf141f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce02ac07d32321dc35e2f4fcaed43f2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ce02ac07d32321dc35e2f4fcaed43f2">closeDialog</a> ()</td></tr>
<tr class="separator:a3ce02ac07d32321dc35e2f4fcaed43f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852ed5aa51c05543288c1e79a396341f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a852ed5aa51c05543288c1e79a396341f">findSelectedSource</a> ()</td></tr>
<tr class="separator:a852ed5aa51c05543288c1e79a396341f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52348834a70c941a6954c86fdbfe0bab"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a52348834a70c941a6954c86fdbfe0bab">onCopy</a> ()</td></tr>
<tr class="separator:a52348834a70c941a6954c86fdbfe0bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddebdf8bfdfb6c843ea293f9160b075"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ddebdf8bfdfb6c843ea293f9160b075">onSourceChanged</a> ()</td></tr>
<tr class="separator:a3ddebdf8bfdfb6c843ea293f9160b075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db98c2669c1b5a3bdaa10396fa837bf"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a3db98c2669c1b5a3bdaa10396fa837bf">onReuseToggled</a> ()</td></tr>
<tr class="separator:a3db98c2669c1b5a3bdaa10396fa837bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a984a2b16804ee521545ff6f490fb3bba"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#a984a2b16804ee521545ff6f490fb3bba">makeDialog</a> ()</td></tr>
<tr class="separator:a984a2b16804ee521545ff6f490fb3bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7284bda0170198415e50cb6f51e9347"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html#ae7284bda0170198415e50cb6f51e9347">loadDialog</a> ()</td></tr>
<tr class="separator:ae7284bda0170198415e50cb6f51e9347"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements the popup dialogs shown when cells on the grid are clicked. They can be reused - meaning that instead of making a new dialog, an existing one is "overwritten".</p>
<p>The dialog is given a hash of SOURCE_NAME =&gt; $function When a source is selected, $function is called and passed a $popup parameter. Other parameters can be passed by making $function a closure, eg:</p>
<pre>  $sources-&gt;{LABELS} = sub { showLabels(@_, $basedata_ref, $element); } ;
  ($popup) is given as part of "\@_"</pre><p>$popup is of type <a class="el" href="classBiodiverse_1_1GUI_1_1PopupObject.html">Biodiverse::GUI::PopupObject</a> and has methods setListModel - shows the given GTK model as the output setValueColumn - puts the given model column onto the list's second column This list's first column is the first model column</p>
<p>Parameters =over 4 =item </p>
<div class="fragment"><div class="line">$element</div>
</div><!-- fragment --><p> element (cell) for which to show the popup =item </p>
<div class="fragment"><div class="line">$neighbours</div>
</div><!-- fragment --> <pre class="fragment">Possibly a ref to hash containing LABEL_HASH1, LABEL_HASH2, LABEL_HASH_ALL
if undef will use get_labels_in_group_as_hash
</pre><p> =back =cut</p>

<p>Definition at line <a class="el" href="Popup_8pm_source.html#l00050">50</a> of file <a class="el" href="Popup_8pm_source.html">Popup.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5f96ece70380f509e33ab95cefcd0c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::clipboard_clear_func </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clipboard_clear_func' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clipboard_clear_func-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clipboard_clear_func-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clipboard_clear_func-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clipboard_clear_func: 5</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a5f96ece70380f509e33ab95cefcd0c65">clipboard_clear_func</a> {</div>
<div class="line">    print <span class="stringliteral">&quot;[Popup] Clipboard cleared\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae4b16bf8c8bd7da27ebbe591cf141f48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::clipboard_get_func </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clipboard_get_func' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clipboard_get_func-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clipboard_get_func-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clipboard_get_func-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clipboard_get_func: 88</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#ae4b16bf8c8bd7da27ebbe591cf141f48">clipboard_get_func</a> {</div>
<div class="line">    my $clipboard = shift;</div>
<div class="line">    my $selection = shift;</div>
<div class="line">    my $datatype = shift;</div>
<div class="line">    my $popup = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print &quot;[Popup] Clipboard data request (type $datatype)\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    my $element  = $popup-&gt;{element};</div>
<div class="line">    my $list     = $popup-&gt;{list};</div>
<div class="line">    my $listname = $popup-&gt;{listname};</div>
<div class="line">    my $model    = $list-&gt;get_model();</div>
<div class="line">    my $text;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (! $model) {</div>
<div class="line">        my $gui = <a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html">Biodiverse::GUI::GUIManager</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html#ac3e7ca0c649afeb296bb870ab3842d9d">instance</a>;</div>
<div class="line">        my $e = <span class="stringliteral">&quot;Unable to paste data.\nPopup has been closed so link with source data is lost\n&quot;</span>;</div>
<div class="line">        $gui-&gt;report_error($e);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Start off with the &quot;element&quot; (ie: cell coordinates)</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($datatype == TYPE_HTML) {</div>
<div class="line">        $text =&lt;&lt;<span class="stringliteral">&#39;END_HTML_HEADER&#39;</span></div>
<div class="line">        &lt;!DOCTYPE html PUBLIC <span class="stringliteral">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;</div>
<div class="line">        &lt;html xmlns=<span class="stringliteral">&quot;http://www.w3.org/1999/xhtml&quot;</span> xml:lang=<span class="stringliteral">&quot;en&quot;</span> lang=<span class="stringliteral">&quot;en&quot;</span>&gt;</div>
<div class="line"></div>
<div class="line">        &lt;head&gt;</div>
<div class="line">            &lt;meta http-equiv=<span class="stringliteral">&quot;Content-Type&quot;</span> content=<span class="stringliteral">&quot;text/html; charset=utf-8&quot;</span> /&gt;</div>
<div class="line">        &lt;/head&gt;</div>
<div class="line">        </div>
<div class="line">        &lt;body&gt;</div>
<div class="line">        </div>
<div class="line">        &lt;table&gt;  </div>
<div class="line">END_HTML_HEADER</div>
<div class="line">;</div>
<div class="line">        $text .= <span class="stringliteral">&quot;&lt;tr&gt;&lt;td&gt;$listname&lt;/td&gt;&lt;td&gt;$element&lt;/td&gt;&lt;/tr&gt;&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $text = <span class="stringliteral">&quot;$listname\t$element\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # Generate the text</span></div>
<div class="line"><span class="preprocessor"></span>    my $iter;</div>
<div class="line">    eval {</div>
<div class="line">        $iter = $model-&gt;get_iter_first();</div>
<div class="line">    };</div>
<div class="line">    <span class="keywordflow">if</span> ($EVAL_ERROR) {</div>
<div class="line">        my $gui = <a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html">Biodiverse::GUI::GUIManager</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html#ac3e7ca0c649afeb296bb870ab3842d9d">instance</a>;</div>
<div class="line">        $gui-&gt;report_error($EVAL_ERROR);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> ($iter) {</div>
<div class="line">        my $name = $model-&gt;get($iter, 0);</div>
<div class="line">        my $value = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($popup-&gt;{value_column}) {</div>
<div class="line">            $value = $model-&gt;get($iter, $popup-&gt;{value_column});</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($datatype == TYPE_TEXT) {</div>
<div class="line">            $text .= <span class="stringliteral">&quot;$name\t$value\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        elsif ($datatype == TYPE_HTML) {</div>
<div class="line">            $text .= <span class="stringliteral">&quot;&lt;tr&gt;&lt;td&gt;$name&lt;/td&gt;&lt;td&gt;$value&lt;/td&gt;&lt;/tr&gt;\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        $iter = $model-&gt;iter_next($iter);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($datatype == TYPE_HTML) {</div>
<div class="line">        $text .= <span class="stringliteral">&quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Give the data..</span></div>
<div class="line"><span class="preprocessor"></span>    print <span class="stringliteral">&quot;[Popup] Sending data for $element to clipboard\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($datatype == TYPE_HTML) {</div>
<div class="line">        my $atom = Gtk2::Gdk::Atom-&gt;intern(<span class="stringliteral">&#39;text/html&#39;</span>);</div>
<div class="line">        $selection-&gt;set($atom, 8, $text);</div>
<div class="line">    }</div>
<div class="line">    elsif ($datatype == TYPE_TEXT) {</div>
<div class="line">        $selection-&gt;set_text($text);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3ce02ac07d32321dc35e2f4fcaed43f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::closeDialog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-closeDialog' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-closeDialog-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-closeDialog-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-closeDialog-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in closeDialog: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ce02ac07d32321dc35e2f4fcaed43f2">closeDialog</a> {</div>
<div class="line">    my $element = shift;</div>
<div class="line"><span class="preprocessor">    #print &quot;[Popup] Closing labels dialog for $element\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    $g_dialogs{$element}-&gt;get_widget(DLG_NAME)-&gt;destroy();</div>
<div class="line"><span class="preprocessor">    #print &quot;[Popup] Dialogue destroyed\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keyword">delete</span> $g_dialogs{$element};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  don&#39;t tell me about an undef in the eq check below.</span></div>
<div class="line"><span class="preprocessor"></span>    no warnings <span class="stringliteral">&#39;uninitialized&#39;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($element eq $g_reuseElement) {</div>
<div class="line">        $g_reuseDlg     = undef;</div>
<div class="line">        $g_reuseElement = undef;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a852ed5aa51c05543288c1e79a396341f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::findSelectedSource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-findSelectedSource' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-findSelectedSource-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-findSelectedSource-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-findSelectedSource-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in findSelectedSource: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a852ed5aa51c05543288c1e79a396341f">findSelectedSource</a> {</div>
<div class="line">    my $sources_model = shift;</div>
<div class="line">    my $search_name = shift || <span class="keywordflow">return</span>;</div>
<div class="line">    my $iter = $sources_model-&gt;get_iter_first;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> ($iter) {</div>
<div class="line"></div>
<div class="line">        my $name = $sources_model-&gt;get($iter, SOURCES_MODEL_NAME);</div>
<div class="line">        last <span class="keywordflow">if</span> ($name eq $search_name);</div>
<div class="line"></div>
<div class="line">        $iter = $sources_model-&gt;iter_next($iter);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $iter;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae7284bda0170198415e50cb6f51e9347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::loadDialog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-loadDialog' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-loadDialog-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-loadDialog-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-loadDialog-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in loadDialog: 57</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#ae7284bda0170198415e50cb6f51e9347">loadDialog</a> {</div>
<div class="line">    my $dlgxml = shift;</div>
<div class="line">    my $element = shift;</div>
<div class="line">    my $sources_ref = shift;</div>
<div class="line">    my $default_source = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print Data::Dumper::Dumper($neighbours);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print Data::Dumper::Dumper(%g_dialogs);</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Create pseudo-object hash to hold everything together</span></div>
<div class="line"><span class="preprocessor"></span>    my $popup = {};</div>
<div class="line">    bless $popup, <span class="stringliteral">&#39;Biodiverse::GUI::PopupObject&#39;</span>;</div>
<div class="line"></div>
<div class="line">    $popup-&gt;{list} = $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;lstData&#39;</span>);</div>
<div class="line">    $popup-&gt;{element} = $element;</div>
<div class="line">    $popup-&gt;{sources_ref} = $sources_ref;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Create model of available sources</span></div>
<div class="line"><span class="preprocessor"></span>    my $sources_model = <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#abac8fbdafc4a6afbe1cba930c4336f08">makeSourcesModel</a>($sources_ref);</div>
<div class="line"><span class="preprocessor">    #print &quot;[Popup] Made source model\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Set up the combobox</span></div>
<div class="line"><span class="preprocessor"></span>    my $combo = $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;comboSources&#39;</span>);</div>
<div class="line">    $combo-&gt;set_model($sources_model);</div>
<div class="line"></div>
<div class="line">    my $selected_source =  <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a852ed5aa51c05543288c1e79a396341f">findSelectedSource</a>($sources_model, $g_selectedSource) <span class="preprocessor"># first use user-selected</span></div>
<div class="line"><span class="preprocessor"></span>                        || <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a852ed5aa51c05543288c1e79a396341f">findSelectedSource</a>($sources_model, $default_source) <span class="preprocessor"># then try default source</span></div>
<div class="line"><span class="preprocessor"></span>                        || $sources_model-&gt;get_iter_first;    # use first one otherwise</div>
<div class="line">    $combo-&gt;set_active_iter($selected_source);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set title</span></div>
<div class="line"><span class="preprocessor"></span>    $g_dialogs{$element}-&gt;get_widget(DLG_NAME)-&gt;set_title(<span class="stringliteral">&quot;Data for $element&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Load first thing</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ddebdf8bfdfb6c843ea293f9160b075">onSourceChanged</a>($combo, $popup);</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # Disconnect signals (dialog might be being reused)</span></div>
<div class="line"><span class="preprocessor"></span>    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;comboSources&#39;</span>)-&gt;signal_handlers_disconnect_by_func(\&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ddebdf8bfdfb6c843ea293f9160b075">onSourceChanged</a>);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;btnClose&#39;</span>)-&gt;signal_handlers_disconnect_by_func(\&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ce02ac07d32321dc35e2f4fcaed43f2">closeDialog</a>);</div>
<div class="line">    $dlgxml-&gt;get_widget(DLG_NAME)-&gt;signal_handlers_disconnect_by_func(\&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ce02ac07d32321dc35e2f4fcaed43f2">closeDialog</a>);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;btnCloseAll&#39;</span>)-&gt;signal_handlers_disconnect_by_func(\&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a655cfbc1c39f846128008e35a26c8412">onCloseAll</a>);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;btnCopy&#39;</span>)-&gt;signal_handlers_disconnect_by_func(\&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a52348834a70c941a6954c86fdbfe0bab">onCopy</a>);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;chkReuse&#39;</span>)-&gt;signal_handlers_disconnect_by_func(\&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3db98c2669c1b5a3bdaa10396fa837bf">onReuseToggled</a>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Connect signals</span></div>
<div class="line"><span class="preprocessor"></span>    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;comboSources&#39;</span>)-&gt;signal_connect(changed =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ddebdf8bfdfb6c843ea293f9160b075">onSourceChanged</a>, $popup);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;btnClose&#39;</span>)-&gt;signal_connect_swapped(clicked =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ce02ac07d32321dc35e2f4fcaed43f2">closeDialog</a>, $element);</div>
<div class="line">    $dlgxml-&gt;get_widget(DLG_NAME)-&gt;signal_connect_swapped(delete_event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ce02ac07d32321dc35e2f4fcaed43f2">closeDialog</a>, $element);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;btnCloseAll&#39;</span>)-&gt;signal_connect_swapped(clicked =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a655cfbc1c39f846128008e35a26c8412">onCloseAll</a>);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;btnCopy&#39;</span>)-&gt;signal_connect_swapped(clicked =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a52348834a70c941a6954c86fdbfe0bab">onCopy</a>, $popup);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set to last re-use state</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;[Popup] last reuse = $g_lastReuse\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;chkReuse&#39;</span>)-&gt;set_active($g_lastReuse);</div>
<div class="line">    $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;chkReuse&#39;</span>)-&gt;signal_connect(toggled =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3db98c2669c1b5a3bdaa10396fa837bf">onReuseToggled</a>, [$element, $dlgxml]);</div>
<div class="line">    <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3db98c2669c1b5a3bdaa10396fa837bf">onReuseToggled</a>($dlgxml-&gt;get_widget(<span class="stringliteral">&#39;chkReuse&#39;</span>),  [$element, $dlgxml]);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a984a2b16804ee521545ff6f490fb3bba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::makeDialog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeDialog' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeDialog-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeDialog-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeDialog-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeDialog: 38</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a984a2b16804ee521545ff6f490fb3bba">makeDialog</a> {</div>
<div class="line">    my $gui = <a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html">Biodiverse::GUI::GUIManager</a>-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1GUIManager.html#ac3e7ca0c649afeb296bb870ab3842d9d">instance</a>;</div>
<div class="line">    my $dlgxml = Gtk2::GladeXML-&gt;new($gui-&gt;getGladeFile, DLG_NAME);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Put it on top of main window</span></div>
<div class="line"><span class="preprocessor"></span>    $dlgxml-&gt;get_widget(DLG_NAME)-&gt;set_transient_for($gui-&gt;getWidget(<span class="stringliteral">&#39;wndMain&#39;</span>));</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set height to be 1/3 of screen</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$dlgxml-&gt;get_widget(DLG_NAME)-&gt;resize(1, Gtk2::Gdk-&gt;screen_height() / 3);</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Set up the combobox</span></div>
<div class="line"><span class="preprocessor"></span>    my $combo = $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;comboSources&#39;</span>);</div>
<div class="line">    my $renderer = Gtk2::CellRendererText-&gt;new();</div>
<div class="line">    $combo-&gt;pack_start($renderer, 1);</div>
<div class="line">    $combo-&gt;add_attribute($renderer, text =&gt; SOURCES_MODEL_NAME);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set up the list</span></div>
<div class="line"><span class="preprocessor"></span>    my $list = $dlgxml-&gt;get_widget(<span class="stringliteral">&#39;lstData&#39;</span>);</div>
<div class="line"></div>
<div class="line">    my $nameRenderer = Gtk2::CellRendererText-&gt;new();</div>
<div class="line">    my $valueRenderer = Gtk2::CellRendererText-&gt;new();</div>
<div class="line">    my $colName = Gtk2::TreeViewColumn-&gt;new();</div>
<div class="line">    my $colValue = Gtk2::TreeViewColumn-&gt;new();</div>
<div class="line"></div>
<div class="line">    $colName-&gt;pack_start($nameRenderer, 1);</div>
<div class="line">    $colValue-&gt;pack_start($valueRenderer, 1);</div>
<div class="line">    $colName-&gt;add_attribute($nameRenderer, text =&gt; 0);</div>
<div class="line"></div>
<div class="line">    $list-&gt;insert_column($colName, -1);</div>
<div class="line">    $list-&gt;insert_column($colValue, -1);</div>
<div class="line">    $list-&gt;set_headers_visible(0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Save col/renderer so that we can choose different count columns</span></div>
<div class="line"><span class="preprocessor"></span>    $list-&gt;{colValue} = $colValue;</div>
<div class="line">    $list-&gt;{valueRenderer} = $valueRenderer;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $dlgxml;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="abac8fbdafc4a6afbe1cba930c4336f08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::makeSourcesModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeSourcesModel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeSourcesModel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeSourcesModel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeSourcesModel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeSourcesModel: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#abac8fbdafc4a6afbe1cba930c4336f08">makeSourcesModel</a> {</div>
<div class="line">    my $sources_ref = shift;</div>
<div class="line"></div>
<div class="line">    my $sources_model = Gtk2::ListStore-&gt;new(</div>
<div class="line">        <span class="stringliteral">&#39;Glib::String&#39;</span>,</div>
<div class="line">        <span class="stringliteral">&#39;Glib::Scalar&#39;</span>,</div>
<div class="line">        <span class="stringliteral">&#39;Glib::Scalar&#39;</span>,</div>
<div class="line">    );</div>
<div class="line">    my $iter;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $source_name (sort keys %{$sources_ref}) {</div>
<div class="line">        $iter = $sources_model-&gt;append;</div>
<div class="line">        $sources_model-&gt;set($iter,</div>
<div class="line">            SOURCES_MODEL_NAME,     $source_name,</div>
<div class="line">            SOURCES_MODEL_CALLBACK, $sources_ref-&gt;{$source_name},</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $sources_model;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a655cfbc1c39f846128008e35a26c8412"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::onCloseAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onCloseAll' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onCloseAll-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onCloseAll-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onCloseAll-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onCloseAll: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a655cfbc1c39f846128008e35a26c8412">onCloseAll</a> {</div>
<div class="line">    print <span class="stringliteral">&quot;[Popup] Closing all labels dialogs\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">while</span> ( (my $element, my $dlgxml) = each %g_dialogs) {</div>
<div class="line">        $dlgxml-&gt;get_widget(DLG_NAME)-&gt;destroy();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    %g_dialogs = ();</div>
<div class="line">    $g_reuseDlg = undef;</div>
<div class="line">    $g_reuseElement = undef;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a52348834a70c941a6954c86fdbfe0bab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::onCopy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onCopy' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onCopy-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onCopy-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onCopy-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onCopy: 24</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a52348834a70c941a6954c86fdbfe0bab">onCopy</a> {</div>
<div class="line">    my $popup = shift;</div>
<div class="line"></div>
<div class="line">    my $clipboard = Gtk2::Clipboard-&gt;get(Gtk2::Gdk-&gt;SELECTION_CLIPBOARD);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Add text and HTML (spreadsheet programs can read it) data to clipboard</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # We&#39;ll be called back when someone pastes</span></div>
<div class="line"><span class="preprocessor"></span>    eval {</div>
<div class="line">        $clipboard-&gt;set_with_data (</div>
<div class="line">            \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#ae4b16bf8c8bd7da27ebbe591cf141f48">clipboard_get_func</a>,</div>
<div class="line">            \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a5f96ece70380f509e33ab95cefcd0c65">clipboard_clear_func</a>,</div>
<div class="line">            $popup,</div>
<div class="line">            {target=&gt;<span class="stringliteral">&#39;STRING&#39;</span>,        info =&gt; TYPE_TEXT},</div>
<div class="line">            {target=&gt;<span class="stringliteral">&#39;TEXT&#39;</span>,          info =&gt; TYPE_TEXT},</div>
<div class="line">            {target=&gt;<span class="stringliteral">&#39;COMPOUND_TEXT&#39;</span>, info =&gt; TYPE_TEXT},</div>
<div class="line">            {target=&gt;<span class="stringliteral">&#39;UTF8_STRING&#39;</span>,   info =&gt; TYPE_TEXT},</div>
<div class="line">            {target=&gt;<span class="stringliteral">&#39;text/plain&#39;</span>,    info =&gt; TYPE_TEXT},</div>
<div class="line">            {target=&gt;<span class="stringliteral">&#39;text/html&#39;</span>,     info =&gt; TYPE_HTML},</div>
<div class="line">        );</div>
<div class="line">    };</div>
<div class="line">    warn $EVAL_ERROR <span class="keywordflow">if</span> $EVAL_ERROR;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3db98c2669c1b5a3bdaa10396fa837bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::onReuseToggled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onReuseToggled' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onReuseToggled-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onReuseToggled-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onReuseToggled-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onReuseToggled: 29</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3db98c2669c1b5a3bdaa10396fa837bf">onReuseToggled</a> {</div>
<div class="line">    my $button = shift;</div>
<div class="line">    my $args = shift;</div>
<div class="line"></div>
<div class="line">    my ($element, $dlgxml) = ($args-&gt;[0], $args-&gt;[1]);</div>
<div class="line">    <span class="keywordflow">if</span> ($button-&gt;get_active() ) {</div>
<div class="line"><span class="preprocessor">        # Set to re-use</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # Clear old dialog&#39;s checkbox</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (defined $g_reuseDlg &amp;&amp; $g_reuseDlg != $dlgxml) {</div>
<div class="line">            $g_reuseDlg-&gt;get_widget(<span class="stringliteral">&#39;chkReuse&#39;</span>)-&gt;set_active(0);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Set this dialog to be re-use target</span></div>
<div class="line"><span class="preprocessor"></span>        $g_reuseDlg = $dlgxml;</div>
<div class="line">        $g_reuseElement = $element;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;[Popup] Set reuse dialog to be $element\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        $g_lastReuse = 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">        # Clear re-use dialog</span></div>
<div class="line"><span class="preprocessor"></span>        $g_reuseDlg = undef;</div>
<div class="line">        $g_reuseElement = undef;</div>
<div class="line"><span class="preprocessor">        #print &quot;[Popup] Cleared re-use dialog\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        $g_lastReuse = 0;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3ddebdf8bfdfb6c843ea293f9160b075"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::onSourceChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onSourceChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onSourceChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onSourceChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onSourceChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onSourceChanged: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ddebdf8bfdfb6c843ea293f9160b075">onSourceChanged</a> {</div>
<div class="line">    my $combo = shift;</div>
<div class="line">    my $popup = shift;</div>
<div class="line"></div>
<div class="line">    my $iter = $combo-&gt;get_active_iter;</div>
<div class="line"></div>
<div class="line">    my ($name, $callback)</div>
<div class="line">        = $combo-&gt;get_model-&gt;get(</div>
<div class="line">            $iter,</div>
<div class="line">            SOURCES_MODEL_NAME,</div>
<div class="line">            SOURCES_MODEL_CALLBACK,</div>
<div class="line">        );</div>
<div class="line">    $g_selectedSource = $name;</div>
<div class="line">    $popup-&gt;{listname} = $name;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Call the source-specific callback function (showList, showNeighbourLabels ...)</span></div>
<div class="line"><span class="preprocessor"></span>    &amp;$callback($popup);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="acd8878e9d1a0ad75175e5e8ded2e99ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Popup::showPopup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-showPopup' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-showPopup-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-showPopup-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-showPopup-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in showPopup: 25</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#acd8878e9d1a0ad75175e5e8ded2e99ff">showPopup</a> {</div>
<div class="line">    my $element = shift;</div>
<div class="line">    my $sources_ref = shift;</div>
<div class="line">    my $default_source = shift;</div>
<div class="line">    my $dlgxml;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # If already showing a dialog, close it</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (exists $g_dialogs{$element}) {</div>
<div class="line">        <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a3ce02ac07d32321dc35e2f4fcaed43f2">closeDialog</a>($element);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (defined $g_reuseDlg) {</div>
<div class="line">            $dlgxml = $g_reuseDlg;</div>
<div class="line">            <span class="keyword">delete</span> $g_dialogs{$g_reuseElement};</div>
<div class="line"><span class="preprocessor">            #print &quot;[Popup] Reusing dialog which was for $g_reuseElement\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">            #print &quot;[Popup] Making new labels dialog for $element\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>            $dlgxml = <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#a984a2b16804ee521545ff6f490fb3bba">makeDialog</a>();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $g_dialogs{$element} = $dlgxml;</div>
<div class="line">        <a class="code" href="classBiodiverse_1_1GUI_1_1Popup.html#ae7284bda0170198415e50cb6f51e9347">loadDialog</a>($dlgxml, $element, $sources_ref, $default_source);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/GUI/<a class="el" href="Popup_8pm_source.html">Popup.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><b>GUI</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1GUI_1_1Popup.html">Popup</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:42 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
