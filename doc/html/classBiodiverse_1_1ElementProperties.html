<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::ElementProperties Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1ElementProperties.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1ElementProperties-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::ElementProperties Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::ElementProperties:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1ElementProperties__coll__graph.png" border="0" usemap="#Biodiverse_1_1ElementProperties_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1ElementProperties_coll__map" id="Biodiverse_1_1ElementProperties_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab8c4211d20f801a1c34913b2a5b8ea67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8c4211d20f801a1c34913b2a5b8ea67"></a>
hash&#160;</td><td class="memItemRight" valign="bottom"><b>PARAMS</b></td></tr>
<tr class="separator:ab8c4211d20f801a1c34913b2a5b8ea67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:a1c8215a8544c9ede126446832a4795f1"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#a1c8215a8544c9ede126446832a4795f1">to_table</a> ()</td></tr>
<tr class="separator:a1c8215a8544c9ede126446832a4795f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ef9a6243aa96f8298002faafadc977"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#a62ef9a6243aa96f8298002faafadc977">get_element_exclude</a> ()</td></tr>
<tr class="separator:a62ef9a6243aa96f8298002faafadc977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aface046cb8220e9867f188cff5f5169c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#aface046cb8220e9867f188cff5f5169c">get_metadata_import_data</a> ()</td></tr>
<tr class="separator:aface046cb8220e9867f188cff5f5169c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fc6dbc97c662a429e439cb7b44b06b5"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#a5fc6dbc97c662a429e439cb7b44b06b5">get_element_sample_count</a> ()</td></tr>
<tr class="separator:a5fc6dbc97c662a429e439cb7b44b06b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab265575a846be81bedd144dd4f0cb193"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#ab265575a846be81bedd144dd4f0cb193">get_element_range</a> ()</td></tr>
<tr class="separator:ab265575a846be81bedd144dd4f0cb193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4778ea60e50e8560374551605a2d26be"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#a4778ea60e50e8560374551605a2d26be">get_element_remapped</a> ()</td></tr>
<tr class="separator:a4778ea60e50e8560374551605a2d26be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba814f82e39f18fe9e940e8df9fcfa1"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#a2ba814f82e39f18fe9e940e8df9fcfa1">get_element_include</a> ()</td></tr>
<tr class="separator:a2ba814f82e39f18fe9e940e8df9fcfa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec651690445ad17b2d5ce535c7ba83e1"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#aec651690445ad17b2d5ce535c7ba83e1">get_element_properties</a> ()</td></tr>
<tr class="separator:aec651690445ad17b2d5ce535c7ba83e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201781b87ae55db582f7085661e9050d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#a201781b87ae55db582f7085661e9050d">get_element_property</a> ()</td></tr>
<tr class="separator:a201781b87ae55db582f7085661e9050d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410bcc40aeecdc8113753b98af435f34"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1ElementProperties.html#a410bcc40aeecdc8113753b98af435f34">import_data</a> ()</td></tr>
<tr class="separator:a410bcc40aeecdc8113753b98af435f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Get the value of the include field for an element. Returns </p>
<div class="fragment"><div class="line">undef</div>
</div><!-- fragment --><p> if none is set.</p>

<p>Definition at line <a class="el" href="ElementProperties_8pm_source.html#l00023">23</a> of file <a class="el" href="ElementProperties_8pm_source.html">ElementProperties.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a62ef9a6243aa96f8298002faafadc977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_element_exclude </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_element_exclude' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_element_exclude-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_element_exclude-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_element_exclude-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_element_exclude: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#a62ef9a6243aa96f8298002faafadc977">get_element_exclude</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $element = $args{element};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  return an empty list if nothing there</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not $self-&gt;exists_element (element =&gt; $element);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  get the properties</span></div>
<div class="line"><span class="preprocessor"></span>    my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $props-&gt;{EXCLUDE} <span class="keywordflow">if</span> exists $props-&gt;{EXCLUDE} and defined $props-&gt;{EXCLUDE};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;  #  <span class="keyword">get</span> <span class="keyword">get</span> <span class="keyword">this</span> far then it must be undef</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2ba814f82e39f18fe9e940e8df9fcfa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_element_include </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_element_include' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_element_include-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_element_include-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_element_include-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_element_include: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#a2ba814f82e39f18fe9e940e8df9fcfa1">get_element_include</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $element = $args{element};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  return an empty list if nothing there</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not $self-&gt;exists_element (element =&gt; $element);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  get the properties</span></div>
<div class="line"><span class="preprocessor"></span>    my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $props-&gt;{INCLUDE} <span class="keywordflow">if</span> exists $props-&gt;{INCLUDE} and defined $props-&gt;{INCLUDE};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;  #  <span class="keyword">get</span> <span class="keyword">this</span> far then it must be undef</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aec651690445ad17b2d5ce535c7ba83e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_element_properties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_element_properties' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_element_properties-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_element_properties-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_element_properties-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_element_properties: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#aec651690445ad17b2d5ce535c7ba83e1">get_element_properties</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $element = $args{element};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  return an empty list if nothing there</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (not $self-&gt;exists_element (element =&gt; $element)) {</div>
<div class="line">        <span class="keywordflow">return</span> wantarray ? () : {};</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  remap the element name if need be</span></div>
<div class="line"><span class="preprocessor"></span>    my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    my $remap = $self-&gt;get_element_remapped (@_);</div>
<div class="line">    <span class="keywordflow">if</span> (defined $remap) {</div>
<div class="line">        $props = $self-&gt;get_list_ref (element =&gt; $remap, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? %$props : $props;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a201781b87ae55db582f7085661e9050d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_element_property </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_element_property' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_element_property-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_element_property-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_element_property-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_element_property: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#a201781b87ae55db582f7085661e9050d">get_element_property</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $element = $args{element};</div>
<div class="line">    my $property = $args{<span class="keyword">property</span>};</div>
<div class="line">    croak <span class="stringliteral">&quot;argument &#39;property&#39; not defined\n&quot;</span> <span class="keywordflow">if</span> not defined $property;</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  return an empty list if nothing there</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not $self-&gt;exists_element (element =&gt; $element);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  get the properties</span></div>
<div class="line"><span class="preprocessor"></span>    my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $props-&gt;{$property} <span class="keywordflow">if</span> exists $props-&gt;{$property} and defined $props-&gt;{$property};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;  #  <span class="keyword">get</span> <span class="keyword">this</span> far then it must be undef</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab265575a846be81bedd144dd4f0cb193"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_element_range </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_element_range' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_element_range-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_element_range-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_element_range-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_element_range: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#ab265575a846be81bedd144dd4f0cb193">get_element_range</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $element = $args{element};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  return an empty list if nothing there</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not $self-&gt;exists_element (element =&gt; $element);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  get the properties</span></div>
<div class="line"><span class="preprocessor"></span>    my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $props-&gt;{RANGE} <span class="keywordflow">if</span> exists $props-&gt;{RANGE} and defined $props-&gt;{RANGE};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;  #  <span class="keyword">get</span> <span class="keyword">get</span> <span class="keyword">this</span> far then it must be undef</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4778ea60e50e8560374551605a2d26be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_element_remapped </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_element_remapped' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_element_remapped-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_element_remapped-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_element_remapped-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_element_remapped: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#a4778ea60e50e8560374551605a2d26be">get_element_remapped</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $element = $args{element};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #my $x = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; &#39;PROPERTIES&#39;);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  return an empty list if nothing there</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not $self-&gt;exists_element (element =&gt; $element);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  get the properties</span></div>
<div class="line"><span class="preprocessor"></span>    my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $props-&gt;{REMAP} <span class="keywordflow">if</span> exists $props-&gt;{REMAP} and defined $props-&gt;{REMAP};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;  #  <span class="keyword">get</span> <span class="keyword">get</span> <span class="keyword">this</span> far then it must be undef</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a5fc6dbc97c662a429e439cb7b44b06b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_element_sample_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_element_sample_count' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_element_sample_count-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_element_sample_count-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_element_sample_count-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_element_sample_count: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#a5fc6dbc97c662a429e439cb7b44b06b5">get_element_sample_count</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $element = $args{element};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  return an empty list if nothing there</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not $self-&gt;exists_element (element =&gt; $element);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  get the properties</span></div>
<div class="line"><span class="preprocessor"></span>    my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $props-&gt;{SAMPLE_COUNT} <span class="keywordflow">if</span> exists $props-&gt;{SAMPLE_COUNT} and defined $props-&gt;{SAMPLE_COUNT};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;  #  <span class="keyword">get</span> <span class="keyword">get</span> <span class="keyword">this</span> far then it must be undef</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aface046cb8220e9867f188cff5f5169c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::get_metadata_import_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_metadata_import_data' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_metadata_import_data-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_metadata_import_data-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_metadata_import_data-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_metadata_import_data: 32</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#aface046cb8220e9867f188cff5f5169c">get_metadata_import_data</a> {</div>
<div class="line">    </div>
<div class="line">    my @sep_chars = defined $ENV{BIODIVERSE_FIELD_SEPARATORS}</div>
<div class="line">                  ? @$ENV{BIODIVERSE_FIELD_SEPARATORS}</div>
<div class="line">                  : (<span class="charliteral">&#39;,&#39;</span>, <span class="stringliteral">&#39;tab&#39;</span>, <span class="charliteral">&#39;;&#39;</span>, <span class="stringliteral">&#39;space&#39;</span>, <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line">    my @quote_chars = qw /<span class="stringliteral">&quot; &#39; + $/;</span></div>
<div class="line"><span class="stringliteral">    my @input_sep_chars = (&#39;guess&#39;, @sep_chars);</span></div>
<div class="line"><span class="stringliteral">    my @input_quote_chars = (&#39;guess&#39;, @quote_chars);</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    #  these parameters are only for the GUI, so are not a full set</span></div>
<div class="line"><span class="stringliteral">    #  add options for range etc?  </span></div>
<div class="line"><span class="stringliteral">    my %arg_hash = (</span></div>
<div class="line"><span class="stringliteral">        parameters =&gt; [</span></div>
<div class="line"><span class="stringliteral">            {name       =&gt; &#39;input_sep_char&#39;,</span></div>
<div class="line"><span class="stringliteral">             label_text =&gt; &quot;</span>Input field separator<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="stringliteral">             tooltip    =&gt; &quot;</span>Select character<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="stringliteral">             type       =&gt; &#39;choice&#39;,</span></div>
<div class="line"><span class="stringliteral">             choices    =&gt; \@input_sep_chars,</span></div>
<div class="line"><span class="stringliteral">             default   =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">            },</span></div>
<div class="line"><span class="stringliteral">            {name       =&gt; &#39;input_quote_char&#39;,</span></div>
<div class="line"><span class="stringliteral">             label_text =&gt; &quot;</span>Input quote character<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="stringliteral">             tooltip    =&gt; &quot;</span>Select character<span class="stringliteral">&quot;,</span></div>
<div class="line"><span class="stringliteral">             type       =&gt; &#39;choice&#39;,</span></div>
<div class="line"><span class="stringliteral">             choices    =&gt; \@input_quote_chars,</span></div>
<div class="line"><span class="stringliteral">             default    =&gt; 0,</span></div>
<div class="line"><span class="stringliteral">             },                                    </span></div>
<div class="line"><span class="stringliteral">        ]</span></div>
<div class="line"><span class="stringliteral">    ); </span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return wantarray ? %arg_hash : \%arg_hash;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a410bcc40aeecdc8113753b98af435f34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::import_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-import_data' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-import_data-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-import_data-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-import_data-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in import_data: 273</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#a410bcc40aeecdc8113753b98af435f34">import_data</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    croak <span class="stringliteral">&quot;[ElementProperties] file arg not defined\n&quot;</span> <span class="keywordflow">if</span> not defined $args{file};</div>
<div class="line"><span class="preprocessor">    #return wantarray ? () : {} if not defined $args{file};</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line">    my $file         = $args{file};</div>
<div class="line">    my $input_quote_char = $args{input_quote_char};</div>
<div class="line">    my $sep          = $args{input_sep_char};    </div>
<div class="line">    </div>
<div class="line">    my $in_cols      = $args{input_element_cols};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not defined $in_cols) {</div>
<div class="line">        Biodiverse::Args::ElPropInputCols-&gt;throw (</div>
<div class="line">            message =&gt; <span class="stringliteral">&quot;Need argument input_element_cols to be set\n&quot;</span>,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    elsif (not (ref $in_cols) =~ /ARRAY/) {</div>
<div class="line">        Biodiverse::Args::ElPropInputCols-&gt;throw (</div>
<div class="line">            message =&gt; <span class="stringliteral">&quot;Input_element_cols is not an array ref\n&quot;</span>,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    elsif (not scalar @$in_cols) {</div>
<div class="line">        Biodiverse::Args::ElPropInputCols-&gt;throw (</div>
<div class="line">            message =&gt; <span class="stringliteral">&quot;Element properties need at least one input element column to be set\n&quot;</span></div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my $out_cols     = $args{remapped_element_cols} || [];</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  need to make these generic</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #my $range_col = $args{range};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #my $sample_count_col = $args{sample_count};</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line">    my $include_cols = $args{include_cols};</div>
<div class="line">    <span class="keywordflow">if</span> (defined $include_cols) {</div>
<div class="line">        <span class="keywordflow">if</span> ((ref $include_cols) !~ /ARRAY/) {</div>
<div class="line">            $include_cols = [$include_cols];</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my $exclude_cols = $args{exclude_cols};</div>
<div class="line">    <span class="keywordflow">if</span> (defined $exclude_cols) {</div>
<div class="line">        <span class="keywordflow">if</span> ((ref $exclude_cols) !~ /ARRAY/) {</div>
<div class="line">            $exclude_cols = [$exclude_cols];</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  clean up used args - the rest are properties to be set</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keyword">delete</span> @args{</div>
<div class="line">        qw /file</div>
<div class="line">            input_element_cols</div>
<div class="line">            remapped_element_cols</div>
<div class="line">            get_args</div>
<div class="line">            include_cols</div>
<div class="line">            exclude_cols</div>
<div class="line">            input_sep_char</div>
<div class="line">            input_quote_char</div>
<div class="line">            /};</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  STARTING THE GENERIC APPROACH</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  the rest of the args are properties to be set</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  - a _very_ dirty way of doing things but allows laziness elsewhere in the system</span></div>
<div class="line"><span class="preprocessor"></span>    my %prop_cols;</div>
<div class="line">    <span class="keywordflow">if</span> (scalar keys %args) {</div>
<div class="line">        <span class="keywordflow">foreach</span> my $p (keys %args) {</div>
<div class="line">            $prop_cols{uc $p} = $args{$p};  #  upper <span class="keywordflow">case</span> them</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my $whole_file;</div>
<div class="line">    open (my $fh1, <span class="stringliteral">&#39;&lt;:via(File::BOM)&#39;</span>, $file) || croak <span class="stringliteral">&quot;Cannot open file $file\n&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    my $header = &lt;$fh1&gt;;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        local $/ = undef;  #  slurp whole file - not a good idea in the <span class="keywordtype">long</span> term, but these tables hsould be small enough</div>
<div class="line">        $whole_file = &lt;$fh1&gt;;</div>
<div class="line"><span class="preprocessor">        #close $fh;</span></div>
<div class="line"><span class="preprocessor"></span>    };</div>
<div class="line">    $fh1-&gt;close;</div>
<div class="line">    </div>
<div class="line">    my $quotes = $self-&gt;get_param (<span class="stringliteral">&#39;QUOTES&#39;</span>);  #  <span class="keywordflow">for</span> storage, not <span class="keyword">import</span></div>
<div class="line">    my $el_sep = $self-&gt;get_param (<span class="stringliteral">&#39;JOIN_CHAR&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not defined $input_quote_char or $input_quote_char eq <span class="stringliteral">&#39;guess&#39;</span>) {</div>
<div class="line"><span class="preprocessor">        #  guess the quotes character</span></div>
<div class="line"><span class="preprocessor"></span>        $input_quote_char = $self-&gt;guess_quote_char (<span class="keywordtype">string</span> =&gt; \$whole_file);</div>
<div class="line"><span class="preprocessor">        #  if all else fails...</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (not defined $input_quote_char) {</div>
<div class="line">            $input_quote_char = $self-&gt;get_param (<span class="stringliteral">&#39;QUOTES&#39;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not defined $sep or $sep eq <span class="stringliteral">&#39;guess&#39;</span>) {</div>
<div class="line">        $sep = $self-&gt;guess_field_separator (</div>
<div class="line">            <span class="keywordtype">string</span> =&gt; $header,</div>
<div class="line">            quote_char =&gt; $input_quote_char,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    my $eol = $self-&gt;guess_eol (<span class="keywordtype">string</span> =&gt; $header);</div>
<div class="line">    </div>
<div class="line">    my $csv_in  = $self-&gt;get_csv_object (</div>
<div class="line">        sep_char =&gt; $sep,</div>
<div class="line">        quote_char =&gt; $input_quote_char,</div>
<div class="line">        eol =&gt; $eol,</div>
<div class="line">    );</div>
<div class="line">    my $csv_out = $self-&gt;get_csv_object (</div>
<div class="line">        sep_char =&gt; $el_sep,</div>
<div class="line">        quote_char =&gt; $quotes,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    my $lines_to_read_per_chunk = 50000;</div>
<div class="line"></div>
<div class="line">    open (my $fh, <span class="stringliteral">&#39;&lt;:via(File::BOM)&#39;</span>, $file) || croak <span class="stringliteral">&quot;Cannot open file $file\n&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    my $lines = $self-&gt;get_next_line_set (</div>
<div class="line">        progress            =&gt; $args{progress_bar},</div>
<div class="line">        file_handle         =&gt; $fh,</div>
<div class="line">        target_line_count   =&gt; $lines_to_read_per_chunk,</div>
<div class="line">        file_name           =&gt; $file,</div>
<div class="line">        csv_object          =&gt; $csv_in,</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    shift @$lines;  #  <span class="keyword">remove</span> header</div>
<div class="line">    </div>
<div class="line">    my @element_order;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (my $FldsRef = shift @$lines) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (scalar @$lines == 0) {</div>
<div class="line">            $lines = $self-&gt;get_next_line_set (</div>
<div class="line">                progress           =&gt; $args{progress_bar},</div>
<div class="line">                file_handle        =&gt; $fh,</div>
<div class="line">                file_name          =&gt; $file,</div>
<div class="line">                target_line_count  =&gt; $lines_to_read_per_chunk,</div>
<div class="line">                csv_object         =&gt; $csv_in,</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        my $element = $self-&gt;list2csv (</div>
<div class="line">            list       =&gt; [@$FldsRef[@$in_cols]],</div>
<div class="line">            csv_object =&gt; $csv_out,</div>
<div class="line">        );</div>
<div class="line"></div>
<div class="line">        my $hash;  #  list to store the properties</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  create the element if needed</span></div>
<div class="line"><span class="preprocessor"></span>        my $element_existed = $self-&gt;exists_element (element =&gt; $element);</div>
<div class="line">        <span class="keywordflow">if</span> (not $element_existed) {</div>
<div class="line">            $self-&gt;add_element (</div>
<div class="line">                element    =&gt; $element,</div>
<div class="line">                csv_object =&gt; $csv_out,</div>
<div class="line">            );</div>
<div class="line">            push @element_order, $element;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">            #  work with the existing poperties hash - this will override any set values</span></div>
<div class="line"><span class="preprocessor"></span>            $hash = $self-&gt;get_list_ref (</div>
<div class="line">                element =&gt; $element,</div>
<div class="line">                list    =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>,</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        my @remap = @$FldsRef[@$out_cols];</div>
<div class="line">        my $remapped = scalar @remap</div>
<div class="line">                    ? $self-&gt;list2csv (</div>
<div class="line">                        list       =&gt; \@remap,</div>
<div class="line">                        csv_object =&gt; $csv_out,</div>
<div class="line">                    )</div>
<div class="line">                    : undef;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  check the remap value is valid (need to test for quotes?)</span></div>
<div class="line"><span class="preprocessor"></span>        my $null_entry = $el_sep x $#remap;</div>
<div class="line">        $hash-&gt;{REMAP} = $remapped unless (</div>
<div class="line">            ! defined $remapped or                      #  thar<span class="stringliteral">&#39;s nowt there</span></div>
<div class="line"><span class="stringliteral">            scalar @remap &amp;&amp; (length $element == 0) or  #  one column wide, but empty</span></div>
<div class="line"><span class="stringliteral">            $remapped eq $null_entry or                 #  contains only the join char</span></div>
<div class="line"><span class="stringliteral">            $remapped eq $element                       #  remapping to self, no need to store</span></div>
<div class="line"><span class="stringliteral">        );</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        my $include;</span></div>
<div class="line"><span class="stringliteral">        if (defined $include_cols and scalar @$include_cols) {</span></div>
<div class="line"><span class="stringliteral">            $include = 0;  #  default to not include</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">            INCLUDE_COLS:</span></div>
<div class="line"><span class="stringliteral">            foreach my $col (@$include_cols) {</span></div>
<div class="line"><span class="stringliteral">                if (defined $FldsRef-&gt;[$col]) {</span></div>
<div class="line"><span class="stringliteral">                    $include = $FldsRef-&gt;[$col];</span></div>
<div class="line"><span class="stringliteral">                    last INCLUDE_COLS if $include;  #  drop out if we hit a yes</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        my $exclude;</span></div>
<div class="line"><span class="stringliteral">        if (defined $exclude_cols and scalar @$exclude_cols) {</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">            EXCLUDE_COLS:</span></div>
<div class="line"><span class="stringliteral">            foreach my $col (@$exclude_cols) {</span></div>
<div class="line"><span class="stringliteral">                if (defined $FldsRef-&gt;[$col]) {</span></div>
<div class="line"><span class="stringliteral">                    $exclude = $FldsRef-&gt;[$col];</span></div>
<div class="line"><span class="stringliteral">                    last EXCLUDE_COLS if $exclude;    # drop out if we hit a yes</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        foreach my $prop_name (%prop_cols) {</span></div>
<div class="line"><span class="stringliteral">            my $col = $prop_cols{$prop_name};</span></div>
<div class="line"><span class="stringliteral">            if (defined $col) {</span></div>
<div class="line"><span class="stringliteral">                my $prop = $FldsRef-&gt;[$col] ;</span></div>
<div class="line"><span class="stringliteral">                #  need to allow non-numeric, but need metadata for it</span></div>
<div class="line"><span class="stringliteral">                #if (defined $prop and looks_like_number $prop) {</span></div>
<div class="line"><span class="stringliteral">                #  allow undefined values</span></div>
<div class="line"><span class="stringliteral">                if (!defined $prop or looks_like_number $prop) {</span></div>
<div class="line"><span class="stringliteral">                    $hash-&gt;{$prop_name} = $prop;</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        $hash-&gt;{INCLUDE} = $include if defined $include_cols;</span></div>
<div class="line"><span class="stringliteral">        $hash-&gt;{EXCLUDE} = $exclude if defined $exclude_cols;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        #  add the properties hash to the element,</span></div>
<div class="line"><span class="stringliteral">        #  unless it was already there and we&#39;</span>ve already worked</div>
<div class="line">        #  on it directly, or there are no props</div>
<div class="line">        <span class="keywordflow">if</span> (not $element_existed and scalar keys %$hash) {</div>
<div class="line">            $self-&gt;add_to_lists (element =&gt; $element, PROPERTIES =&gt; $hash);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    #  go through and cleanup any multiple node links</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  (eg remap to remap to remap)</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $element ($self-&gt;get_element_list) {</div>
<div class="line">        my @remap_history;</div>
<div class="line">        my %r_hash;</div>
<div class="line">        my $props = $self-&gt;get_list_ref (element =&gt; $element, list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>);</div>
<div class="line"></div>
<div class="line">        my $props_orig = $props;</div>
<div class="line">        my $element_orig = $element;</div>
<div class="line"></div>
<div class="line">        REMAP:</div>
<div class="line">        <span class="keywordflow">while</span> (exists $props-&gt;{REMAP} and defined $props-&gt;{REMAP}) {</div>
<div class="line">            <span class="keywordflow">if</span> (exists $r_hash{$element} or $element eq $props-&gt;{REMAP}) {</div>
<div class="line">                warn <span class="stringliteral">&quot;Circular remap for $element_orig\n&quot;</span>;</div>
<div class="line">                last;  #  avoid circular remaps</div>
<div class="line">            }</div>
<div class="line">            $r_hash{$element}++;</div>
<div class="line"></div>
<div class="line">            $element = $props-&gt;{REMAP};</div>
<div class="line">            push @remap_history, $element;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            #  drop out if we have no props for this remapped element</span></div>
<div class="line"><span class="preprocessor"></span>            last REMAP <span class="keywordflow">if</span> !$self-&gt;exists_element(element =&gt; $element);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            #  get the properties of this next remapped element</span></div>
<div class="line"><span class="preprocessor"></span>            $props = $self-&gt;get_list_ref (</div>
<div class="line">                element =&gt; $element,</div>
<div class="line">                list    =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>,</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ($#remap_history == 10) {</div>
<div class="line">                warn <span class="stringliteral">&quot;[BASEDATA] Element remap of &gt;=10 interchanges\n&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">            elsif ($#remap_history &gt; 20) {</div>
<div class="line">                my $r_h = join (q{ }, @remap_history);</div>
<div class="line">                warn <span class="stringliteral">&quot;[BASEDATA] Remap exceeds 20 interchanges\n&quot;</span></div>
<div class="line">                     . <span class="stringliteral">&quot;You might want to check your table, or you are &quot;</span></div>
<div class="line">                     . <span class="stringliteral">&quot;working with a really contested taxonomy\n&quot;</span></div>
<div class="line">                     . $r_h</div>
<div class="line">                     . <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a1c8215a8544c9ede126446832a4795f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::ElementProperties::to_table </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-to_table' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-to_table-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-to_table-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-to_table-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in to_table: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1ElementProperties.html#a1c8215a8544c9ede126446832a4795f1">to_table</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;SUPER::to_table (list =&gt; <span class="stringliteral">&#39;PROPERTIES&#39;</span>, @_);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/<a class="el" href="ElementProperties_8pm_source.html">ElementProperties.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1ElementProperties.html">ElementProperties</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:25 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
