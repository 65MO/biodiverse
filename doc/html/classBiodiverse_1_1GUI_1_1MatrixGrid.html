<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::GUI::MatrixGrid Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1GUI_1_1MatrixGrid.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1GUI_1_1MatrixGrid-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::GUI::MatrixGrid Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::GUI::MatrixGrid:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1GUI_1_1MatrixGrid__coll__graph.png" border="0" usemap="#Biodiverse_1_1GUI_1_1MatrixGrid_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1GUI_1_1MatrixGrid_coll__map" id="Biodiverse_1_1GUI_1_1MatrixGrid_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abb333664000ffe2f32539c23037f6c79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb333664000ffe2f32539c23037f6c79"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>gray50_width</b></td></tr>
<tr class="separator:abb333664000ffe2f32539c23037f6c79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a942a779a09551330548feb58880d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7a942a779a09551330548feb58880d3"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>gray50_height</b></td></tr>
<tr class="separator:aa7a942a779a09551330548feb58880d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe49f55dc3b5223c61c1bb00872efd8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3fe49f55dc3b5223c61c1bb00872efd8"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>gray50_bits</b></td></tr>
<tr class="separator:a3fe49f55dc3b5223c61c1bb00872efd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:af4346dbf976639db1f03b796b31d707f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#af4346dbf976639db1f03b796b31d707f">max</a> ()</td></tr>
<tr class="separator:af4346dbf976639db1f03b796b31d707f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b677b5c163855c60f9ff265595513b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a13b677b5c163855c60f9ff265595513b">makeMark</a> ()</td></tr>
<tr class="separator:a13b677b5c163855c60f9ff265595513b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02508ee8d6a73464089a62b5ef1dc50f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a02508ee8d6a73464089a62b5ef1dc50f">setColouring</a> ()</td></tr>
<tr class="separator:a02508ee8d6a73464089a62b5ef1dc50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5a71ecb7c113c5704710e30fcfb14c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a3b5a71ecb7c113c5704710e30fcfb14c">postZoom</a> ()</td></tr>
<tr class="separator:a3b5a71ecb7c113c5704710e30fcfb14c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22f9607fb30164bb5b0827ee29318c2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae22f9607fb30164bb5b0827ee29318c2">maxmin</a> ()</td></tr>
<tr class="separator:ae22f9607fb30164bb5b0827ee29318c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655e0d1e98070471d7de9bb2b9e23b35"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a655e0d1e98070471d7de9bb2b9e23b35">getMaskRects</a> ()</td></tr>
<tr class="separator:a655e0d1e98070471d7de9bb2b9e23b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257b5669ed36feff345b2d4573a3435d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a257b5669ed36feff345b2d4573a3435d">showLegend</a> ()</td></tr>
<tr class="separator:a257b5669ed36feff345b2d4573a3435d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71af0806e8eb9a5857a6c1ca03881b61"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a71af0806e8eb9a5857a6c1ca03881b61">new</a> ()</td></tr>
<tr class="separator:a71af0806e8eb9a5857a6c1ca03881b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa242e292bcf378d4eef4a3d41c2b027"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#aaa242e292bcf378d4eef4a3d41c2b027">setHue</a> ()</td></tr>
<tr class="separator:aaa242e292bcf378d4eef4a3d41c2b027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c48df5a5612dd28fe8204f94c86e1c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a69c48df5a5612dd28fe8204f94c86e1c">resizeBackgroundRect</a> ()</td></tr>
<tr class="separator:a69c48df5a5612dd28fe8204f94c86e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0191bfd4e78ef2ebfaad6a94b3ebe72f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a0191bfd4e78ef2ebfaad6a94b3ebe72f">setupScrollbars</a> ()</td></tr>
<tr class="separator:a0191bfd4e78ef2ebfaad6a94b3ebe72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7161fc5405b1c687ac00a59b9ee3dc9"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae7161fc5405b1c687ac00a59b9ee3dc9">zoomFit</a> ()</td></tr>
<tr class="separator:ae7161fc5405b1c687ac00a59b9ee3dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7873196153c30b801e980510686e3076"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a7873196153c30b801e980510686e3076">fitGrid</a> ()</td></tr>
<tr class="separator:a7873196153c30b801e980510686e3076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3394c1f14814e55a435217bbbc9c63"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a9f3394c1f14814e55a435217bbbc9c63">zoomIn</a> ()</td></tr>
<tr class="separator:a9f3394c1f14814e55a435217bbbc9c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70deff95138ebf37bc92b06fbb18bd39"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a70deff95138ebf37bc92b06fbb18bd39">getColourHue</a> ()</td></tr>
<tr class="separator:a70deff95138ebf37bc92b06fbb18bd39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668a76f90e24baaed2e5b6a2d76adb29"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a668a76f90e24baaed2e5b6a2d76adb29">makeLegendPixbuf</a> ()</td></tr>
<tr class="separator:a668a76f90e24baaed2e5b6a2d76adb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545e6104a8969015a2d2c3476001a0b8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a545e6104a8969015a2d2c3476001a0b8">setColours</a> ()</td></tr>
<tr class="separator:a545e6104a8969015a2d2c3476001a0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b22b8caa69c519df12a637a348cd439"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a5b22b8caa69c519df12a637a348cd439">set_precision</a> ()</td></tr>
<tr class="separator:a5b22b8caa69c519df12a637a348cd439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaabc0f1dfd17cd5ee98057b31764ca2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#aeaabc0f1dfd17cd5ee98057b31764ca2">hideLegend</a> ()</td></tr>
<tr class="separator:aeaabc0f1dfd17cd5ee98057b31764ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947f0234ca74af109e7a13d60f351775"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a947f0234ca74af109e7a13d60f351775">getColourSaturation</a> ()</td></tr>
<tr class="separator:a947f0234ca74af109e7a13d60f351775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a338be18c312b31ec62fb8fd9b1c334ed"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a338be18c312b31ec62fb8fd9b1c334ed">zoomOut</a> ()</td></tr>
<tr class="separator:a338be18c312b31ec62fb8fd9b1c334ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07f7563d865637765c6edc68a05c279"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae07f7563d865637765c6edc68a05c279">drawMatrix</a> ()</td></tr>
<tr class="separator:ae07f7563d865637765c6edc68a05c279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae284f028639c1a6ef0151d3f9076a18b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae284f028639c1a6ef0151d3f9076a18b">onScrollbarsScroll</a> ()</td></tr>
<tr class="separator:ae284f028639c1a6ef0151d3f9076a18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348d75f99d04fe0575b821084c1a92bf"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a348d75f99d04fe0575b821084c1a92bf">colourCells</a> ()</td></tr>
<tr class="separator:a348d75f99d04fe0575b821084c1a92bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a15664f98d93a974eff0c2ad16f6ed"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89a15664f98d93a974eff0c2ad16f6ed">updateScrollbars</a> ()</td></tr>
<tr class="separator:a89a15664f98d93a974eff0c2ad16f6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2ab6f9cd69d973199551c7edb88c4b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#afe2ab6f9cd69d973199551c7edb88c4b">rgb_to_hsv</a> ()</td></tr>
<tr class="separator:afe2ab6f9cd69d973199551c7edb88c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14436c1609ba892a97e56f53a2f72f3c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a14436c1609ba892a97e56f53a2f72f3c">onSizeAllocate</a> ()</td></tr>
<tr class="separator:a14436c1609ba892a97e56f53a2f72f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58dfc1ff00f9736481d0afd6f19949c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae58dfc1ff00f9736481d0afd6f19949c">getColour</a> ()</td></tr>
<tr class="separator:ae58dfc1ff00f9736481d0afd6f19949c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37985aaa730560ad4d3d3523ead7d210"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a37985aaa730560ad4d3d3523ead7d210">onEvent</a> ()</td></tr>
<tr class="separator:a37985aaa730560ad4d3d3523ead7d210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48441230530c5b19d5a1208d1d7b8a2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ab48441230530c5b19d5a1208d1d7b8a2">reposition</a> ()</td></tr>
<tr class="separator:ab48441230530c5b19d5a1208d1d7b8a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc476a0aeb82e9204a7d91ec6053279"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a9cc476a0aeb82e9204a7d91ec6053279">destroy</a> ()</td></tr>
<tr class="separator:a9cc476a0aeb82e9204a7d91ec6053279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621f693e8faecf8c166110ab44d7d884"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a621f693e8faecf8c166110ab44d7d884">highlight</a> ()</td></tr>
<tr class="separator:a621f693e8faecf8c166110ab44d7d884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad279a3d427087cd62dab6c802d5d221b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ad279a3d427087cd62dab6c802d5d221b">onScroll</a> ()</td></tr>
<tr class="separator:ad279a3d427087cd62dab6c802d5d221b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09aed1a39932a63e4ba08525d802f278"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a09aed1a39932a63e4ba08525d802f278">setValues</a> ()</td></tr>
<tr class="separator:a09aed1a39932a63e4ba08525d802f278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f64997a3971af42418fb583f6fe725"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89f64997a3971af42418fb583f6fe725">hsv_to_rgb</a> ()</td></tr>
<tr class="separator:a89f64997a3971af42418fb583f6fe725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed6fcf26eb082050e0384eac254a1181"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#aed6fcf26eb082050e0384eac254a1181">onBackgroundEvent</a> ()</td></tr>
<tr class="separator:aed6fcf26eb082050e0384eac254a1181"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sets the hue for the saturation (constant-hue) colouring mode</p>

<p>Definition at line <a class="el" href="MatrixGrid_8pm_source.html#l00047">47</a> of file <a class="el" href="MatrixGrid_8pm_source.html">MatrixGrid.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a348d75f99d04fe0575b821084c1a92bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::colourCells </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-colourCells' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-colourCells-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-colourCells-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-colourCells-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in colourCells: 28</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a348d75f99d04fe0575b821084c1a92bf">colourCells</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $colour_none = shift || CELL_WHITE;</div>
<div class="line"></div>
<div class="line">    my $progress_bar = <a class="code" href="classBiodiverse_1_1Progress.html">Biodiverse::Progress</a>-&gt;<a class="code" href="classBiodiverse_1_1Progress.html#a88f4cef6f66986952a850fb70a2b62d8">new</a>(gui_only =&gt; 1);</div>
<div class="line">    my $progress = 0;</div>
<div class="line">    my $progress_count = 0;</div>
<div class="line">    my $progress_text = <span class="stringliteral">&#39;Colouring matrix cells&#39;</span>;</div>
<div class="line"></div>
<div class="line">    my $hashref = $self-&gt;{cells};</div>
<div class="line">    my $total_count = scalar keys %$hashref;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $cell (values %$hashref) {</div>
<div class="line">        $progress_count ++;</div>
<div class="line">        $progress = $progress_count / $total_count;</div>
<div class="line"></div>
<div class="line">        $progress_bar-&gt;update ($progress_text, $progress);</div>
<div class="line"></div>
<div class="line">        my $val    = $cell-&gt;[INDEX_VALUES];</div>
<div class="line">        my $rect   = $cell-&gt;[INDEX_RECT];</div>
<div class="line">        my $colour = defined $val ? $self-&gt;getColour($val, $self-&gt;{min}, $self-&gt;{<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#af4346dbf976639db1f03b796b31d707f">max</a>}) : $colour_none;</div>
<div class="line">        my $fill_colour = defined $val ? $colour : CELL_BLACK;</div>
<div class="line"></div>
<div class="line">        $rect-&gt;set(<span class="stringliteral">&#39;fill-color-gdk&#39;</span> =&gt; $colour, <span class="stringliteral">&#39;outline-color-gdk&#39;</span> =&gt; $fill_colour);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9cc476a0aeb82e9204a7d91ec6053279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-destroy' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-destroy-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-destroy-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-destroy-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in destroy: 35</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a9cc476a0aeb82e9204a7d91ec6053279">destroy</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #$self-&gt;{canvas}-&gt;hide();</span></div>
<div class="line"><span class="preprocessor"></span>    print <span class="stringliteral">&quot;[MatrixGrid] Trying to clean up canvas references\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{legend}) {</div>
<div class="line">        $self-&gt;{legend}-&gt;destroy();</div>
<div class="line">        <span class="keyword">delete</span> $self-&gt;{legend};</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> my $i (0..3) {</div>
<div class="line">            $self-&gt;{marks}[$i]-&gt;destroy();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{marks};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Destroy cell groups</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{cells_group}) {</div>
<div class="line">        $self-&gt;{cells_group}-&gt;destroy();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{hover_func}; #??? not sure <span class="keywordflow">if</span> helps</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{select_func}; #??? not sure <span class="keywordflow">if</span> helps</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{cells_group}; #!!!! Without <span class="keyword">this</span>, GnomeCanvas __crashes__</div>
<div class="line"><span class="preprocessor">                                # Apparently, a reference cycle prevents it from being destroyed properly,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">                                # and a bug makes it repaint in a half-dead state</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keyword">delete</span> $self-&gt;{back_rect};</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{cells};</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{canvas};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae07f7563d865637765c6edc68a05c279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::drawMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-drawMatrix' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-drawMatrix-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-drawMatrix-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-drawMatrix-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in drawMatrix: 87</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae07f7563d865637765c6edc68a05c279">drawMatrix</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $side_length = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{cells} = {};</div>
<div class="line"></div>
<div class="line">    my ($cellX, $cellY, $width_pixels) = (10, 10, 0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Delete any old cells</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{cells_group}) {</div>
<div class="line">        $self-&gt;{cells_group}-&gt;destroy();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make group so we can transform everything together</span></div>
<div class="line"><span class="preprocessor"></span>    my $cells_group = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Group&#39;</span>,</div>
<div class="line">        x =&gt; 0,</div>
<div class="line">        y =&gt; 0,</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    $self-&gt;{cells_group} = $cells_group;</div>
<div class="line">    $cells_group-&gt;lower_to_bottom();</div>
<div class="line"></div>
<div class="line">    my $progress_bar = <a class="code" href="classBiodiverse_1_1Progress.html">Biodiverse::Progress</a>-&gt;<a class="code" href="classBiodiverse_1_1Progress.html#a88f4cef6f66986952a850fb70a2b62d8">new</a>(gui_only =&gt; 1);</div>
<div class="line">    my $progress = 0;</div>
<div class="line">    my $progress_count = 0;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Draw left to right, top to bottom</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">for</span> (my $y = 0; $y &lt; $side_length; $y++) {</div>
<div class="line">        $progress += 1 / $side_length;</div>
<div class="line">        $progress = $self-&gt;set_precision (value =&gt; $progress, precision =&gt; <span class="stringliteral">&#39;%.4f&#39;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> ($progress &gt; 1) {$progress = 1};  #  should just <span class="keywordflow">do</span> $progress = $y / $side_length?</div>
<div class="line">        $progress_count ++;</div>
<div class="line">        my $progress_text = <span class="stringliteral">&quot;Drawing matrix, $progress_count rows&quot;</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> (my $x = 0; $x &lt; $side_length; $x++) {</div>
<div class="line"></div>
<div class="line">            $progress_bar-&gt;update ($progress_text, $progress);</div>
<div class="line"> </div>
<div class="line">            my $rect = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">                $cells_group,</div>
<div class="line">                <span class="stringliteral">&#39;Gnome2::Canvas::Rect&#39;</span>,</div>
<div class="line">                x1 =&gt;  $x      * CELL_SIZE,</div>
<div class="line">                y1 =&gt;  $y      * CELL_SIZE,</div>
<div class="line">                x2 =&gt; ($x + 1) * CELL_SIZE,</div>
<div class="line">                y2 =&gt; ($y + 1) * CELL_SIZE,</div>
<div class="line"></div>
<div class="line">                fill_color_gdk    =&gt; CELL_COLOUR,</div>
<div class="line">                outline_color_gdk =&gt; CELL_BLACK,</div>
<div class="line">                width_pixels      =&gt; $width_pixels,</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            $rect-&gt;signal_connect_swapped (event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a37985aaa730560ad4d3d3523ead7d210">onEvent</a>, $self);</div>
<div class="line"></div>
<div class="line">            $self-&gt;{cells}{$rect}[INDEX_ELEMENT] = [$x, $y];</div>
<div class="line">            $self-&gt;{cells}{$rect}[INDEX_RECT]    = $rect;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Flip the y-axis (default has origin top-left with y going down)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # Add border</span></div>
<div class="line"><span class="preprocessor"></span>    my $total_cells_X = $side_length;</div>
<div class="line">    my $total_cells_Y = $side_length;</div>
<div class="line">    my $width  = $total_cells_X * CELL_SIZE;</div>
<div class="line">    my $height = $total_cells_Y * CELL_SIZE;</div>
<div class="line">    $self-&gt;{width_units}  = $width  + 2 * BORDER_SIZE;</div>
<div class="line">    $self-&gt;{height_units} = $height + 4 * BORDER_SIZE;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{total_x} = $side_length - 1;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # $cells_group-&gt;affine_absolute( [1, 0, 0, -1, BORDER_SIZE, $height + 2*BORDER_SIZE] );</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line"><span class="preprocessor">    # Set visible region</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{canvas}-&gt;set_scroll_region(</div>
<div class="line">        0,</div>
<div class="line">        0,</div>
<div class="line">        $self-&gt;{width_units},</div>
<div class="line">        $self-&gt;{height_units},</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Update</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;setupScrollbars();</div>
<div class="line">    $self-&gt;resizeBackgroundRect();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a7873196153c30b801e980510686e3076"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::fitGrid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-fitGrid' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-fitGrid-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-fitGrid-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-fitGrid-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in fitGrid: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a7873196153c30b801e980510686e3076">fitGrid</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $self-&gt;{width_px} or ! defined $self-&gt;{height_px}) {</div>
<div class="line"><span class="preprocessor">        #carp &quot;width_px and/or height_px not defined\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    my $ppu_width = $self-&gt;{width_px} / $self-&gt;{width_units};</div>
<div class="line">    my $ppu_height = $self-&gt;{height_px} / $self-&gt;{height_units};</div>
<div class="line">    my $min_ppu = $ppu_width &lt; $ppu_height ? $ppu_width : $ppu_height;</div>
<div class="line">    $self-&gt;{canvas}-&gt;set_pixels_per_unit( $min_ppu );</div>
<div class="line"><span class="preprocessor">    #print &quot;[Grid] Setting grid zoom (pixels per unit) to $min_ppu\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae58dfc1ff00f9736481d0afd6f19949c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::getColour </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getColour' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getColour-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getColour-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getColour-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getColour: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae58dfc1ff00f9736481d0afd6f19949c">getColour</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{colours} eq <span class="stringliteral">&quot;Hue&quot;</span>) {</div>
<div class="line">        <span class="keywordflow">return</span> $self-&gt;getColourHue(@_);</div>
<div class="line">    }</div>
<div class="line">    elsif ($self-&gt;{colours} eq <span class="stringliteral">&quot;Sat&quot;</span>) {</div>
<div class="line">        <span class="keywordflow">return</span> $self-&gt;getColourSaturation(@_);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        confess <span class="stringliteral">&quot;Unknown colour system: &quot;</span> . $self-&gt;{colours} . <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a70deff95138ebf37bc92b06fbb18bd39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::getColourHue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getColourHue' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getColourHue-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getColourHue-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getColourHue-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getColourHue: 24</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a70deff95138ebf37bc92b06fbb18bd39">getColourHue</a> {</div>
<div class="line">    my ($self, $val, $min, $max) = @_;</div>
<div class="line"><span class="preprocessor">    # We use the following system:</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #   Linear interpolation between min...max</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #   HUE goes from 180 to 0 as val goes from min to max</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #   Saturation, Brightness are 1</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #</span></div>
<div class="line"><span class="preprocessor"></span>    my $hue;</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $max || ! defined $min) {</div>
<div class="line">        <span class="keywordflow">return</span> Gtk2::Gdk::Color-&gt;new(0, 0, 0);</div>
<div class="line">    }</div>
<div class="line">    elsif ($max != $min) {</div>
<div class="line">        $hue = ($val - $min) / ($max - $min) * 180;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $hue = 0;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    $hue = int(180 - $hue); # reverse 0..180 to 180..0 (<span class="keyword">this</span> makes high values red)</div>
<div class="line">    </div>
<div class="line">    my ($r, $g, $b) = <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89f64997a3971af42418fb583f6fe725">hsv_to_rgb</a>($hue, 1, 1);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> Gtk2::Gdk::Color-&gt;new($r*257, $g*257, $b*257);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a947f0234ca74af109e7a13d60f351775"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::getColourSaturation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getColourSaturation' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getColourSaturation-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getColourSaturation-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getColourSaturation-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getColourSaturation: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a947f0234ca74af109e7a13d60f351775">getColourSaturation</a> {</div>
<div class="line">    my ($self, $val, $min, $max) = @_;</div>
<div class="line"><span class="preprocessor">    #   Linear interpolation between min...max</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #   SATURATION goes from 0 to 1 as val goes from min to max</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #   Hue is variable, Brightness 1</span></div>
<div class="line"><span class="preprocessor"></span>    my $sat;</div>
<div class="line">    <span class="keywordflow">if</span> (! defined $max || ! defined $min) {</div>
<div class="line">        <span class="keywordflow">return</span> Gtk2::Gdk::Color-&gt;new(0, 0, 0);</div>
<div class="line">    }</div>
<div class="line">    elsif ($max != $min) {</div>
<div class="line">        $sat = ($val - $min) / ($max - $min);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $sat = 1;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my ($r, $g, $b) = <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89f64997a3971af42418fb583f6fe725">hsv_to_rgb</a>($self-&gt;{hue}, $sat, 1);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> Gtk2::Gdk::Color-&gt;new($r*257, $g*257, $b*257);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a655e0d1e98070471d7de9bb2b9e23b35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::getMaskRects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getMaskRects' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getMaskRects-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getMaskRects-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getMaskRects-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getMaskRects: 41</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a655e0d1e98070471d7de9bb2b9e23b35">getMaskRects</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $sel_rows = shift;</div>
<div class="line">    my $sel_cols = shift;</div>
<div class="line"></div>
<div class="line">    my $total_lines = $self-&gt;{total_x} || 0;</div>
<div class="line">    my $side_length = $total_lines * CELL_SIZE + CELL_SIZE;</div>
<div class="line">    my $whole_matrix = Gtk2::Gdk::Rectangle-&gt;new(0, 0, $side_length, $side_length);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Create regions for all selected rows and columns</span></div>
<div class="line"><span class="preprocessor"></span>    my $row_reg = Gtk2::Gdk::Region-&gt;new;</div>
<div class="line">    my $col_reg = Gtk2::Gdk::Region-&gt;new;</div>
<div class="line">    my $rect;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $sel (@$sel_rows) {</div>
<div class="line">        $rect = Gtk2::Gdk::Rectangle-&gt;new(0, $sel * CELL_SIZE, $side_length, CELL_SIZE);</div>
<div class="line">        $row_reg-&gt;union_with_rect($rect);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">foreach</span> my $sel (@$sel_cols) {</div>
<div class="line">        $rect = Gtk2::Gdk::Rectangle-&gt;new($sel * CELL_SIZE, 0, CELL_SIZE, $side_length);</div>
<div class="line">        $col_reg-&gt;union_with_rect($rect);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # If no row/col selected, act as though everything is</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (not @$sel_rows) {</div>
<div class="line">        $row_reg-&gt;union_with_rect($whole_matrix);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (not @$sel_cols) {</div>
<div class="line">        $col_reg-&gt;union_with_rect($whole_matrix);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Intersect them - this makes the area we want highlighted</span></div>
<div class="line"><span class="preprocessor"></span>    my $intersect_reg = $col_reg;</div>
<div class="line">    $intersect_reg-&gt;intersect($row_reg);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Subtract highlighted area from the whole area - giving us the mask region</span></div>
<div class="line"><span class="preprocessor"></span>    my $mask_reg = Gtk2::Gdk::Region-&gt;rectangle($whole_matrix);</div>
<div class="line">    $mask_reg-&gt;subtract($intersect_reg);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $mask_reg-&gt;get_rectangles();</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aeaabc0f1dfd17cd5ee98057b31764ca2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::hideLegend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-hideLegend' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-hideLegend-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-hideLegend-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-hideLegend-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in hideLegend: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#aeaabc0f1dfd17cd5ee98057b31764ca2">hideLegend</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{legend}) {</div>
<div class="line">        $self-&gt;{legend}-&gt;destroy();</div>
<div class="line">        <span class="keyword">delete</span> $self-&gt;{legend};</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> my $i (0..3) {</div>
<div class="line">            $self-&gt;{marks}[$i]-&gt;destroy();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{marks};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a621f693e8faecf8c166110ab44d7d884"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::highlight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-highlight' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-highlight-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-highlight-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-highlight-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in highlight: 55</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a621f693e8faecf8c166110ab44d7d884">highlight</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $sel_rows = shift;</div>
<div class="line">    my $sel_cols = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Remove old mask</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{mask}) {</div>
<div class="line">        $self-&gt;{mask}-&gt;destroy;</div>
<div class="line">        $self-&gt;{mask} = undef;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my @mask_rects = $self-&gt;getMaskRects($sel_rows, $sel_cols);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not @mask_rects; # <span class="keywordflow">if</span> nothing to mask, <span class="keywordflow">return</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Create a GnomeCanvasPathDef for all the regions we have to mask</span></div>
<div class="line"><span class="preprocessor"></span>    my @paths;</div>
<div class="line">    my ($x, $y, $w, $h);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $rect (@mask_rects) {</div>
<div class="line">        my $pathdef = Gnome2::Canvas::PathDef-&gt;new;</div>
<div class="line">        ($x, $y, $w, $h) = ($rect-&gt;x, $rect-&gt;y, $rect-&gt;width, $rect-&gt;height);</div>
<div class="line"><span class="preprocessor">        #print &quot;MASK RECT: ($x, $y) w=$w h=$h\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        $pathdef-&gt;moveto($x, $y);</div>
<div class="line">        $pathdef-&gt;lineto($x + $w, $y);</div>
<div class="line">        $pathdef-&gt;lineto($x + $w, $y + $h);</div>
<div class="line">        $pathdef-&gt;lineto($x, $y + $h);</div>
<div class="line">        $pathdef-&gt;closepath();</div>
<div class="line"></div>
<div class="line">        push @paths, $pathdef;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # concatenate each region</span></div>
<div class="line"><span class="preprocessor"></span>    my $mask_path    = Gnome2::Canvas::PathDef-&gt;concat(@paths);</div>
<div class="line">    my $mask_stipple = Gtk2::Gdk::Bitmap-&gt;create_from_data(</div>
<div class="line">        undef,</div>
<div class="line">        $gray50_bits,</div>
<div class="line">        $gray50_width,</div>
<div class="line">        $gray50_height,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    $self-&gt;{mask} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{cells_group},</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Shape&#39;</span>,</div>
<div class="line">        fill_color    =&gt; <span class="stringliteral">&#39;white&#39;</span>,</div>
<div class="line">        fill_stipple  =&gt; $mask_stipple,</div>
<div class="line">        outline_color =&gt; <span class="stringliteral">&#39;black&#39;</span>,</div>
<div class="line">        width_pixels  =&gt; 0,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{mask}-&gt;signal_connect_swapped (event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a37985aaa730560ad4d3d3523ead7d210">onEvent</a>, $self);</div>
<div class="line">    $self-&gt;{mask}-&gt;set_path_def($mask_path);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a89f64997a3971af42418fb583f6fe725"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::hsv_to_rgb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-hsv_to_rgb' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-hsv_to_rgb-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-hsv_to_rgb-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-hsv_to_rgb-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in hsv_to_rgb: 22</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89f64997a3971af42418fb583f6fe725">hsv_to_rgb</a> {</div>
<div class="line">  my($h, $s, $v) = @_;</div>
<div class="line">  $v = $v &gt;= 1.0 ? 255 : $v * 256;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">  # Grey image.</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">return</span>((<span class="keywordtype">int</span>($v)) x 3) <span class="keywordflow">if</span> ($s == 0);</div>
<div class="line"></div>
<div class="line">  $h /= 60;</div>
<div class="line">  my $i = int($h);</div>
<div class="line">  my $f = $h - int($i);</div>
<div class="line">  my $p = int($v * (1 - $s));</div>
<div class="line">  my $q = int($v * (1 - $s * $f));</div>
<div class="line">  my $t = int($v * (1 - $s * (1 - $f)));</div>
<div class="line">  $v = int($v);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>($i == 0) { <span class="keywordflow">return</span>($v, $t, $p); }</div>
<div class="line">  elsif($i == 1) { <span class="keywordflow">return</span>($q, $v, $p); }</div>
<div class="line">  elsif($i == 2) { <span class="keywordflow">return</span>($p, $v, $t); }</div>
<div class="line">  elsif($i == 3) { <span class="keywordflow">return</span>($p, $q, $v); }</div>
<div class="line">  elsif($i == 4) { <span class="keywordflow">return</span>($t, $p, $v); }</div>
<div class="line">  <span class="keywordflow">else</span>           { <span class="keywordflow">return</span>($v, $p, $q); }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a668a76f90e24baaed2e5b6a2d76adb29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::makeLegendPixbuf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeLegendPixbuf' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeLegendPixbuf-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeLegendPixbuf-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeLegendPixbuf-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeLegendPixbuf: 47</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a668a76f90e24baaed2e5b6a2d76adb29">makeLegendPixbuf</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my ($width, $height);</div>
<div class="line">    my @pixels;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make array of rgb values</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{colours} eq <span class="stringliteral">&#39;Hue&#39;</span>) {</div>
<div class="line">        </div>
<div class="line">        ($width, $height) = (LEGEND_WIDTH, 180);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> my $row (0..($height - 1)) {</div>
<div class="line">            my @rgb = <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89f64997a3971af42418fb583f6fe725">hsv_to_rgb</a>($row, 1, 1);</div>
<div class="line">            push @pixels, (@rgb) x $width;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($self-&gt;{colours} eq <span class="stringliteral">&#39;Sat&#39;</span>) {</div>
<div class="line">        </div>
<div class="line">        ($width, $height) = (LEGEND_WIDTH, 100);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> my $row (0..($height - 1)) {</div>
<div class="line">            my @rgb = <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89f64997a3971af42418fb583f6fe725">hsv_to_rgb</a>($self-&gt;{hue}, 1 - $row / 100.0, 1);</div>
<div class="line">            push @pixels, (@rgb) x $width;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        croak <span class="stringliteral">&quot;Invalid colour system\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Convert to low-level integers</span></div>
<div class="line"><span class="preprocessor"></span>    my $data = pack <span class="stringliteral">&quot;C*&quot;</span>, @pixels;</div>
<div class="line"></div>
<div class="line">    my $pixbuf = Gtk2::Gdk::Pixbuf-&gt;new_from_data(</div>
<div class="line">        $data,       # the data.  <span class="keyword">this</span> will be copied.</div>
<div class="line">        <span class="stringliteral">&#39;rgb&#39;</span>,       # only currently supported colorspace</div>
<div class="line">        0,           # <span class="keyword">true</span>, because we <span class="keywordflow">do</span> have alpha channel data</div>
<div class="line">        8,           # gdk-pixbuf currently allows only 8-bit samples</div>
<div class="line">        $width,      # width in pixels</div>
<div class="line">        $height,     # height in pixels</div>
<div class="line">        $width * 3,  # rowstride -- we have RGBA data, so it<span class="stringliteral">&#39;s four</span></div>
<div class="line"><span class="stringliteral">    );               #   bytes per pixel.</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return $pixbuf;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a13b677b5c163855c60f9ff265595513b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::makeMark </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeMark' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeMark-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeMark-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeMark-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeMark: 13</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a13b677b5c163855c60f9ff265595513b">makeMark</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $anchor = shift;</div>
<div class="line">    my $mark = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Text&#39;</span>,</div>
<div class="line">        text           =&gt; q{},</div>
<div class="line">        anchor         =&gt; $anchor,</div>
<div class="line">        fill_color_gdk =&gt; CELL_BLACK,</div>
<div class="line">    );</div>
<div class="line">    $mark-&gt;raise_to_top();</div>
<div class="line">    <span class="keywordflow">return</span> $mark;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af4346dbf976639db1f03b796b31d707f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::max </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-max' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-max-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-max-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-max-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in max: 3</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#af4346dbf976639db1f03b796b31d707f">max</a> {</div>
<div class="line">    <span class="keywordflow">return</span> ($_[0] &gt; $_[1]) ? $_[0] : $_[1];</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae22f9607fb30164bb5b0827ee29318c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::maxmin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-maxmin' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-maxmin-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-maxmin-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-maxmin-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in maxmin: 8</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae22f9607fb30164bb5b0827ee29318c2">maxmin</a> {</div>
<div class="line">  my($min, $max) = @_;</div>
<div class="line">  <span class="keywordflow">for</span>(my $i=0; $i&lt;@_; $i++) {</div>
<div class="line">    $max = $_[$i] <span class="keywordflow">if</span>($max &lt; $_[$i]);</div>
<div class="line">    $min = $_[$i] <span class="keywordflow">if</span>($min &gt; $_[$i]);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span>($max,$min);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a71af0806e8eb9a5857a6c1ca03881b61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in new: 82</span></div>
<div class="line"><span class="preprocessor"></span>sub <span class="keyword">new</span> {</div>
<div class="line">    my $class   = shift;</div>
<div class="line">    my $frame   = shift;</div>
<div class="line">    my $hscroll = shift;</div>
<div class="line">    my $vscroll = shift;</div>
<div class="line"></div>
<div class="line">    my $self = {</div>
<div class="line">        colours =&gt; <span class="stringliteral">&#39;Hue&#39;</span>,</div>
<div class="line">        hue     =&gt; 0,      # <span class="keywordflow">default</span> constant-hue red</div>
<div class="line">    }; </div>
<div class="line">    bless $self, $class;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hover_func}  = shift || undef; #Callback <span class="keyword">function</span> <span class="keywordflow">for</span> when users move mouse over a cell</div>
<div class="line">    $self-&gt;{select_func} = shift || undef; #Callback <span class="keyword">function</span> <span class="keywordflow">for</span> when users click on a cell</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make the canvas and hook it up</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{canvas} = Gnome2::Canvas-&gt;new();</div>
<div class="line">    $frame-&gt;add($self-&gt;{canvas});</div>
<div class="line">    </div>
<div class="line">    $self-&gt;{canvas}-&gt;signal_connect_swapped (</div>
<div class="line">        size_allocate =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a14436c1609ba892a97e56f53a2f72f3c">onSizeAllocate</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set up custom scrollbars due to flicker problems whilst panning..</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{hadjust} = Gtk2::Adjustment-&gt;new(0, 0, 1, 1, 1, 1);</div>
<div class="line">    $self-&gt;{vadjust} = Gtk2::Adjustment-&gt;new(0, 0, 1, 1, 1, 1);</div>
<div class="line"></div>
<div class="line">    $hscroll-&gt;set_adjustment( $self-&gt;{hadjust} );</div>
<div class="line">    $vscroll-&gt;set_adjustment( $self-&gt;{vadjust} );</div>
<div class="line">    </div>
<div class="line">    $self-&gt;{hadjust}-&gt;signal_connect_swapped(</div>
<div class="line">        <span class="stringliteral">&#39;value-changed&#39;</span>,</div>
<div class="line">        \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae284f028639c1a6ef0151d3f9076a18b">onScrollbarsScroll</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{vadjust}-&gt;signal_connect_swapped(</div>
<div class="line">        <span class="stringliteral">&#39;value-changed&#39;</span>,</div>
<div class="line">        \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae284f028639c1a6ef0151d3f9076a18b">onScrollbarsScroll</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    $self-&gt;{canvas}-&gt;get_vadjustment-&gt;signal_connect_swapped(</div>
<div class="line">        <span class="stringliteral">&#39;value-changed&#39;</span>,</div>
<div class="line">        \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ad279a3d427087cd62dab6c802d5d221b">onScroll</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{canvas}-&gt;get_hadjustment-&gt;signal_connect_swapped(</div>
<div class="line">        <span class="stringliteral">&#39;value-changed&#39;</span>,</div>
<div class="line">        \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ad279a3d427087cd62dab6c802d5d221b">onScroll</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set up canvas</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{canvas}-&gt;set_center_scroll_region(0);</div>
<div class="line">    $self-&gt;{canvas}-&gt;show;</div>
<div class="line">    $self-&gt;{zoom_fit}  = 1;</div>
<div class="line">    $self-&gt;{dragging}  = 0;</div>
<div class="line">    $self-&gt;{selecting} = 0;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Create background rectangle to receive mouse events for panning</span></div>
<div class="line"><span class="preprocessor"></span>    my $rect = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Rect&#39;</span>,</div>
<div class="line">        x1              =&gt; 0,</div>
<div class="line">        y1              =&gt; 0,</div>
<div class="line">        x2              =&gt; CELL_SIZE,</div>
<div class="line">        fill_color_gdk  =&gt; CELL_WHITE,</div>
<div class="line">        y2              =&gt; CELL_SIZE,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    $rect-&gt;lower_to_bottom();</div>
<div class="line">    $self-&gt;{canvas}-&gt;root-&gt;signal_connect_swapped (</div>
<div class="line">        event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#aed6fcf26eb082050e0384eac254a1181">onBackgroundEvent</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{back_rect} = $rect;</div>
<div class="line"></div>
<div class="line">    $self-&gt;showLegend;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aed6fcf26eb082050e0384eac254a1181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::onBackgroundEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onBackgroundEvent' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onBackgroundEvent-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onBackgroundEvent-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onBackgroundEvent-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onBackgroundEvent: 45</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#aed6fcf26eb082050e0384eac254a1181">onBackgroundEvent</a> {</div>
<div class="line">    my ($self, $event, $item) = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( $event-&gt;type eq <span class="stringliteral">&#39;button-press&#39;</span>) {</div>
<div class="line"><span class="preprocessor">#        print &quot;Background Event\tPress\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="keywordflow">if</span> ($event-&gt;button != 1) {</div>
<div class="line">            ($self-&gt;{pan_start_x}, $self-&gt;{pan_start_y}) = $event-&gt;coords;</div>
<div class="line"></div>
<div class="line">            # Grab mouse</div>
<div class="line">            $item-&gt;grab ([qw/pointer-motion-mask button-release-mask/],</div>
<div class="line">                         Gtk2::Gdk::Cursor-&gt;new (<span class="stringliteral">&#39;fleur&#39;</span>),</div>
<div class="line">                        $event-&gt;time);</div>
<div class="line">            $self-&gt;{dragging} = 1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ( $event-&gt;type eq <span class="stringliteral">&#39;button-release&#39;</span>) {</div>
<div class="line"><span class="preprocessor">#        print &quot;Background Event\tRelease\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="keywordflow">if</span> ($event-&gt;button != 1) {</div>
<div class="line">            $item-&gt;ungrab ($event-&gt;time);</div>
<div class="line">            $self-&gt;{dragging} = 0;</div>
<div class="line">            $self-&gt;updateScrollbars(); #FIXME: If we <span class="keywordflow">do</span> <span class="keyword">this</span> <span class="keywordflow">for</span> motion-notify - <span class="keyword">get</span> great flicker!?!?</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ( $event-&gt;type eq <span class="stringliteral">&#39;motion-notify&#39;</span>) {</div>
<div class="line"><span class="preprocessor">#        print &quot;Background Event\tMotion\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        </div>
<div class="line"><span class="preprocessor">        #if ($self-&gt;{dragging} &amp;&amp; $event-&gt;state &gt;= &#39;button1-mask&#39; ) {</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($self-&gt;{dragging}) {</div>
<div class="line"><span class="preprocessor">            # Work out how much we&#39;ve moved away from pan_start (world coords)</span></div>
<div class="line"><span class="preprocessor"></span>            my ($x, $y) = $event-&gt;coords;</div>
<div class="line">            my ($dx, $dy) = ($x - $self-&gt;{pan_start_x}, $y - $self-&gt;{pan_start_y});</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Scroll to get back to pan_start</span></div>
<div class="line"><span class="preprocessor"></span>            my ($scrollx, $scrolly) = $self-&gt;{canvas}-&gt;get_scroll_offsets();</div>
<div class="line">            my ($cx, $cy) =  $self-&gt;{canvas}-&gt;w2c($dx, $dy);</div>
<div class="line">            $self-&gt;{canvas}-&gt;scroll_to(-1 * $cx + $scrollx, -1 * $cy + $scrolly);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;    </div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a37985aaa730560ad4d3d3523ead7d210"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::onEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onEvent' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onEvent-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onEvent-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onEvent-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onEvent: 126</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a37985aaa730560ad4d3d3523ead7d210">onEvent</a> {</div>
<div class="line">    my ($self, $event, $cell) = @_;</div>
<div class="line"></div>
<div class="line">    my ($x, $y) = ($event-&gt;x, $event-&gt;y);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print $event-&gt;x . &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print $event-&gt;y . &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;\n\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    </div>
<div class="line"><span class="preprocessor">    # normalize coordinates</span></div>
<div class="line"><span class="preprocessor"></span>    my $max_coord = $self-&gt;{total_x} * CELL_SIZE + CELL_SIZE;</div>
<div class="line">    $x = 0 <span class="keywordflow">if</span> $x &lt; 0;</div>
<div class="line">    $y = 0 <span class="keywordflow">if</span> $y &lt; 0;</div>
<div class="line">    $x = $max_coord <span class="keywordflow">if</span> $x &gt; $max_coord;</div>
<div class="line">    $y = $max_coord <span class="keywordflow">if</span> $y &gt; $max_coord;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # By &quot;horizontal element&quot; we refer to the one whose values are on the row of the matrix running</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # horizontally. It is determined by the y-value</span></div>
<div class="line"><span class="preprocessor"></span>    my ($horez_elt, $vert_elt) = (POSIX::floor($y / CELL_SIZE), POSIX::floor($x / CELL_SIZE) );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # If moved right onto the edge, we end up at the &quot;next&quot; row/col which doesn&#39;t exist</span></div>
<div class="line"><span class="preprocessor"></span>    $horez_elt-- <span class="keywordflow">if</span> $y == $max_coord;</div>
<div class="line">    $vert_elt-- <span class="keywordflow">if</span> $x == $max_coord;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print &quot;x=$x y=$y max=$max_coord horez=$horez_elt vert=$vert_elt\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span> ($event-&gt;type eq <span class="stringliteral">&#39;enter-notify&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Call client-defined callback function</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (defined $self-&gt;{hover_func}) {</div>
<div class="line">            my $f = $self-&gt;{hover_func};</div>
<div class="line">            &amp;$f($horez_elt, $vert_elt);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        my $cursor = Gtk2::Gdk::Cursor-&gt;new(HOVER_CURSOR);</div>
<div class="line">        $self-&gt;{canvas}-&gt;window-&gt;set_cursor($cursor);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($event-&gt;type eq <span class="stringliteral">&#39;leave-notify&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Change cursor back to default</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{canvas}-&gt;window-&gt;set_cursor(undef);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($event-&gt;type eq <span class="stringliteral">&#39;button-press&#39;</span>) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($event-&gt;button == 1) {</div>
<div class="line"></div>
<div class="line">            ($self-&gt;{sel_start_horez_elt}, $self-&gt;{sel_start_vert_elt}) = ($horez_elt, $vert_elt);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Grab mouse</span></div>
<div class="line"><span class="preprocessor"></span>            $cell-&gt;grab (</div>
<div class="line">                [qw/pointer-motion-mask button-release-mask/],</div>
<div class="line">                Gtk2::Gdk::Cursor-&gt;<span class="keyword">new</span> (<span class="stringliteral">&#39;fleur&#39;</span>),</div>
<div class="line">                $event-&gt;time,</div>
<div class="line">            );</div>
<div class="line">            $self-&gt;{selecting} = 1;</div>
<div class="line"></div>
<div class="line">            $self-&gt;{sel_rect} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">                $self-&gt;{canvas}-&gt;root,</div>
<div class="line">                <span class="stringliteral">&#39;Gnome2::Canvas::Rect&#39;</span>,</div>
<div class="line">                x1 =&gt; $x,</div>
<div class="line">                y1 =&gt; $y,</div>
<div class="line">                x2 =&gt; $x,</div>
<div class="line">                y2 =&gt; $y,</div>
<div class="line">            </div>
<div class="line">                fill_color_gdk    =&gt; undef,</div>
<div class="line">                outline_color_gdk =&gt; CELL_BLACK,</div>
<div class="line">                width_pixels      =&gt; 0,</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    elsif ($event-&gt;type eq <span class="stringliteral">&#39;button-release&#39;</span>) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;{selecting} and $event-&gt;button == 1) {</div>
<div class="line">            $self-&gt;{sel_rect}-&gt;destroy;</div>
<div class="line">            <span class="keyword">delete</span> $self-&gt;{sel_rect};</div>
<div class="line">            $cell-&gt;ungrab ($event-&gt;time);</div>
<div class="line">            $self-&gt;{selecting} = 0;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Establish the selection</span></div>
<div class="line"><span class="preprocessor"></span>            my ($horez_start, $vert_start) = ($self-&gt;{sel_start_horez_elt}, $self-&gt;{sel_start_vert_elt});</div>
<div class="line">            my ($horez_end, $vert_end) = ($horez_elt, $vert_elt);</div>
<div class="line">            my $tmp;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ($horez_start &gt; $horez_end) {</div>
<div class="line">                $tmp = $horez_start;</div>
<div class="line">                $horez_start = $horez_end;</div>
<div class="line">                $horez_end = $tmp;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($vert_start &gt; $vert_end) {</div>
<div class="line">                $tmp = $vert_start;</div>
<div class="line">                $vert_start = $vert_end;</div>
<div class="line">                $vert_end = $tmp;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (defined $self-&gt;{select_func}) {</div>
<div class="line">                my $f = $self-&gt;{select_func};</div>
<div class="line">                &amp;$f($horez_start, $horez_end, $vert_start, $vert_end);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($event-&gt;type eq <span class="stringliteral">&#39;motion-notify&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Call client-defined callback function</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (defined $self-&gt;{hover_func}) {</div>
<div class="line">            my $f = $self-&gt;{hover_func};</div>
<div class="line">            &amp;$f($horez_elt, $vert_elt);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;{selecting}) {</div>
<div class="line"><span class="preprocessor">            # Resize selection rectangle</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="keywordflow">if</span> ($self-&gt;{selecting}) {</div>
<div class="line">                $self-&gt;{sel_rect}-&gt;set(x2 =&gt; $x, y2 =&gt; $y);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;    </div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ad279a3d427087cd62dab6c802d5d221b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::onScroll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onScroll' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onScroll-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onScroll-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onScroll-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onScroll: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ad279a3d427087cd62dab6c802d5d221b">onScroll</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"><span class="preprocessor">    #FIXME: check if this helps reduce flicker</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;reposition();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae284f028639c1a6ef0151d3f9076a18b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::onScrollbarsScroll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onScrollbarsScroll' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onScrollbarsScroll-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onScrollbarsScroll-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onScrollbarsScroll-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onScrollbarsScroll: 11</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae284f028639c1a6ef0151d3f9076a18b">onScrollbarsScroll</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not $self-&gt;{dragging}) {</div>
<div class="line">        my ($x, $y) = ($self-&gt;{hadjust}-&gt;get_value, $self-&gt;{vadjust}-&gt;get_value);</div>
<div class="line">        $self-&gt;{canvas}-&gt;scroll_to($x, $y);</div>
<div class="line">        $self-&gt;reposition();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a14436c1609ba892a97e56f53a2f72f3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::onSizeAllocate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onSizeAllocate' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onSizeAllocate-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onSizeAllocate-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onSizeAllocate-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onSizeAllocate: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a14436c1609ba892a97e56f53a2f72f3c">onSizeAllocate</a> {</div>
<div class="line">    my ($self, $size, $canvas) = @_;</div>
<div class="line">    $self-&gt;{width_px} = $size-&gt;width;</div>
<div class="line">    $self-&gt;{height_px} = $size-&gt;height;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (exists $self-&gt;{width_units}) {</div>
<div class="line">        $self-&gt;fitGrid() <span class="keywordflow">if</span> ($self-&gt;{zoom_fit});</div>
<div class="line">            </div>
<div class="line">        $self-&gt;reposition();</div>
<div class="line">        $self-&gt;setupScrollbars();</div>
<div class="line">        $self-&gt;resizeBackgroundRect();</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3b5a71ecb7c113c5704710e30fcfb14c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::postZoom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-postZoom' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-postZoom-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-postZoom-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-postZoom-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in postZoom: 8</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a3b5a71ecb7c113c5704710e30fcfb14c">postZoom</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;setupScrollbars();</div>
<div class="line">    $self-&gt;resizeBackgroundRect();</div>
<div class="line">    $self-&gt;reposition();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab48441230530c5b19d5a1208d1d7b8a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::reposition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-reposition' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-reposition-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-reposition-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-reposition-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in reposition: 41</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ab48441230530c5b19d5a1208d1d7b8a2">reposition</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not defined $self-&gt;{legend};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Convert coordinates into world units</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # (this has been tricky to get working right...)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  SWL - use zero if these are not defined.  this is a total hack and not a solution</span></div>
<div class="line"><span class="preprocessor"></span>    my ($width, $height) = $self-&gt;{canvas}-&gt;c2w($self-&gt;{width_px} || 0, $self-&gt;{height_px} || 0);</div>
<div class="line"></div>
<div class="line">    my ($scroll_x, $scroll_y) = $self-&gt;{canvas}-&gt;get_scroll_offsets();</div>
<div class="line">    ($scroll_x, $scroll_y) = $self-&gt;{canvas}-&gt;c2w($scroll_x, $scroll_y);</div>
<div class="line"></div>
<div class="line">    my ($border_width, $legend_width)</div>
<div class="line">        = $self-&gt;{canvas}-&gt;c2w(BORDER_SIZE, LEGEND_WIDTH);</div>
<div class="line"></div>
<div class="line">    $self-&gt;{legend}-&gt;set(</div>
<div class="line">        x      =&gt; $width + $scroll_x - $legend_width, # world units</div>
<div class="line">        y      =&gt; $scroll_y,                          # world units</div>
<div class="line">        width  =&gt; LEGEND_WIDTH,                       # pixels</div>
<div class="line">        height =&gt; $self-&gt;{height_px}                  # pixels</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # Reposition the &quot;mark&quot; textboxes</span></div>
<div class="line"><span class="preprocessor"></span>    my $mark_x = $scroll_x + $width - $legend_width - 2*$border_width; # world units</div>
<div class="line">    <span class="keywordflow">foreach</span> my $i (0..3) {</div>
<div class="line">        $self-&gt;{marks}[$i]-&gt;set( x =&gt; $mark_x , y =&gt; $scroll_y + $i * $height / 3);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    # Reposition value box</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{value_group}) {</div>
<div class="line">        my ($value_x, $value_y) = $self-&gt;{value_group}-&gt;get(<span class="charliteral">&#39;x&#39;</span>, <span class="charliteral">&#39;y&#39;</span>);</div>
<div class="line">        $self-&gt;{value_group}-&gt;move( $scroll_x - $value_x,$scroll_y - $value_y);</div>
<div class="line"></div>
<div class="line">        my ($text_width, $text_height) = $self-&gt;{value_text}-&gt;get(<span class="stringliteral">&quot;text-width&quot;</span>, <span class="stringliteral">&quot;text-height&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Resize value background rectangle</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{value_rect}-&gt;set(x2 =&gt; $text_width, y2 =&gt; $text_height);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a69c48df5a5612dd28fe8204f94c86e1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::resizeBackgroundRect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-resizeBackgroundRect' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-resizeBackgroundRect-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-resizeBackgroundRect-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-resizeBackgroundRect-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in resizeBackgroundRect: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a69c48df5a5612dd28fe8204f94c86e1c">resizeBackgroundRect</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{width_px}) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Make it the full visible area</span></div>
<div class="line"><span class="preprocessor"></span>        my ($width, $height) = $self-&gt;{canvas}-&gt;c2w($self-&gt;{width_px}, $self-&gt;{height_px});</div>
<div class="line">        <span class="keywordflow">if</span> (not $self-&gt;{dragging}) {</div>
<div class="line">            $self-&gt;{back_rect}-&gt;set(    x2 =&gt; <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#af4346dbf976639db1f03b796b31d707f">max</a>($width, $self-&gt;{width_units}),</div>
<div class="line">                                    y2 =&gt; <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#af4346dbf976639db1f03b796b31d707f">max</a>($height, $self-&gt;{height_units}));</div>
<div class="line">            $self-&gt;{back_rect}-&gt;lower_to_bottom();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="afe2ab6f9cd69d973199551c7edb88c4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::rgb_to_hsv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-rgb_to_hsv' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-rgb_to_hsv-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-rgb_to_hsv-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-rgb_to_hsv-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in rgb_to_hsv: 26</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#afe2ab6f9cd69d973199551c7edb88c4b">rgb_to_hsv</a> {</div>
<div class="line">  my $var_r = $_[0] / 255;</div>
<div class="line">  my $var_g = $_[1] / 255;</div>
<div class="line">  my $var_b = $_[2] / 255;</div>
<div class="line">  my($var_max, $var_min) = <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae22f9607fb30164bb5b0827ee29318c2">maxmin</a>($var_r, $var_g, $var_b);</div>
<div class="line">  my $del_max = $var_max - $var_min;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>($del_max) {</div>
<div class="line">    my $del_r = ((($var_max - $var_r) / 6) + ($del_max / 2)) / $del_max;</div>
<div class="line">    my $del_g = ((($var_max - $var_g) / 6) + ($del_max / 2)) / $del_max;</div>
<div class="line">    my $del_b = ((($var_max - $var_b) / 6) + ($del_max / 2)) / $del_max;</div>
<div class="line"></div>
<div class="line">    my $h;</div>
<div class="line">       <span class="keywordflow">if</span>($var_r == $var_max) { $h = $del_b - $del_g; }</div>
<div class="line">    elsif($var_g == $var_max) { $h = 1/3 + $del_r - $del_b; }</div>
<div class="line">    elsif($var_b == $var_max) { $h = 2/3 + $del_g - $del_r; }</div>
<div class="line"></div>
<div class="line">     <span class="keywordflow">if</span>($h &lt; 0) { $h += 1 }</div>
<div class="line">     <span class="keywordflow">if</span>($h &gt; 1) { $h -= 1 }</div>
<div class="line"></div>
<div class="line">     <span class="keywordflow">return</span>($h * 360, $del_max / $var_max, $var_max);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">     <span class="keywordflow">return</span>(0, 0, $var_max);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a5b22b8caa69c519df12a637a348cd439"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::set_precision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_precision' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_precision-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_precision-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_precision-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_precision: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a5b22b8caa69c519df12a637a348cd439">set_precision</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my %args = @_;</div>
<div class="line">    </div>
<div class="line">    my $num = sprintf ($args{precision}, $args{value});</div>
<div class="line">    $num =~ s{,}{\.};  #  replace any comma with a decimal</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $num;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a02508ee8d6a73464089a62b5ef1dc50f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::setColouring </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setColouring' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setColouring-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setColouring-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setColouring-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setColouring: 23</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a02508ee8d6a73464089a62b5ef1dc50f">setColouring</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $min_value = shift;</div>
<div class="line">    my $max_value = shift;</div>
<div class="line">    my $colour_none = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{min} = $min_value;</div>
<div class="line">    $self-&gt;{<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#af4346dbf976639db1f03b796b31d707f">max</a>} = $max_value;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Colour each cell</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;colourCells($colour_none);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set legend textbox markers</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{marks} and defined $min_value) {</div>
<div class="line">        my $marker_step = ($max_value - $min_value) / 3;</div>
<div class="line">        <span class="keywordflow">foreach</span> my $i (0..3) {</div>
<div class="line">            my $text = sprintf (<span class="stringliteral">&quot;%.4f&quot;</span>, $min_value + $i * $marker_step); # round to 4 d.p.</div>
<div class="line">            $self-&gt;{marks}[3 - $i]-&gt;set( text =&gt; $text );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a545e6104a8969015a2d2c3476001a0b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::setColours </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setColours' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setColours-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setColours-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setColours-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setColours: 13</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a545e6104a8969015a2d2c3476001a0b8">setColours</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{colours} = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;colourCells();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Update legend</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{legend}) { </div>
<div class="line">        $self-&gt;{legend}-&gt;set(pixbuf =&gt; $self-&gt;makeLegendPixbuf() );</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aaa242e292bcf378d4eef4a3d41c2b027"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::setHue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setHue' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setHue-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setHue-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setHue-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setHue: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#aaa242e292bcf378d4eef4a3d41c2b027">setHue</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $rgb = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hue} = (<a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#afe2ab6f9cd69d973199551c7edb88c4b">rgb_to_hsv</a>($rgb-&gt;red / 257, $rgb-&gt;green /257, $rgb-&gt;blue / 257))[0];</div>
<div class="line"></div>
<div class="line">    $self-&gt;colourCells();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Update legend</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{legend}) { </div>
<div class="line">        $self-&gt;{legend}-&gt;set(pixbuf =&gt; $self-&gt;makeLegendPixbuf() );</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0191bfd4e78ef2ebfaad6a94b3ebe72f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::setupScrollbars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setupScrollbars' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setupScrollbars-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setupScrollbars-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setupScrollbars-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setupScrollbars: 22</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a0191bfd4e78ef2ebfaad6a94b3ebe72f">setupScrollbars</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> !defined $self-&gt;{width_units} || !defined $self-&gt;{height_units};</div>
<div class="line"></div>
<div class="line">    my ($total_width, $total_height) = $self-&gt;{canvas}-&gt;w2c($self-&gt;{width_units}, $self-&gt;{height_units});</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hadjust}-&gt;upper( $total_width );</div>
<div class="line">    $self-&gt;{vadjust}-&gt;upper( $total_height );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{width_px}) {</div>
<div class="line">        $self-&gt;{hadjust}-&gt;page_size( $self-&gt;{width_px} );</div>
<div class="line">        $self-&gt;{vadjust}-&gt;page_size( $self-&gt;{height_px} );</div>
<div class="line"></div>
<div class="line">        $self-&gt;{hadjust}-&gt;page_increment( $self-&gt;{width_px} / 2 );</div>
<div class="line">        $self-&gt;{vadjust}-&gt;page_increment( $self-&gt;{height_px} / 2 );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hadjust}-&gt;changed;</div>
<div class="line">    $self-&gt;{vadjust}-&gt;changed;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a09aed1a39932a63e4ba08525d802f278"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::setValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setValues' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setValues-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setValues-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setValues-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setValues: 29</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a09aed1a39932a63e4ba08525d802f278">setValues</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $value_func = shift;</div>
<div class="line"></div>
<div class="line">    my $progress_bar = <a class="code" href="classBiodiverse_1_1Progress.html">Biodiverse::Progress</a>-&gt;<a class="code" href="classBiodiverse_1_1Progress.html#a88f4cef6f66986952a850fb70a2b62d8">new</a>(gui_only =&gt; 1);</div>
<div class="line">    my $progress = 0;</div>
<div class="line">    my $progress_count = 0;</div>
<div class="line">    my $progress_text = <span class="stringliteral">&#39;Updating sorted matrix cell values&#39;</span>;</div>
<div class="line"></div>
<div class="line">    my $hash = $self-&gt;{cells};</div>
<div class="line">    my $indices;</div>
<div class="line"></div>
<div class="line">    my $total_count = scalar keys %$hash;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $rect (keys %$hash) {</div>
<div class="line">        $progress_count ++;</div>
<div class="line">        $progress = $progress_count / $total_count;</div>
<div class="line"></div>
<div class="line">        $progress_bar-&gt;update ($progress_text, $progress);</div>
<div class="line"></div>
<div class="line">        my $data = $hash-&gt;{$rect};</div>
<div class="line"></div>
<div class="line">        my $indices = $data-&gt;[INDEX_ELEMENT];</div>
<div class="line"><span class="preprocessor">        # the first argument to values_func refers to the horizontal row (ie: the y coord)</span></div>
<div class="line"><span class="preprocessor"></span>        $data-&gt;[INDEX_VALUES] = &amp;$value_func($indices-&gt;[1], $indices-&gt;[0]);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a257b5669ed36feff345b2d4573a3435d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::showLegend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-showLegend' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-showLegend-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-showLegend-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-showLegend-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in showLegend: 28</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a257b5669ed36feff345b2d4573a3435d">showLegend</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    print <span class="stringliteral">&quot;already have legend!\n&quot;</span> <span class="keywordflow">if</span> $self-&gt;{legend};</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> $self-&gt;{legend};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Create legend</span></div>
<div class="line"><span class="preprocessor"></span>    my $pixbuf = $self-&gt;makeLegendPixbuf;</div>
<div class="line">    $self-&gt;{legend} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Pixbuf&#39;</span>,</div>
<div class="line">        pixbuf              =&gt; $pixbuf,</div>
<div class="line">        <span class="stringliteral">&#39;width_in_pixels&#39;</span>   =&gt; 1,</div>
<div class="line">        <span class="stringliteral">&#39;height_in_pixels&#39;</span>  =&gt; 1,</div>
<div class="line">        <span class="stringliteral">&#39;height-set&#39;</span>        =&gt; 1,</div>
<div class="line">        width               =&gt; LEGEND_WIDTH,</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    $self-&gt;{legend}-&gt;raise_to_top();</div>
<div class="line">    $self-&gt;{back_rect}-&gt;lower_to_bottom();</div>
<div class="line"></div>
<div class="line">    $self-&gt;{marks}[0] = $self-&gt;makeMark(<span class="stringliteral">&#39;ne&#39;</span>);</div>
<div class="line">    $self-&gt;{marks}[1] = $self-&gt;makeMark(<span class="charliteral">&#39;e&#39;</span>);</div>
<div class="line">    $self-&gt;{marks}[2] = $self-&gt;makeMark(<span class="charliteral">&#39;e&#39;</span>);</div>
<div class="line">    $self-&gt;{marks}[3] = $self-&gt;makeMark(<span class="stringliteral">&#39;se&#39;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a89a15664f98d93a974eff0c2ad16f6ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::updateScrollbars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-updateScrollbars' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-updateScrollbars-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-updateScrollbars-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-updateScrollbars-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in updateScrollbars: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a89a15664f98d93a974eff0c2ad16f6ed">updateScrollbars</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my ($scrollx, $scrolly) = $self-&gt;{canvas}-&gt;get_scroll_offsets();</div>
<div class="line">    $self-&gt;{hadjust}-&gt;set_value($scrollx);</div>
<div class="line">    $self-&gt;{vadjust}-&gt;set_value($scrolly);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae7161fc5405b1c687ac00a59b9ee3dc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::zoomFit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-zoomFit' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-zoomFit-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-zoomFit-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-zoomFit-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in zoomFit: 8</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#ae7161fc5405b1c687ac00a59b9ee3dc9">zoomFit</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{zoom_fit} = 1;</div>
<div class="line">    $self-&gt;fitGrid();</div>
<div class="line">    $self-&gt;postZoom();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9f3394c1f14814e55a435217bbbc9c63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::zoomIn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-zoomIn' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-zoomIn-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-zoomIn-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-zoomIn-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in zoomIn: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a9f3394c1f14814e55a435217bbbc9c63">zoomIn</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $ppu = $self-&gt;{canvas}-&gt;get_pixels_per_unit();</div>
<div class="line">    $self-&gt;{canvas}-&gt;set_pixels_per_unit( $ppu * 1.5 );</div>
<div class="line">    $self-&gt;{zoom_fit} = 0;</div>
<div class="line">    $self-&gt;postZoom();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a338be18c312b31ec62fb8fd9b1c334ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::MatrixGrid::zoomOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-zoomOut' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-zoomOut-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-zoomOut-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-zoomOut-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in zoomOut: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html#a338be18c312b31ec62fb8fd9b1c334ed">zoomOut</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $ppu = $self-&gt;{canvas}-&gt;get_pixels_per_unit();</div>
<div class="line">    $self-&gt;{canvas}-&gt;set_pixels_per_unit( $ppu / 1.5 );</div>
<div class="line">    $self-&gt;{zoom_fit} = 0;</div>
<div class="line">    $self-&gt;postZoom();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/GUI/<a class="el" href="MatrixGrid_8pm_source.html">MatrixGrid.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><b>GUI</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1GUI_1_1MatrixGrid.html">MatrixGrid</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:41 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
