<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::Statistics Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1Statistics.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1Statistics-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::Statistics Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Biodiverse::Statistics:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1Statistics__inherit__graph.png" border="0" usemap="#Biodiverse_1_1Statistics_inherit__map" alt="Inheritance graph"/></div>
<map name="Biodiverse_1_1Statistics_inherit__map" id="Biodiverse_1_1Statistics_inherit__map">
</map>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::Statistics:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1Statistics__coll__graph.png" border="0" usemap="#Biodiverse_1_1Statistics_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1Statistics_coll__map" id="Biodiverse_1_1Statistics_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa9feab65a817f7b6f00ce746f4dd00f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9feab65a817f7b6f00ce746f4dd00f8"></a>
hash&#160;</td><td class="memItemRight" valign="bottom"><b>fields</b></td></tr>
<tr class="separator:aa9feab65a817f7b6f00ce746f4dd00f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:ac15619bd1229207968bc34dab436462c"><td class="memItemLeft" align="right" valign="top">private method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#ac15619bd1229207968bc34dab436462c">_delete_all_cached_keys</a> ()</td></tr>
<tr class="separator:ac15619bd1229207968bc34dab436462c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ce48c28892a5e1d7a6a6cef1195d02"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a06ce48c28892a5e1d7a6a6cef1195d02">stdev</a> ()</td></tr>
<tr class="separator:a06ce48c28892a5e1d7a6a6cef1195d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a2fbf48b4641a49fa48dc125a04318"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#ac5a2fbf48b4641a49fa48dc125a04318">maxdex</a> ()</td></tr>
<tr class="separator:ac5a2fbf48b4641a49fa48dc125a04318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6930290be7352414f521860e45b33d15"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a6930290be7352414f521860e45b33d15">variance</a> ()</td></tr>
<tr class="separator:a6930290be7352414f521860e45b33d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22777add3db42efcc65360323aee4b05"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a22777add3db42efcc65360323aee4b05">standard_deviation</a> ()</td></tr>
<tr class="separator:a22777add3db42efcc65360323aee4b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4159c2efec2ff2bee2f93e65337dcb"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a2a4159c2efec2ff2bee2f93e65337dcb">median</a> ()</td></tr>
<tr class="separator:a2a4159c2efec2ff2bee2f93e65337dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d305857fa7065a7b87654d017cd2528"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a1d305857fa7065a7b87654d017cd2528">mindex</a> ()</td></tr>
<tr class="separator:a1d305857fa7065a7b87654d017cd2528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57aca062e7f8947bb215a5539cf033c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#ab57aca062e7f8947bb215a5539cf033c">percentile_RFC2330</a> ()</td></tr>
<tr class="separator:ab57aca062e7f8947bb215a5539cf033c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f166f80139b531182d7e003490345c0"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a4f166f80139b531182d7e003490345c0">percentile</a> ()</td></tr>
<tr class="separator:a4f166f80139b531182d7e003490345c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e419d2779b5c0b6ab0c823bcd201baa"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a6e419d2779b5c0b6ab0c823bcd201baa">iqr</a> ()</td></tr>
<tr class="separator:a6e419d2779b5c0b6ab0c823bcd201baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3599a2def0969353c14fa6131a92c25f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a3599a2def0969353c14fa6131a92c25f">kurtosis</a> ()</td></tr>
<tr class="separator:a3599a2def0969353c14fa6131a92c25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ad2ff03154dc8bcd4089db2ef40b5c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#ad6ad2ff03154dc8bcd4089db2ef40b5c">skewness</a> ()</td></tr>
<tr class="separator:ad6ad2ff03154dc8bcd4089db2ef40b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fc6da973eebcb8a48cbd8ebcf90b9f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a06fc6da973eebcb8a48cbd8ebcf90b9f">new</a> ()</td></tr>
<tr class="separator:a06fc6da973eebcb8a48cbd8ebcf90b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592f772969e601081184943b11f0593b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a592f772969e601081184943b11f0593b">add_data</a> ()</td></tr>
<tr class="separator:a592f772969e601081184943b11f0593b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203b67860237511a72bd8510145e1fa1"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1Statistics.html#a203b67860237511a72bd8510145e1fa1">sd</a> ()</td></tr>
<tr class="separator:a203b67860237511a72bd8510145e1fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="NAME"></a>
NAME</h1>
<p><a class="el" href="classBiodiverse_1_1Statistics.html">Biodiverse::Statistics</a> - Basic descriptive statistical functions.</p>
<h1><a class="anchor" id="SYNOPSIS"></a>
SYNOPSIS</h1>
<pre>  use <a class="el" href="classBiodiverse_1_1Statistics.html">Biodiverse::Statistics</a>;
  $stat = <a class="el" href="classBiodiverse_1_1Statistics.html">Biodiverse::Statistics</a>-&gt;<a class="el" href="classBiodiverse_1_1Statistics.html#a06fc6da973eebcb8a48cbd8ebcf90b9f">new()</a>;
  $stat-&gt;add_data(1,2,3,4);
  $x = $stat-&gt;percentile(25);
  ($x, $index_x) = $stat-&gt;percentile(25);
  $y = $stat-&gt;percentile_RFC2330(25);
  ($y, $index_y) = $stat-&gt;percentile_RFC2330(25);</pre><h1><a class="anchor" id="DESCRIPTION"></a>
DESCRIPTION</h1>
<p>Basic descriptive statistics. Everything from module Statistics::Descriptive::Full but with a different percentile algorithm (the original can be called using percentile_RFC2330).</p>
<p>The median method also returns undef when there are no records.</p>
<h1><a class="anchor" id="METHODS"></a>
METHODS</h1>
<ul>
<li>
<p class="startli"><a class="anchor" id="item__stat___Biodiverse__Statistics__gt_new___"></a><b>$stat = <a class="el" href="classBiodiverse_1_1Statistics.html">Biodiverse::Statistics</a>-&gt;<a class="el" href="classBiodiverse_1_1Statistics.html#a06fc6da973eebcb8a48cbd8ebcf90b9f">new()</a>;</b> </p>
<p>Create a new object.</p>
<p class="endli"></p>
</li>
<li>
<a class="anchor" id="item__x____stat__gt_percentile_25__"></a><b>$x = $stat-&gt;percentile(25);</b>  </li>
<li>
<p class="startli"><a class="anchor" id="item___x___index_____stat__gt_percentile_25__"></a><b>($x, $index) = $stat-&gt;percentile(25);</b> </p>
<p>Sorts the data and returns the value that corresponds to the percentile.</p>
<p class="endli"></p>
</li>
<li>
<a class="anchor" id="item__x____stat__gt_percentile_RFC2330_25__"></a><b>$x = $stat-&gt;percentile_RFC2330(25);</b>  </li>
<li>
<p class="startli"><a class="anchor" id="item___x___index_____stat__gt_percentile_RFC2330_25__"></a><b>($x, $index) = $stat-&gt;percentile_RFC2330(25);</b> </p>
<p>Sorts the data and returns the value that corresponds to the percentile as defined in RFC2330. This is the percentile method from Statistics::Descriptive::Full.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="anchor" id="item__iqr____stat__gt_iqr___"></a><b>$iqr = $stat-&gt;<a class="el" href="classBiodiverse_1_1Statistics.html#a6e419d2779b5c0b6ab0c823bcd201baa">iqr()</a>;</b> </p>
<p>Calculates the inter-quartile range (q75 - q25).</p>
<p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="REPORTING_ERRORS"></a>
REPORTING ERRORS</h1>
<p>Use the issue tracker at <a href="http://www.purl.org/biodiverse">http://www.purl.org/biodiverse</a></p>
<h1><a class="anchor" id="COPYRIGHT"></a>
COPYRIGHT</h1>
<p>Copyright (c) 2010 Shawn Laffan. All rights reserved.</p>
<h1><a class="anchor" id="LICENSE"></a>
LICENSE</h1>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>For a full copy of the license see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>

<p>Definition at line <a class="el" href="Statistics_8pm_source.html#l00075">75</a> of file <a class="el" href="Statistics_8pm_source.html">Statistics.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac15619bd1229207968bc34dab436462c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">private method Biodiverse::Statistics::_delete_all_cached_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-_delete_all_cached_keys' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-_delete_all_cached_keys-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_delete_all_cached_keys-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_delete_all_cached_keys-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in _delete_all_cached_keys: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#ac15619bd1229207968bc34dab436462c">_delete_all_cached_keys</a></div>
<div class="line">{</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my %keys = %{ $self };</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Remove reserved keys for this class from the deletion list</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keyword">delete</span> @keys{keys %{$self-&gt;_reserved}};</div>
<div class="line">    <span class="keyword">delete</span> @keys{keys %{$self-&gt;_permitted}};</div>
<div class="line">    <span class="keyword">delete</span> $keys{_trimmed_mean_cache};</div>
<div class="line"></div>
<div class="line">    KEYS_LOOP:</div>
<div class="line">    <span class="keywordflow">foreach</span> my $key (keys %keys) { # Check each key in the <span class="keywordtype">object</span></div>
<div class="line">        <span class="keyword">delete</span> $self-&gt;{$key};  # Delete any out of date cached key</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;{_trimmed_mean_cache} = {};  #  just reset <span class="keyword">this</span> one</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a592f772969e601081184943b11f0593b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::add_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-add_data' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-add_data-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-add_data-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-add_data-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in add_data: 82</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a592f772969e601081184943b11f0593b">add_data</a> {</div>
<div class="line">    my $self = shift;  ##Myself</div>
<div class="line">  </div>
<div class="line">    my $aref;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (ref $_[0] eq <span class="stringliteral">&#39;ARRAY&#39;</span>) {</div>
<div class="line">      $aref = $_[0];</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">      $aref = \@_;</div>
<div class="line">    }</div>
<div class="line">  </div>
<div class="line"><span class="preprocessor">    ##If we were given no data, we do nothing.</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> 1 <span class="keywordflow">if</span> (!@{ $aref });</div>
<div class="line">  </div>
<div class="line">    my $oldmean;</div>
<div class="line">    my ($min, $max, $sum, $sumsq);</div>
<div class="line">    my $count = $self-&gt;count;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  $count is modified lower down, but we need this flag after that</span></div>
<div class="line"><span class="preprocessor"></span>    my $has_existing_data = $count;  </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Take care of appending to an existing data set</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($has_existing_data) {</div>
<div class="line">        $min   = $self-&gt;min();</div>
<div class="line">        $max   = $self-&gt;max();</div>
<div class="line">        $sum   = $self-&gt;sum();</div>
<div class="line">        $sumsq = $self-&gt;sumsq();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $min   = $aref-&gt;[0];</div>
<div class="line">        $max   = $aref-&gt;[0];</div>
<div class="line">        $sum   = 0;</div>
<div class="line">        $sumsq = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  need to allow for already having data</span></div>
<div class="line"><span class="preprocessor"></span>    $sum    += List::Util::sum (@$aref);</div>
<div class="line">    $sumsq  += List::Util::sum (map {$_ ** 2} @$aref);</div>
<div class="line">    $max    =  List::Util::max ($max, @$aref);</div>
<div class="line">    $min    =  List::Util::min ($min, @$aref);</div>
<div class="line">    $count  +=  scalar @$aref;</div>
<div class="line">    my $mean = $sum / $count;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #$self-&gt;min($min);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;max($max);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;sample_range($max - $min);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;sum($sum);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;sumsq($sumsq);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;mean($mean);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;count($count);</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    #  dirty approach since it stops any abstraction, but faster</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  - should access via a &quot;fast_data_add&quot; object flag</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  saves 50% of the call time (= 4s for ~55k calls), so will scale for monster jobs</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{sum}   = $sum;</div>
<div class="line">    $self-&gt;{sumsq} = $sumsq;</div>
<div class="line">    $self-&gt;{mean}  = $mean;</div>
<div class="line">    $self-&gt;{count} = $count;</div>
<div class="line">    $self-&gt;{min}   = $min;</div>
<div class="line">    $self-&gt;{max}   = $max;</div>
<div class="line">    $self-&gt;{sample_range} = $max - $min;</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">    ##Variance isn&#39;t commonly enough</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    ##used to recompute every single data add, so just clear its cache.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;_variance(undef);</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{<a class="code" href="classBiodiverse_1_1Statistics.html#a6930290be7352414f521860e45b33d15">variance</a>} = undef;  #  Dirty approach, as above</div>
<div class="line">    </div>
<div class="line">    push @{ $self-&gt;_data() }, @{ $aref };</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  no need to clear keys if we are newly populated object,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  and profiling shows it takes a long time when creating</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  and populating many stats objects</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($has_existing_data) {</div>
<div class="line"><span class="preprocessor">        ##Clear the presorted flag</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;presorted(0);</div>
<div class="line">        $self-&gt;_delete_all_cached_keys();</div>
<div class="line">    }</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6e419d2779b5c0b6ab0c823bcd201baa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::iqr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-iqr' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-iqr-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-iqr-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-iqr-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in iqr: 10</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a6e419d2779b5c0b6ab0c823bcd201baa">iqr</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> undef <span class="keywordflow">if</span> !$self-&gt;count;</div>
<div class="line"></div>
<div class="line">    my $q25 = $self-&gt;percentile(25);</div>
<div class="line">    my $q75 = $self-&gt;percentile(75);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $q75 - $q25;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3599a2def0969353c14fa6131a92c25f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::kurtosis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-kurtosis' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-kurtosis-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-kurtosis-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-kurtosis-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in kurtosis: 28</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a3599a2def0969353c14fa6131a92c25f">kurtosis</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!defined($self-&gt;_kurtosis()))</div>
<div class="line">    {</div>
<div class="line">        my $kurt;</div>
<div class="line">        </div>
<div class="line">        my $n  = $self-&gt;count();</div>
<div class="line">        my $sd   = $self-&gt;standard_deviation();</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> ( $sd &amp;&amp; $n &gt; 3) {</div>
<div class="line"></div>
<div class="line">            my $mean = $self-&gt;mean();</div>
<div class="line"></div>
<div class="line">            my @tmp = List::MoreUtils::apply { $_ = (($_ - $mean) / $sd) ** 4 } $self-&gt;get_data();</div>
<div class="line">            my $sum_pow4 = List::Util::sum @tmp;</div>
<div class="line"></div>
<div class="line">            my $correction1 = ( $n * ($n+1) ) / ( ($n-1) * ($n-2) * ($n-3) );</div>
<div class="line">            my $correction2 = ( 3  * ($n-1) ** 2) / ( ($n-2) * ($n-3) );</div>
<div class="line">            </div>
<div class="line">            $kurt = ( $correction1 * $sum_pow4 ) - $correction2;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        $self-&gt;_kurtosis($kurt);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;_kurtosis();</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ac5a2fbf48b4641a49fa48dc125a04318"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::maxdex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-maxdex' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-maxdex-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-maxdex-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-maxdex-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in maxdex: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#ac5a2fbf48b4641a49fa48dc125a04318">maxdex</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> undef <span class="keywordflow">if</span> !$self-&gt;count;</div>
<div class="line">    my $maxdex;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;presorted) {</div>
<div class="line">        $maxdex = $self-&gt;count - 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        my $max = $self-&gt;max;</div>
<div class="line">        $maxdex =  List::MoreUtils::first_index {$_ == $max} $self-&gt;get_data;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{<a class="code" href="classBiodiverse_1_1Statistics.html#ac5a2fbf48b4641a49fa48dc125a04318">maxdex</a>} = $maxdex;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $maxdex;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2a4159c2efec2ff2bee2f93e65337dcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::median </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-median' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-median-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-median-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-median-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in median: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a2a4159c2efec2ff2bee2f93e65337dcb">median</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> undef <span class="keywordflow">if</span> ! $self-&gt;count;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;SUPER::median;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a1d305857fa7065a7b87654d017cd2528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::mindex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-mindex' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-mindex-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-mindex-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-mindex-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in mindex: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a1d305857fa7065a7b87654d017cd2528">mindex</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> undef <span class="keywordflow">if</span> !$self-&gt;count;</div>
<div class="line"><span class="preprocessor">    #my $maxdex = $self-&gt;{maxdex};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #return $maxdex if defined $maxdex;</span></div>
<div class="line"><span class="preprocessor"></span>    my $mindex;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;presorted) {</div>
<div class="line">        $mindex = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        my $min = $self-&gt;min;</div>
<div class="line">        $mindex =  List::MoreUtils::first_index {$_ == $min} $self-&gt;get_data;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{<a class="code" href="classBiodiverse_1_1Statistics.html#a1d305857fa7065a7b87654d017cd2528">mindex</a>} = $mindex;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $mindex;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a06fc6da973eebcb8a48cbd8ebcf90b9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in new: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <span class="keyword">new</span> {</div>
<div class="line">    my $proto = shift;</div>
<div class="line">    my $class = ref($proto) || $proto;</div>
<div class="line"><span class="preprocessor">    # Create my self via SUPER</span></div>
<div class="line"><span class="preprocessor"></span>    my $self = $class-&gt;SUPER::new();  </div>
<div class="line">    bless ($self, $class);  #Re-anneal the <span class="keywordtype">object</span></div>
<div class="line"><span class="preprocessor">    #$self-&gt;_clear_fields();</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> $self;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a4f166f80139b531182d7e003490345c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::percentile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-percentile' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-percentile-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-percentile-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-percentile-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in percentile: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a4f166f80139b531182d7e003490345c0">percentile</a> {  </div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $percentile = shift || 0;</div>
<div class="line"></div>
<div class="line">    my $count = $self-&gt;count;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! $count; #  no records, <span class="keywordflow">return</span> undef</div>
<div class="line">  </div>
<div class="line">    $percentile = 100 <span class="keywordflow">if</span> $percentile &gt; 100;</div>
<div class="line">    $percentile = 0   <span class="keywordflow">if</span> $percentile &lt; 0;</div>
<div class="line">  </div>
<div class="line">    $self-&gt;sort_data() <span class="keywordflow">if</span> ! $self-&gt;presorted;</div>
<div class="line"></div>
<div class="line">    my $num = ($count - 1) * $percentile / 100;</div>
<div class="line">    my $index = int ($num + 0.5);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  a bit risky - depends on Statistics::Descriptive internals</span></div>
<div class="line"><span class="preprocessor"></span>    my $val = $self-&gt;_data-&gt;[$index];</div>
<div class="line">    <span class="keywordflow">return</span> wantarray</div>
<div class="line">      ? ($val, $index)</div>
<div class="line">      : $val;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab57aca062e7f8947bb215a5539cf033c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::percentile_RFC2330 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-percentile_RFC2330' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-percentile_RFC2330-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-percentile_RFC2330-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-percentile_RFC2330-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in percentile_RFC2330: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#ab57aca062e7f8947bb215a5539cf033c">percentile_RFC2330</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;SUPER::percentile (@_);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a203b67860237511a72bd8510145e1fa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::sd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-sd' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-sd-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-sd-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-sd-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in sd: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a203b67860237511a72bd8510145e1fa1">sd</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;standard_deviation (@_);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ad6ad2ff03154dc8bcd4089db2ef40b5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::skewness </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-skewness' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-skewness-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-skewness-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-skewness-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in skewness: 28</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#ad6ad2ff03154dc8bcd4089db2ef40b5c">skewness</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!defined($self-&gt;_skewness()))</div>
<div class="line">    {</div>
<div class="line">        my $n    = $self-&gt;count();</div>
<div class="line">        my $sd   = $self-&gt;standard_deviation();</div>
<div class="line"></div>
<div class="line">        my $skew;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  skip if insufficient records</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ( $sd &amp;&amp; $n &gt; 2) {</div>
<div class="line">            </div>
<div class="line">            my $mean = $self-&gt;mean();</div>
<div class="line"></div>
<div class="line">            my @tmp = List::MoreUtils::apply { $_ = (($_ - $mean) / $sd) ** 3 } $self-&gt;get_data();</div>
<div class="line">            my $sum_pow3 = List::Util::sum @tmp;</div>
<div class="line"></div>
<div class="line">            my $correction = $n / ( ($n-1) * ($n-2) );</div>
<div class="line"></div>
<div class="line">            $skew = $correction * $sum_pow3;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $self-&gt;_skewness($skew);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;_skewness();</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a22777add3db42efcc65360323aee4b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::standard_deviation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-standard_deviation' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-standard_deviation-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-standard_deviation-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-standard_deviation-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in standard_deviation: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a22777add3db42efcc65360323aee4b05">standard_deviation</a> {</div>
<div class="line">  my $self = shift;  ##Myself</div>
<div class="line"><span class="preprocessor">  #  $self-&gt;variance checks for count==0, so don&#39;t double up</span></div>
<div class="line"><span class="preprocessor"></span>  my $variance = $self-&gt;variance();</div>
<div class="line">  <span class="keywordflow">return</span> defined $variance ? sqrt $variance : undef;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a06ce48c28892a5e1d7a6a6cef1195d02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::stdev </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-stdev' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-stdev-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-stdev-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-stdev-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in stdev: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a06ce48c28892a5e1d7a6a6cef1195d02">stdev</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;standard_deviation (@_);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6930290be7352414f521860e45b33d15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::Statistics::variance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-variance' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-variance-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-variance-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-variance-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in variance: 39</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1Statistics.html#a6930290be7352414f521860e45b33d15">variance</a> {</div>
<div class="line">    my $self = shift;  ##Myself</div>
<div class="line">  </div>
<div class="line">    my $count = $self-&gt;count();</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> undef <span class="keywordflow">if</span> !$count;</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> 0 <span class="keywordflow">if</span> $count == 1;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!defined($self-&gt;_variance())) {</div>
<div class="line">        my $variance = ($self-&gt;sumsq()- $count * $self-&gt;mean()**2);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Sometimes due to rounding errors we get a number below 0.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # This makes sure this is handled as gracefully as possible.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # See:</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # https://rt.cpan.org/Public/Bug/Display.html?id=46026</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($variance &lt; 0) {</div>
<div class="line">            $variance = 0;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">            #  Commented code is a left-over from early version.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #  Assume it was to allow for biased method variance,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #  but docs do not list it so assume it is unnecessary</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #  Actually, it is trapped by the $count == 1 condition above, so shouldn&#39;t be needed</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #my $div = scalar @_ ? 0 : 1;  </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #$variance /= $count - $div;</span></div>
<div class="line"><span class="preprocessor"></span>            $variance /= $count - 1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $self-&gt;_variance($variance);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  return now to avoid sub re-entry (and therefore time when many objects are used)</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">return</span> $variance;  </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;_variance();</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/<a class="el" href="Statistics_8pm_source.html">Statistics.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1Statistics.html">Statistics</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:28 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
