<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Biodiverse: Biodiverse::GUI::Dendrogram Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Biodiverse
   &#160;<span id="projectnumber">0.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBiodiverse_1_1GUI_1_1Dendrogram.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classBiodiverse_1_1GUI_1_1Dendrogram-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Biodiverse::GUI::Dendrogram Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Biodiverse::GUI::Dendrogram:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBiodiverse_1_1GUI_1_1Dendrogram__coll__graph.png" border="0" usemap="#Biodiverse_1_1GUI_1_1Dendrogram_coll__map" alt="Collaboration graph"/></div>
<map name="Biodiverse_1_1GUI_1_1Dendrogram_coll__map" id="Biodiverse_1_1GUI_1_1Dendrogram_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac06dfee84f0533311e2eb8d45327000b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac06dfee84f0533311e2eb8d45327000b"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>palette</b></td></tr>
<tr class="separator:ac06dfee84f0533311e2eb8d45327000b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a618c68518b431333016c78d7266aa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65a618c68518b431333016c78d7266aa"></a>
hash&#160;</td><td class="memItemRight" valign="bottom"><b>sort_by_firstnode</b></td></tr>
<tr class="separator:a65a618c68518b431333016c78d7266aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bccb30a5e3bed4fc32f21c8316e1ad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87bccb30a5e3bed4fc32f21c8316e1ad"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>i</b></td></tr>
<tr class="separator:a87bccb30a5e3bed4fc32f21c8316e1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac063012746892df945cdce66b3a7a43e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac063012746892df945cdce66b3a7a43e"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>firstnode</b></td></tr>
<tr class="separator:ac063012746892df945cdce66b3a7a43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e58a0ebd38abf59f50fc09d4b5ddb9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5e58a0ebd38abf59f50fc09d4b5ddb9"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>sorted_clusters</b></td></tr>
<tr class="separator:af5e58a0ebd38abf59f50fc09d4b5ddb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cfab94c9be94d62ad2ca9fc09a90ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34cfab94c9be94d62ad2ca9fc09a90ab"></a>
scalar&#160;</td><td class="memItemRight" valign="bottom"><b>colour_ref</b></td></tr>
<tr class="separator:a34cfab94c9be94d62ad2ca9fc09a90ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Avaliable Methods</h2></td></tr>
<tr class="memitem:aa620e0e07e28e7db5c741f13ff6ba849"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aa620e0e07e28e7db5c741f13ff6ba849">set_use_highlight_func</a> ()</td></tr>
<tr class="separator:aa620e0e07e28e7db5c741f13ff6ba849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf2778b6d9b24b95153129cbde8a101"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a0cf2778b6d9b24b95153129cbde8a101">get_colour_not_in_tree</a> ()</td></tr>
<tr class="separator:a0cf2778b6d9b24b95153129cbde8a101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465d88d1b182d76205d3534604553f76"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a465d88d1b182d76205d3534604553f76">assignClusterPaletteColours</a> ()</td></tr>
<tr class="separator:a465d88d1b182d76205d3534604553f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d09b265dfbbe3bd5e4273ad11f43b8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a45d09b265dfbbe3bd5e4273ad11f43b8">clear</a> ()</td></tr>
<tr class="separator:a45d09b265dfbbe3bd5e4273ad11f43b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6c6b1769289e829bbf90ca1149c919"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a1a6c6b1769289e829bbf90ca1149c919">postZoom</a> ()</td></tr>
<tr class="separator:a1a6c6b1769289e829bbf90ca1149c919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3252be0174b8371cac525be5d27ded"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#acb3252be0174b8371cac525be5d27ded">getMaxNegativeLength</a> ()</td></tr>
<tr class="separator:acb3252be0174b8371cac525be5d27ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e544a466dbebf3ce7a91ac283b91b42"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a2e544a466dbebf3ce7a91ac283b91b42">numerically</a> ()</td></tr>
<tr class="separator:a2e544a466dbebf3ce7a91ac283b91b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5397ff37ec2649af53ba05616c0c58"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a2d5397ff37ec2649af53ba05616c0c58">doColourNodesBelow</a> ()</td></tr>
<tr class="separator:a2d5397ff37ec2649af53ba05616c0c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26c18dcd71d0e98a8b76abbb8e328cc"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ab26c18dcd71d0e98a8b76abbb8e328cc">makeTotalLengthArray</a> ()</td></tr>
<tr class="separator:ab26c18dcd71d0e98a8b76abbb8e328cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8334ba2d9fb7abe7d547b4b50a95031a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8334ba2d9fb7abe7d547b4b50a95031a">restoreLineColours</a> ()</td></tr>
<tr class="separator:a8334ba2d9fb7abe7d547b4b50a95031a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937b768d824f68f892494edcdc4857eb"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a937b768d824f68f892494edcdc4857eb">repositionClustersTextbox</a> ()</td></tr>
<tr class="separator:a937b768d824f68f892494edcdc4857eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a72bd3008b5efac6b3bfa2afc8e9d3b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8a72bd3008b5efac6b3bfa2afc8e9d3b">setupScrollbars</a> ()</td></tr>
<tr class="separator:a8a72bd3008b5efac6b3bfa2afc8e9d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa07b6fcbed3619df94516a1517e5782"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aaa07b6fcbed3619df94516a1517e5782">zoomFit</a> ()</td></tr>
<tr class="separator:aaa07b6fcbed3619df94516a1517e5782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab305c94b2355fc9ff2a43bb0d96b17e3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ab305c94b2355fc9ff2a43bb0d96b17e3">zoomIn</a> ()</td></tr>
<tr class="separator:ab305c94b2355fc9ff2a43bb0d96b17e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae897e3660608d97f83142a030b413c19"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ae897e3660608d97f83142a030b413c19">makeTotalLengthArrayInner</a> ()</td></tr>
<tr class="separator:ae897e3660608d97f83142a030b413c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a922031a9f9782b71338e0d8acce95d1d"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a922031a9f9782b71338e0d8acce95d1d">setCluster</a> ()</td></tr>
<tr class="separator:a922031a9f9782b71338e0d8acce95d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb36b117a0c14f2cb8d07fc7312295c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a7fb36b117a0c14f2cb8d07fc7312295c">onVScroll</a> ()</td></tr>
<tr class="separator:a7fb36b117a0c14f2cb8d07fc7312295c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3418ac7163bd3e28c4bba234e9837ef7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a3418ac7163bd3e28c4bba234e9837ef7">zoomOut</a> ()</td></tr>
<tr class="separator:a3418ac7163bd3e28c4bba234e9837ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe626842c0077782556b83bcb96847db"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#abe626842c0077782556b83bcb96847db">mapElementsToClusters</a> ()</td></tr>
<tr class="separator:abe626842c0077782556b83bcb96847db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50104c2e77a64bb2f3e02ca88e3e6b3b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a50104c2e77a64bb2f3e02ca88e3e6b3b">get_palette_max_colours</a> ()</td></tr>
<tr class="separator:a50104c2e77a64bb2f3e02ca88e3e6b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a881492ae7c4fbca351a8e466fc8557"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a6a881492ae7c4fbca351a8e466fc8557">getPalette</a> ()</td></tr>
<tr class="separator:a6a881492ae7c4fbca351a8e466fc8557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349c437c2533d97613a7fa395b2b0a72"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a349c437c2533d97613a7fa395b2b0a72">drawLine</a> ()</td></tr>
<tr class="separator:a349c437c2533d97613a7fa395b2b0a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab271ac95b57c96e6132231cf310a032e"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ab271ac95b57c96e6132231cf310a032e">colourLines</a> ()</td></tr>
<tr class="separator:ab271ac95b57c96e6132231cf310a032e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15530d044a9a4a43bbc729038cdac4e0"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a15530d044a9a4a43bbc729038cdac4e0">clamp</a> ()</td></tr>
<tr class="separator:a15530d044a9a4a43bbc729038cdac4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af54215c0ac3cdb5a92353b84c0f852f3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af54215c0ac3cdb5a92353b84c0f852f3">setupMapListModel</a> ()</td></tr>
<tr class="separator:af54215c0ac3cdb5a92353b84c0f852f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27b753df882b5d83956237ae94f71957"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a27b753df882b5d83956237ae94f71957">setProcessedNodes</a> ()</td></tr>
<tr class="separator:a27b753df882b5d83956237ae94f71957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33dfdc00b3dfbc63d24e689c1a02b3f4"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a33dfdc00b3dfbc63d24e689c1a02b3f4">recolourClusterElements</a> ()</td></tr>
<tr class="separator:a33dfdc00b3dfbc63d24e689c1a02b3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d1e4b53aee6349cbcd5a03e50116d8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a25d1e4b53aee6349cbcd5a03e50116d8">set_plot_min_max_values</a> ()</td></tr>
<tr class="separator:a25d1e4b53aee6349cbcd5a03e50116d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7c18c01d7a5758259438663afecca3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a3b7c18c01d7a5758259438663afecca3">clearHighlights</a> ()</td></tr>
<tr class="separator:a3b7c18c01d7a5758259438663afecca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45155b5be80c49f1e227b67e56f5ae06"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a45155b5be80c49f1e227b67e56f5ae06">makeSlider</a> ()</td></tr>
<tr class="separator:a45155b5be80c49f1e227b67e56f5ae06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26781460392259f8f17907897c8fb28b"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a26781460392259f8f17907897c8fb28b">onGraphResize</a> ()</td></tr>
<tr class="separator:a26781460392259f8f17907897c8fb28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e07b086dc8886fdd77ffd7d7183a3d3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a9e07b086dc8886fdd77ffd7d7183a3d3">get_plot_min_max_values</a> ()</td></tr>
<tr class="separator:a9e07b086dc8886fdd77ffd7d7183a3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdfe61176667a4bf5bde218623f5d9b4"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#afdfe61176667a4bf5bde218623f5d9b4">getMaxNegativeLengthInner</a> ()</td></tr>
<tr class="separator:afdfe61176667a4bf5bde218623f5d9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b939705153a039f51fb234ad1d51e11"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a1b939705153a039f51fb234ad1d51e11">onMapIndexComboChanged</a> ()</td></tr>
<tr class="separator:a1b939705153a039f51fb234ad1d51e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0849bcaa82619875ad5530adae76f1"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8a0849bcaa82619875ad5530adae76f1">toggle_use_slider_to_select_nodes</a> ()</td></tr>
<tr class="separator:a8a0849bcaa82619875ad5530adae76f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87920701c5f2d8527465432c76daabf"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ae87920701c5f2d8527465432c76daabf">onMapListComboChanged</a> ()</td></tr>
<tr class="separator:ae87920701c5f2d8527465432c76daabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783082eb0d6e9973306b3fa58d0d37c4"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a783082eb0d6e9973306b3fa58d0d37c4">max</a> ()</td></tr>
<tr class="separator:a783082eb0d6e9973306b3fa58d0d37c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe86094ea530c529b6a3f676f842c42"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aabe86094ea530c529b6a3f676f842c42">new</a> ()</td></tr>
<tr class="separator:aabe86094ea530c529b6a3f676f842c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ade735a85d222f07d0d0853a2e508f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a70ade735a85d222f07d0d0853a2e508f">doSliderMove</a> ()</td></tr>
<tr class="separator:a70ade735a85d222f07d0d0853a2e508f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8006c9d692945d1c69a626f477c9ec8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af8006c9d692945d1c69a626f477c9ec8">resizeBackgroundRect</a> ()</td></tr>
<tr class="separator:af8006c9d692945d1c69a626f477c9ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bf3f60972baca30de6b7a76e03f0f4"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a81bf3f60972baca30de6b7a76e03f0f4">onHScroll</a> ()</td></tr>
<tr class="separator:a81bf3f60972baca30de6b7a76e03f0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61781b27a3c2211ee7fd20f0ebd0a176"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a61781b27a3c2211ee7fd20f0ebd0a176">getClusterNodeForElement</a> ()</td></tr>
<tr class="separator:a61781b27a3c2211ee7fd20f0ebd0a176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ce51bb43f624cb45d011e5cc68e256f"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8ce51bb43f624cb45d011e5cc68e256f">onSliderEvent</a> ()</td></tr>
<tr class="separator:a8ce51bb43f624cb45d011e5cc68e256f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa55841ba5683699120d767a4075eb28"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#afa55841ba5683699120d767a4075eb28">setPlotMode</a> ()</td></tr>
<tr class="separator:afa55841ba5683699120d767a4075eb28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cef6c2af3ffae250b9fda225d4c3ef"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a92cef6c2af3ffae250b9fda225d4c3ef">centreTree</a> ()</td></tr>
<tr class="separator:a92cef6c2af3ffae250b9fda225d4c3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69beea0314c168bb650f766d20a3aa24"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a69beea0314c168bb650f766d20a3aa24">getNumClusters</a> ()</td></tr>
<tr class="separator:a69beea0314c168bb650f766d20a3aa24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfca076abc709c2aff37a23931abcd7a"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#adfca076abc709c2aff37a23931abcd7a">onResize</a> ()</td></tr>
<tr class="separator:adfca076abc709c2aff37a23931abcd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e4266d3e4526d3ec392a564136ddba"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a97e4266d3e4526d3ec392a564136ddba">setNumClusters</a> ()</td></tr>
<tr class="separator:a97e4266d3e4526d3ec392a564136ddba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb9584025f0a0a6f7a9e311ee7d9984"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8eb9584025f0a0a6f7a9e311ee7d9984">highlightPath</a> ()</td></tr>
<tr class="separator:a8eb9584025f0a0a6f7a9e311ee7d9984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c557f7d837bb9e6b250425e7bf8c33"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a70c557f7d837bb9e6b250425e7bf8c33">updateScrollbars</a> ()</td></tr>
<tr class="separator:a70c557f7d837bb9e6b250425e7bf8c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1425232b107902bba6a3ac66232468"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a9d1425232b107902bba6a3ac66232468">renderGraph</a> ()</td></tr>
<tr class="separator:a9d1425232b107902bba6a3ac66232468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28d43faea77801057bc2c1bb9b0d195"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af28d43faea77801057bc2c1bb9b0d195">setupMapIndexModel</a> ()</td></tr>
<tr class="separator:af28d43faea77801057bc2c1bb9b0d195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64e34a27d4bb3da54872af3081b9bf8"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af64e34a27d4bb3da54872af3081b9bf8">onEvent</a> ()</td></tr>
<tr class="separator:af64e34a27d4bb3da54872af3081b9bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e0e771e8226c3f8cf00079d5f80a7c"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a20e0e771e8226c3f8cf00079d5f80a7c">destroy</a> ()</td></tr>
<tr class="separator:a20e0e771e8226c3f8cf00079d5f80a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b35a87fa3cf09ebc67f7f75a01604e2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a5b35a87fa3cf09ebc67f7f75a01604e2">recolour</a> ()</td></tr>
<tr class="separator:a5b35a87fa3cf09ebc67f7f75a01604e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a359f9c1b806b79b0c28ef66a2fc332"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a7a359f9c1b806b79b0c28ef66a2fc332">renderTree</a> ()</td></tr>
<tr class="separator:a7a359f9c1b806b79b0c28ef66a2fc332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16b0c494e842a759da73f3b6a8b2045"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af16b0c494e842a759da73f3b6a8b2045">drawNode</a> ()</td></tr>
<tr class="separator:af16b0c494e842a759da73f3b6a8b2045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45a4a3fe582789e8557cd2115c35e36"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aa45a4a3fe582789e8557cd2115c35e36">markElements</a> ()</td></tr>
<tr class="separator:aa45a4a3fe582789e8557cd2115c35e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c63bb2210db9d750cfcf55b73d19f17"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a6c63bb2210db9d750cfcf55b73d19f17">onBackgroundEvent</a> ()</td></tr>
<tr class="separator:a6c63bb2210db9d750cfcf55b73d19f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ccb75ab422e36e29f7be5c82ec78f2"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a67ccb75ab422e36e29f7be5c82ec78f2">setGroupMode</a> ()</td></tr>
<tr class="separator:a67ccb75ab422e36e29f7be5c82ec78f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082965b334bfa11d8786ce889e27bd54"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a082965b334bfa11d8786ce889e27bd54">repositionSliders</a> ()</td></tr>
<tr class="separator:a082965b334bfa11d8786ce889e27bd54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2b427b9a5554c5183448b2230d26e7"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a9f2b427b9a5554c5183448b2230d26e7">initYCoordsInner</a> ()</td></tr>
<tr class="separator:a9f2b427b9a5554c5183448b2230d26e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd64412cfcb2eed6baebdc5e983a91f5"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#abd64412cfcb2eed6baebdc5e983a91f5">initYCoords</a> ()</td></tr>
<tr class="separator:abd64412cfcb2eed6baebdc5e983a91f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9af21360494037c25811136c1b7b1e3"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af9af21360494037c25811136c1b7b1e3">highlightNode</a> ()</td></tr>
<tr class="separator:af9af21360494037c25811136c1b7b1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c047ecca47e800ec262843670131981"><td class="memItemLeft" align="right" valign="top">public method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a7c047ecca47e800ec262843670131981">recolourClusterLines</a> ()</td></tr>
<tr class="separator:a7c047ecca47e800ec262843670131981"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="Dendrogram_8pm_source.html#l00037">37</a> of file <a class="el" href="Dendrogram_8pm_source.html">Dendrogram.pm</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a465d88d1b182d76205d3534604553f76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::assignClusterPaletteColours </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-assignClusterPaletteColours' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-assignClusterPaletteColours-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-assignClusterPaletteColours-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-assignClusterPaletteColours-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in assignClusterPaletteColours: 15</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a465d88d1b182d76205d3534604553f76">assignClusterPaletteColours</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $cluster_nodes = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # don&#39;t set cluster colours if don&#39;t have enough palette values</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (scalar @$cluster_nodes &gt; $self-&gt;get_palette_max_colours()) {</div>
<div class="line"><span class="preprocessor">        #print &quot;[Dendrogram] not assigning palette colours (too many clusters)\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # clear existing values</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">foreach</span> my $j (0..$#{$cluster_nodes}) {</div>
<div class="line"><span class="preprocessor">            #$cluster_nodes-&gt;[$j]-&gt;set_cached_value(__gui_palette_colour =&gt; undef);</span></div>
<div class="line"><span class="preprocessor"></span>            $self-&gt;{node_palette_colours}{$cluster_nodes-&gt;[$j]-&gt;get_name} = undef;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a92cef6c2af3ffae250b9fda225d4c3ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::centreTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-centreTree' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-centreTree-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-centreTree-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-centreTree-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in centreTree: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a92cef6c2af3ffae250b9fda225d4c3ef">centreTree</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> !defined $self-&gt;{lines_group};</div>
<div class="line">    </div>
<div class="line">    my $xoffset = $self-&gt;{centre_x} * $self-&gt;{length_scale} - $self-&gt;{width_px} / 2;</div>
<div class="line">    my $yoffset = $self-&gt;{centre_y} * $self-&gt;{height_scale} - $self-&gt;{height_px} / 2;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print &quot;[centreTree] scroll xoffset=$xoffset  yoffset=$yoffset\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    my $matrix = [1,0,0,1, -1 * $xoffset, -1 * $yoffset];</div>
<div class="line">    eval {$self-&gt;{lines_group}-&gt;affine_absolute($matrix)};</div>
<div class="line">    $self-&gt;{back_rect}-&gt;affine_absolute($matrix);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # for the graph only move sideways</span></div>
<div class="line"><span class="preprocessor"></span>    $matrix-&gt;[5] = 0;</div>
<div class="line">    eval {$self-&gt;{graph_group}-&gt;affine_absolute($matrix)};</div>
<div class="line"></div>
<div class="line">    $self-&gt;repositionSliders();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a15530d044a9a4a43bbc729038cdac4e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::clamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clamp' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clamp-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clamp-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clamp-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clamp: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a15530d044a9a4a43bbc729038cdac4e0">clamp</a> {</div>
<div class="line">    my ($val, $min, $max) = @_;</div>
<div class="line">    <span class="keywordflow">return</span> $min <span class="keywordflow">if</span> $val &lt; $min;</div>
<div class="line">    <span class="keywordflow">return</span> $max <span class="keywordflow">if</span> $val &gt; $max;</div>
<div class="line">    <span class="keywordflow">return</span> $val;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a45d09b265dfbbe3bd5e4273ad11f43b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clear' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clear-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clear-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clear-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clear: 27</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a45d09b265dfbbe3bd5e4273ad11f43b8">clear</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;clearHighlights;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{node_lines} = {};</div>
<div class="line">    $self-&gt;{node_colours_cache} = {};</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{unscaled_width};</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{unscaled_height};</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{tree_node};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{lines_group}) {</div>
<div class="line">        $self-&gt;{lines_group}-&gt;destroy();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{graph_group}) {</div>
<div class="line">        $self-&gt;{graph_group}-&gt;destroy();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{slider}) {</div>
<div class="line">        $self-&gt;{slider}-&gt;hide;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{graph_slider}) {</div>
<div class="line">        $self-&gt;{graph_slider}-&gt;hide;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3b7c18c01d7a5758259438663afecca3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::clearHighlights </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-clearHighlights' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-clearHighlights-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-clearHighlights-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-clearHighlights-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in clearHighlights: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a3b7c18c01d7a5758259438663afecca3">clearHighlights</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{highlighted_lines}) {</div>
<div class="line">        <span class="keywordflow">foreach</span> my $line (@{$self-&gt;{highlighted_lines}}) {</div>
<div class="line"></div>
<div class="line">            $line-&gt;set(width_pixels =&gt; NORMAL_WIDTH);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    $self-&gt;{highlighted_lines} = undef;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab271ac95b57c96e6132231cf310a032e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::colourLines </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-colourLines' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-colourLines-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-colourLines-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-colourLines-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in colourLines: 17</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ab271ac95b57c96e6132231cf310a032e">colourLines</a> {</div>
<div class="line">    my ($self, $node_ref, $colour_ref, $coloured_nodes) = @_;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # We set the cached value to make it easier to recolour if the tree has to be re-rendered</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$node_ref-&gt;set_cached_value(__gui_colour =&gt; $colour_ref);</span></div>
<div class="line"><span class="preprocessor"></span>    my $name = $node_ref-&gt;get_name;</div>
<div class="line">    $self-&gt;{node_colours_cache}{$name} = $colour_ref;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{node_lines}-&gt;{$name}-&gt;set(fill_color_gdk =&gt; $colour_ref);</div>
<div class="line">    $coloured_nodes-&gt;{ $node_ref } = (); # mark as coloured</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $child_ref (@{$node_ref-&gt;get_children}) {</div>
<div class="line">        $self-&gt;colourLines($child_ref, $colour_ref, $coloured_nodes);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a20e0e771e8226c3f8cf00079d5f80a7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-destroy' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-destroy-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-destroy-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-destroy-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in destroy: 30</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a20e0e771e8226c3f8cf00079d5f80a7c">destroy</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    print <span class="stringliteral">&quot;[Dendrogram] Trying to clean up references\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{node_lines} = undef;</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{node_lines};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{lines_group}) {</div>
<div class="line">        $self-&gt;{lines_group}-&gt;destroy();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{slider};</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{hover_func}; #??? not sure <span class="keywordflow">if</span> helps</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{highlight_func}; #??? not sure <span class="keywordflow">if</span> helps</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{ctrl_click_func}; #??? not sure <span class="keywordflow">if</span> helps</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{click_func}; #??? not sure <span class="keywordflow">if</span> helps</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{lines_group}; #!!!! Without <span class="keyword">this</span>, GnomeCanvas __crashes__</div>
<div class="line"><span class="preprocessor">                                # Apparently, a reference cycle prevents it from being destroyed properly,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">                                # and a bug makes it repaint in a half-dead state</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keyword">delete</span> $self-&gt;{back_rect};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #delete $self-&gt;{node_lines};</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keyword">delete</span> $self-&gt;{canvas};</div>
<div class="line">    <span class="keyword">delete</span> $self-&gt;{graph};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2d5397ff37ec2649af53ba05616c0c58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::doColourNodesBelow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-doColourNodesBelow' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-doColourNodesBelow-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-doColourNodesBelow-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-doColourNodesBelow-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in doColourNodesBelow: 72</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a2d5397ff37ec2649af53ba05616c0c58">doColourNodesBelow</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $start_node = shift;</div>
<div class="line">    $self-&gt;{colour_start_node} = $start_node;</div>
<div class="line"></div>
<div class="line">    my $num_clusters = $self-&gt;getNumClusters;</div>
<div class="line">    my $original_num_clusters = $num_clusters;</div>
<div class="line">    my $excess_flag = 0;</div>
<div class="line">    my @colour_nodes;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (defined $start_node) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Get list of nodes to colour</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #print &quot;[Dendrogram] Grouping...\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        my %node_hash = $start_node-&gt;group_nodes_below (</div>
<div class="line">            num_clusters =&gt; $num_clusters,</div>
<div class="line">            type =&gt; $self-&gt;{group_mode}</div>
<div class="line">        );</div>
<div class="line">        @colour_nodes = values %node_hash;</div>
<div class="line"><span class="preprocessor">        #print &quot;[Dendrogram] Done Grouping...\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # FIXME: why loop instead of just grouping with num_clusters =&gt; $self-&gt;get_palette_max_colours</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #  make sure we don&#39;t exceed the maximum number of colours</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">while</span> (scalar @colour_nodes &gt; $self-&gt;get_palette_max_colours) {  </div>
<div class="line">            $excess_flag = 1;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Group again with 1 fewer colours</span></div>
<div class="line"><span class="preprocessor"></span>            $num_clusters --;</div>
<div class="line">            my %node_hash = $start_node-&gt;group_nodes_below (</div>
<div class="line">                num_clusters =&gt; $num_clusters,</div>
<div class="line">                type =&gt; $self-&gt;{group_mode},</div>
<div class="line">            );</div>
<div class="line">            @colour_nodes = values %node_hash;</div>
<div class="line">        }</div>
<div class="line">        $num_clusters = scalar @colour_nodes;  #not always the same, so make them equal now</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #  keep the user informed of what happened</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($original_num_clusters != $num_clusters) {</div>
<div class="line">            print <span class="stringliteral">&quot;[Dendrogram] Could not colour requested number of clusters ($original_num_clusters)\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ($original_num_clusters &lt; $num_clusters) {</div>
<div class="line">                <span class="keywordflow">if</span> ($excess_flag) {</div>
<div class="line">                    print <span class="stringliteral">&quot;[Dendrogram] More clusters were requested (&quot;</span></div>
<div class="line">                          . <span class="stringliteral">&quot;$original_num_clusters) than available colours (&quot;</span></div>
<div class="line">                          . $self-&gt;get_palette_max_colours</div>
<div class="line">                          . <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">                    print <span class="stringliteral">&quot;[Dendrogram] Requested number not feasible.  &quot;</span></div>
<div class="line">                          . <span class="stringliteral">&quot;Returned $num_clusters.\n&quot;</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                print <span class="stringliteral">&quot;[Dendrogram] Fewer clusters were identified ($num_clusters)\n&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        print <span class="stringliteral">&quot;[Dendrogram] Clearing colouring\n&quot;</span></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set up colouring</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;num clusters = $num_clusters\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;assignClusterPaletteColours(\@colour_nodes);</div>
<div class="line">    $self-&gt;mapElementsToClusters(\@colour_nodes);</div>
<div class="line"></div>
<div class="line">    $self-&gt;recolourClusterElements();</div>
<div class="line">    $self-&gt;recolourClusterLines(\@colour_nodes);</div>
<div class="line">    $self-&gt;setProcessedNodes(\@colour_nodes);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a70ade735a85d222f07d0d0853a2e508f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::doSliderMove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-doSliderMove' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-doSliderMove-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-doSliderMove-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-doSliderMove-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in doSliderMove: 67</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a70ade735a85d222f07d0d0853a2e508f">doSliderMove</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $length_along = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #my $time = time();</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #return 1 if defined $self-&gt;{last_slide_time} &amp;&amp;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    ($time - $self-&gt;{last_slide_time}) &lt; 0.2;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Find how far along the tree the slider is positioned</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # Saving slider position - to move it back in place after resize</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;[doSliderMove] Slider @ $length_along\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Find nodes that intersect the slides</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    my $using_length = 1;</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{plot_mode} eq <span class="stringliteral">&#39;length&#39;</span>) {</div>
<div class="line">        $length_along -= $self-&gt;{border_len};</div>
<div class="line"><span class="preprocessor">        #FIXME: putting this fixes position errors, but don&#39;t understand how</span></div>
<div class="line"><span class="preprocessor"></span>        $length_along -= $self-&gt;{neg_len};</div>
<div class="line">    }</div>
<div class="line">    elsif ($self-&gt;{plot_mode} eq <span class="stringliteral">&#39;depth&#39;</span>) {</div>
<div class="line">        $length_along -= $self-&gt;{border_len};</div>
<div class="line">        $length_along -= $self-&gt;{neg_len}; </div>
<div class="line">        $length_along = $self-&gt;{max_len} - $length_along;</div>
<div class="line">        $using_length = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        croak <span class="stringliteral">&quot;invalid plot mode: $self-&gt;{plot_mode}\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $node_hash = $self-&gt;{tree_node}-&gt;group_nodes_below (</div>
<div class="line">        target_value =&gt; $length_along,</div>
<div class="line">        type         =&gt; $self-&gt;{plot_mode},</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    my @intersecting_nodes = values %$node_hash;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Update the slider textbox</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #   [Number of nodes intersecting]</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #   Above as percentage of total elements</span></div>
<div class="line"><span class="preprocessor"></span>    my $num_intersecting = scalar @intersecting_nodes;</div>
<div class="line">    my $percent = sprintf(<span class="stringliteral">&#39;%.1f&#39;</span>, $num_intersecting * 100 / $self-&gt;{num_nodes}); # round to 1 d.p.</div>
<div class="line">    my $l_text  = sprintf(<span class="stringliteral">&#39;%.2f&#39;</span>, $length_along);</div>
<div class="line">    my $text = <span class="stringliteral">&quot;$num_intersecting nodes\n$percent%\n&quot;</span></div>
<div class="line">                . ($using_length ? <span class="charliteral">&#39;L&#39;</span> : <span class="charliteral">&#39;D&#39;</span>)</div>
<div class="line">                . <span class="stringliteral">&quot;: $l_text&quot;</span>;</div>
<div class="line">    $self-&gt;{clusters_text}-&gt;set( text =&gt; $text );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Highlight the lines in the dendrogram</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;clearHighlights;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $node (values %$node_hash) {</div>
<div class="line">        $self-&gt;highlightNode($node);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! $self-&gt;{use_slider_to_select_nodes};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set up colouring</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;assignClusterPaletteColours(\@intersecting_nodes);</div>
<div class="line">    $self-&gt;mapElementsToClusters(\@intersecting_nodes);</div>
<div class="line"></div>
<div class="line">    $self-&gt;recolourClusterElements();</div>
<div class="line">    $self-&gt;recolourClusterLines(\@intersecting_nodes);</div>
<div class="line">    $self-&gt;setProcessedNodes(\@intersecting_nodes);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #$self-&gt;{last_slide_time} = time;</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a349c437c2533d97613a7fa395b2b0a72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::drawLine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-drawLine' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-drawLine-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-drawLine-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-drawLine-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in drawLine: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a349c437c2533d97613a7fa395b2b0a72">drawLine</a> {</div>
<div class="line">    my ($self, $x1, $y1, $x2, $y2, $colour_ref) = @_;</div>
<div class="line"><span class="preprocessor">    #print &quot;Line ($x1,$y1) - ($x2,$y2)\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    my $line_style;</div>
<div class="line">    <span class="keywordflow">if</span> ($x1 &gt;= $x2) {</div>
<div class="line">        $line_style = <span class="stringliteral">&#39;solid&#39;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $line_style = <span class="stringliteral">&#39;on-off-dash&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{lines_group},</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Line&#39;</span>,</div>
<div class="line">        points =&gt; [$x1, $y1, $x2, $y2],</div>
<div class="line">        fill_color_gdk =&gt; $colour_ref,</div>
<div class="line">        line_style =&gt; $line_style,</div>
<div class="line">        width_pixels =&gt; NORMAL_WIDTH</div>
<div class="line">    );</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af16b0c494e842a759da73f3b6a8b2045"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::drawNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-drawNode' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-drawNode-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-drawNode-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-drawNode-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in drawNode: 32</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af16b0c494e842a759da73f3b6a8b2045">drawNode</a> {</div>
<div class="line">    my ($self, $node, $current_xpos, $length_func, $length_scale, $height_scale) = @_;</div>
<div class="line"></div>
<div class="line">    my $length = &amp;$length_func($node) * $length_scale;</div>
<div class="line">    my $new_current_xpos = $current_xpos - $length;</div>
<div class="line">    my $y = $node-&gt;get_value(<span class="stringliteral">&#39;_y&#39;</span>) * $height_scale;</div>
<div class="line">    my $colour_ref = $self-&gt;{node_colours_cache}{$node-&gt;get_name} || DEFAULT_LINE_COLOUR;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Draw our horizontal line</span></div>
<div class="line"><span class="preprocessor"></span>    my $line = $self-&gt;drawLine($current_xpos, $y, $new_current_xpos, $y, $colour_ref);</div>
<div class="line">    $line-&gt;signal_connect_swapped (event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af64e34a27d4bb3da54872af3081b9bf8">onEvent</a>, $self);</div>
<div class="line">    $line-&gt;{node} =  $node; # Remember the node (<span class="keywordflow">for</span> hovering, etc...)</div>
<div class="line"></div>
<div class="line">    <span class="preprocessor"># Remember line (for colouring, etc...)</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{node_lines}-&gt;{$node-&gt;get_name} = $line;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Draw children</span></div>
<div class="line"><span class="preprocessor"></span>    my ($ymin, $ymax);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $child ($node-&gt;get_children) {</div>
<div class="line">        my $child_y = $self-&gt;drawNode($child, $new_current_xpos, $length_func, $length_scale, $height_scale);</div>
<div class="line"></div>
<div class="line">        $ymin = $child_y <span class="keywordflow">if</span> ( (not defined $ymin) || $child_y &lt;= $ymin);</div>
<div class="line">        $ymax = $child_y <span class="keywordflow">if</span> ( (not defined $ymax) || $child_y &gt;= $ymax);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Vertical line</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (defined $ymin) { </div>
<div class="line">        $self-&gt;drawLine($new_current_xpos, $ymin, $new_current_xpos, $ymax, DEFAULT_LINE_COLOUR);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> $y;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a0cf2778b6d9b24b95153129cbde8a101"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::get_colour_not_in_tree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_colour_not_in_tree' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_colour_not_in_tree-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_colour_not_in_tree-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_colour_not_in_tree-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_colour_not_in_tree: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a0cf2778b6d9b24b95153129cbde8a101">get_colour_not_in_tree</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my $colour = $self-&gt;{colour_not_in_tree} || COLOUR_NOT_IN_TREE;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> $colour;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a50104c2e77a64bb2f3e02ca88e3e6b3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::get_palette_max_colours </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_palette_max_colours' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_palette_max_colours-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_palette_max_colours-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_palette_max_colours-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_palette_max_colours: 11</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a50104c2e77a64bb2f3e02ca88e3e6b3b">get_palette_max_colours</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">if</span> (blessed ($self)</div>
<div class="line">        and blessed ($self-&gt;{cluster})</div>
<div class="line">        and defined $self-&gt;{cluster}-&gt;get_param (<span class="stringliteral">&#39;MAX_COLOURS&#39;</span>)) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> $self-&gt;{cluster}-&gt;get_param (<span class="stringliteral">&#39;MAX_COLOURS&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 13;  #  modify <span class="keywordflow">if</span> more are added above.</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9e07b086dc8886fdd77ffd7d7183a3d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::get_plot_min_max_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-get_plot_min_max_values' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-get_plot_min_max_values-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-get_plot_min_max_values-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-get_plot_min_max_values-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in get_plot_min_max_values: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a9e07b086dc8886fdd77ffd7d7183a3d3">get_plot_min_max_values</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    </div>
<div class="line">    my ($min, $max) = ($self-&gt;{analysis_min}, $self-&gt;{analysis_max});</div>
<div class="line">    <span class="keywordflow">if</span> (not defined $min or not defined $max) {</div>
<div class="line">        ($min, $max) = $self-&gt;{parent_tab}-&gt;get_plot_min_max_values;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    my @minmax = ($min, $max);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> wantarray ? @minmax : \@minmax;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a61781b27a3c2211ee7fd20f0ebd0a176"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::getClusterNodeForElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getClusterNodeForElement' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getClusterNodeForElement-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getClusterNodeForElement-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getClusterNodeForElement-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getClusterNodeForElement: 5</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a61781b27a3c2211ee7fd20f0ebd0a176">getClusterNodeForElement</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $element = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{element_to_cluster}{$element};</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="acb3252be0174b8371cac525be5d27ded"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::getMaxNegativeLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getMaxNegativeLength' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getMaxNegativeLength-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getMaxNegativeLength-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getMaxNegativeLength-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getMaxNegativeLength: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#acb3252be0174b8371cac525be5d27ded">getMaxNegativeLength</a> {</div>
<div class="line">    my $treenode = shift;</div>
<div class="line">    my $min_length = 0;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#afdfe61176667a4bf5bde218623f5d9b4">getMaxNegativeLengthInner</a>($treenode, 0, \$min_length);</div>
<div class="line">    <span class="keywordflow">if</span> ($min_length &lt; 0) {</div>
<div class="line">        <span class="keywordflow">return</span> -1 * $min_length;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="afdfe61176667a4bf5bde218623f5d9b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::getMaxNegativeLengthInner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getMaxNegativeLengthInner' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getMaxNegativeLengthInner-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getMaxNegativeLengthInner-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getMaxNegativeLengthInner-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getMaxNegativeLengthInner: 12</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#afdfe61176667a4bf5bde218623f5d9b4">getMaxNegativeLengthInner</a> {</div>
<div class="line">    my ($node, $cur_len, $min_length_ref) = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (${$min_length_ref} &gt; $cur_len) {</div>
<div class="line">        ${$min_length_ref} = $cur_len;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">foreach</span> my $child ($node-&gt;get_children) {</div>
<div class="line">        <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#afdfe61176667a4bf5bde218623f5d9b4">getMaxNegativeLengthInner</a>($child, $cur_len + $node-&gt;get_length, $min_length_ref);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a69beea0314c168bb650f766d20a3aa24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::getNumClusters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getNumClusters' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getNumClusters-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getNumClusters-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getNumClusters-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getNumClusters: 4</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a69beea0314c168bb650f766d20a3aa24">getNumClusters</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> $self-&gt;{num_clusters} || 1;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6a881492ae7c4fbca351a8e466fc8557"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::getPalette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-getPalette' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-getPalette-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-getPalette-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-getPalette-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in getPalette: 39</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a6a881492ae7c4fbca351a8e466fc8557">getPalette</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $num_clusters = shift;</div>
<div class="line"><span class="preprocessor">    #print &quot;Choosing colour palette for $num_clusters clusters\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">return</span> (wantarray ? () : []) <span class="keywordflow">if</span> $num_clusters &lt;= 0;  # trap bad numclusters</div>
<div class="line"></div>
<div class="line">    my @colourset;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($num_clusters &lt;= 9) {</div>
<div class="line"><span class="preprocessor">        # Set1 colour scheme from www.colorbrewer.org</span></div>
<div class="line"><span class="preprocessor"></span>        no warnings <span class="stringliteral">&#39;qw&#39;</span>;  #  we know the hashes in <span class="keyword">this</span> list are not comments</div>
<div class="line">        @colourset = qw <span class="stringliteral">&#39;#E41A1C #377EB8 #4DAF4A #984EA3</span></div>
<div class="line"><span class="stringliteral">                         #FF7F00 #FFFF33 #A65628 #F781BF</span></div>
<div class="line"><span class="stringliteral">                         #999999&#39;</span>;</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($num_clusters &lt;= 13) {</div>
<div class="line"><span class="preprocessor">        # Paired colour scheme from the same place, plus a dark grey</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #  note - this works poorly when 9 or fewer groups are selected</span></div>
<div class="line"><span class="preprocessor"></span>        no warnings <span class="stringliteral">&#39;qw&#39;</span>;</div>
<div class="line">        @colourset = qw <span class="stringliteral">&#39;#A6CEE3 #1F78B4 #B2DF8A #33A02C</span></div>
<div class="line"><span class="stringliteral">                         #FB9A99 #E31A1C #FDBF6F #FF7F00</span></div>
<div class="line"><span class="stringliteral">                         #CAB2D6 #6A3D9A #FFFF99 #B15928</span></div>
<div class="line"><span class="stringliteral">                         #4B4B4B&#39;</span>;</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">        # If more than get_palette_max_colours, separate by hue</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # ed: actually don&#39;t - adjacent clusters may get wildly different hues</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # because the hashes are randomly sorted...</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #my $hue_slice = 180 / $num_clusters;</span></div>
<div class="line"><span class="preprocessor"></span>        @colourset = (DEFAULT_LINE_COLOUR_RGB) x $num_clusters;  #  saves looping over them all</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my @colours = @colourset[0 .. $num_clusters - 1]; #  <span class="keywordflow">return</span> the relevant slice</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> (wantarray ? @colours : \@colours);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af9af21360494037c25811136c1b7b1e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::highlightNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-highlightNode' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-highlightNode-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-highlightNode-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-highlightNode-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in highlightNode: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af9af21360494037c25811136c1b7b1e3">highlightNode</a> {</div>
<div class="line">    my ($self, $node_ref) = @_;</div>
<div class="line"></div>
<div class="line">    my $line = $self-&gt;{node_lines}-&gt;{$node_ref-&gt;get_name};</div>
<div class="line">    $line-&gt;set(width_pixels =&gt; HIGHLIGHT_WIDTH);</div>
<div class="line">    push @{$self-&gt;{highlighted_lines}}, $line;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a8eb9584025f0a0a6f7a9e311ee7d9984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::highlightPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-highlightPath' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-highlightPath-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-highlightPath-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-highlightPath-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in highlightPath: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8eb9584025f0a0a6f7a9e311ee7d9984">highlightPath</a> {</div>
<div class="line">    my ($self, $node_ref) = @_;</div>
<div class="line">    my @highlighted_lines;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> ($node_ref) {</div>
<div class="line">        my $line = $self-&gt;{node_lines}-&gt;{$node_ref-&gt;get_name};</div>
<div class="line">        $line-&gt;set(width_pixels =&gt; HIGHLIGHT_WIDTH);</div>
<div class="line">        push @{$self-&gt;{highlighted_lines}}, $line;</div>
<div class="line"></div>
<div class="line">        $node_ref = $node_ref-&gt;get_parent;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="abd64412cfcb2eed6baebdc5e983a91f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::initYCoords </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initYCoords' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-initYCoords-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initYCoords-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initYCoords-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in initYCoords: 10</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#abd64412cfcb2eed6baebdc5e983a91f5">initYCoords</a> {</div>
<div class="line">    my ($self, $tree) = @_;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # This is passed by reference</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # Will be increased as each leaf is allocated coordinates</span></div>
<div class="line"><span class="preprocessor"></span>    my $current_y = 0;</div>
<div class="line">    $self-&gt;initYCoordsInner($tree, \$current_y);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9f2b427b9a5554c5183448b2230d26e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::initYCoordsInner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-initYCoordsInner' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-initYCoordsInner-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-initYCoordsInner-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-initYCoordsInner-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in initYCoordsInner: 23</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a9f2b427b9a5554c5183448b2230d26e7">initYCoordsInner</a> {</div>
<div class="line">    my ($self, $node, $current_y_ref) = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($node-&gt;is_terminal_node) {</div>
<div class="line"></div>
<div class="line">        $node-&gt;set_value(<span class="stringliteral">&#39;_y&#39;</span>, $$current_y_ref + $self-&gt;{border_ht});</div>
<div class="line">        ${$current_y_ref} = ${$current_y_ref} + LEAF_SPACING;</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        my $y_sum;</div>
<div class="line">        my $count = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> my $child ($node-&gt;get_children) {</div>
<div class="line">            $self-&gt;initYCoordsInner($child, $current_y_ref);</div>
<div class="line">            $y_sum += $child-&gt;get_value(<span class="stringliteral">&#39;_y&#39;</span>);</div>
<div class="line">            $count++;</div>
<div class="line">        }</div>
<div class="line">        $node-&gt;set_value(<span class="stringliteral">&#39;_y&#39;</span>, $y_sum / $count); # y-value is average of children<span class="stringliteral">&#39;s y values</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a45155b5be80c49f1e227b67e56f5ae06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::makeSlider </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeSlider' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeSlider-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeSlider-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeSlider-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeSlider: 63</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a45155b5be80c49f1e227b67e56f5ae06">makeSlider</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # already exists?</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ( $self-&gt;{slider} ) {</div>
<div class="line">        $self-&gt;{slider}-&gt;show;</div>
<div class="line">        $self-&gt;{graph_slider}-&gt;show;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{slider} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Rect&#39;</span>,</div>
<div class="line">        x1 =&gt; 0,</div>
<div class="line">        y1 =&gt; 0,</div>
<div class="line">        x2 =&gt; 1,</div>
<div class="line">        y2 =&gt; 1,</div>
<div class="line">        fill_color =&gt; <span class="stringliteral">&#39;blue&#39;</span>,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{slider}-&gt;signal_connect_swapped (event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8ce51bb43f624cb45d011e5cc68e256f">onSliderEvent</a>, $self);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Slider for the graph at the bottom</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{graph_slider} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{graph}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Rect&#39;</span>,</div>
<div class="line">        x1 =&gt; 0,</div>
<div class="line">        y1 =&gt; 0,</div>
<div class="line">        x2 =&gt; 1,</div>
<div class="line">        y2 =&gt; 1,</div>
<div class="line">        fill_color =&gt; <span class="stringliteral">&#39;blue&#39;</span>,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{graph_slider}-&gt;signal_connect_swapped (event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8ce51bb43f624cb45d011e5cc68e256f">onSliderEvent</a>, $self);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make the #Clusters textbox</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{clusters_group} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Group&#39;</span>,</div>
<div class="line">        x =&gt; 0,</div>
<div class="line">        y =&gt; 0,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{clusters_group}-&gt;lower_to_bottom();</div>
<div class="line"></div>
<div class="line">    $self-&gt;{clusters_rect} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{clusters_group},</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Rect&#39;</span>,</div>
<div class="line">        x1 =&gt; 0,</div>
<div class="line">        y1 =&gt; 0,</div>
<div class="line">        x2 =&gt; 0,</div>
<div class="line">        y2 =&gt;0,</div>
<div class="line">        <span class="stringliteral">&#39;fill-color&#39;</span> =&gt; <span class="stringliteral">&#39;blue&#39;</span>,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    $self-&gt;{clusters_text} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{clusters_group},</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Text&#39;</span>,</div>
<div class="line">        x =&gt; 0,</div>
<div class="line">        y =&gt; 0,</div>
<div class="line">        anchor =&gt; <span class="stringliteral">&#39;nw&#39;</span>,</div>
<div class="line">        fill_color_gdk =&gt; COLOUR_WHITE,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab26c18dcd71d0e98a8b76abbb8e328cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::makeTotalLengthArray </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeTotalLengthArray' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeTotalLengthArray-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeTotalLengthArray-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeTotalLengthArray-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeTotalLengthArray: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ab26c18dcd71d0e98a8b76abbb8e328cc">makeTotalLengthArray</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my @array;</div>
<div class="line">    my $lf = $self-&gt;{length_func};</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ae897e3660608d97f83142a030b413c19">makeTotalLengthArrayInner</a>($self-&gt;{tree_node}, 0, \@array, $lf);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Sort it</span></div>
<div class="line"><span class="preprocessor"></span>    @array = sort {</div>
<div class="line">        $a-&gt;get_value(<span class="stringliteral">&#39;total_length_gui&#39;</span>) &lt;=&gt; $b-&gt;get_value(<span class="stringliteral">&#39;total_length_gui&#39;</span>)</div>
<div class="line">        } @array;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{total_lengths_array} = \@array;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae897e3660608d97f83142a030b413c19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::makeTotalLengthArrayInner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-makeTotalLengthArrayInner' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-makeTotalLengthArrayInner-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-makeTotalLengthArrayInner-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-makeTotalLengthArrayInner-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in makeTotalLengthArrayInner: 14</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ae897e3660608d97f83142a030b413c19">makeTotalLengthArrayInner</a> {</div>
<div class="line">    my ($node, $length_so_far, $array, $lf) = @_;</div>
<div class="line"></div>
<div class="line">    $node-&gt;set_value(total_length_gui =&gt; $length_so_far);</div>
<div class="line">    push @{$array}, $node;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Do the children</span></div>
<div class="line"><span class="preprocessor"></span>    my $length_total = &amp;$lf($node) + $length_so_far;</div>
<div class="line">    <span class="keywordflow">foreach</span> my $child ($node-&gt;get_children) {</div>
<div class="line">        <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ae897e3660608d97f83142a030b413c19">makeTotalLengthArrayInner</a>($child, $length_total, $array, $lf);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="abe626842c0077782556b83bcb96847db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::mapElementsToClusters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-mapElementsToClusters' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-mapElementsToClusters-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-mapElementsToClusters-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-mapElementsToClusters-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in mapElementsToClusters: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#abe626842c0077782556b83bcb96847db">mapElementsToClusters</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $cluster_nodes = shift;</div>
<div class="line"></div>
<div class="line">    my %map;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $node_ref (@$cluster_nodes) {</div>
<div class="line"></div>
<div class="line">        my $terminal_elements = $node_ref-&gt;get_terminal_elements();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> my $elt (keys %$terminal_elements) {</div>
<div class="line">            $map{ $elt } = $node_ref;</div>
<div class="line"><span class="preprocessor">            #print &quot;[mapElementsToClusters] $elt-&gt;$node_ref\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{element_to_cluster} = \%map;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa45a4a3fe582789e8557cd2115c35e36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::markElements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-markElements' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-markElements-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-markElements-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-markElements-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in markElements: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aa45a4a3fe582789e8557cd2115c35e36">markElements</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $node = shift;</div>
<div class="line"></div>
<div class="line">    my $terminal_elements = (defined $node) ? $node-&gt;get_terminal_elements : {};</div>
<div class="line">    $self-&gt;{map}-&gt;markIfExists( $terminal_elements, <span class="stringliteral">&#39;circle&#39;</span> );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a783082eb0d6e9973306b3fa58d0d37c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::max </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-max' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-max-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-max-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-max-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in max: 3</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a783082eb0d6e9973306b3fa58d0d37c4">max</a> {</div>
<div class="line">    <span class="keywordflow">return</span> ($_[0] &gt; $_[1]) ? $_[0] : $_[1];</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aabe86094ea530c529b6a3f676f842c42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-new' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in new: 120</span></div>
<div class="line"><span class="preprocessor"></span>sub <span class="keyword">new</span> {</div>
<div class="line"><span class="preprocessor">    #  FIXME FIXME this sub desperately needs to use a hash of key-value pairs</span></div>
<div class="line"><span class="preprocessor"></span>    my $class           = shift;</div>
<div class="line">    my $mainFrame       = shift;    # GTK frame to add dendrogram</div>
<div class="line">    my $graphFrame      = shift;    # GTK frame <span class="keywordflow">for</span> the graph (below!)</div>
<div class="line">    my $hscroll         = shift;</div>
<div class="line">    my $vscroll         = shift;</div>
<div class="line">    my $map             = shift;    <span class="preprocessor"># Grid.pm object of the dataset to link in</span></div>
<div class="line"><span class="preprocessor"></span>    my $map_list_combo  = shift;    # Combo <span class="keywordflow">for</span> selecting how to colour the grid (based on spatial result or cluster)</div>
<div class="line">    my $map_index_combo = shift;    # Combo <span class="keywordflow">for</span> selecting how to colour the grid (which spatial result)</div>
<div class="line"></div>
<div class="line">    my $grey = 0.9 * 255 * 257;</div>
<div class="line"></div>
<div class="line">    my $self = {</div>
<div class="line">        map                 =&gt; $map,</div>
<div class="line">        map_index_combo     =&gt; $map_index_combo,</div>
<div class="line">        map_list_combo      =&gt; $map_list_combo,</div>
<div class="line">        num_clusters        =&gt; 6,</div>
<div class="line">        zoom_fit            =&gt; 1,</div>
<div class="line">        dragging            =&gt; 0,</div>
<div class="line">        sliding             =&gt; 0,</div>
<div class="line">        unscaled_slider_x   =&gt; 0,</div>
<div class="line">        group_mode          =&gt; <span class="stringliteral">&#39;length&#39;</span>,</div>
<div class="line">        width_px            =&gt; 0,</div>
<div class="line">        height_px           =&gt; 0,</div>
<div class="line">        render_width        =&gt; 0,</div>
<div class="line">        render_height       =&gt; 0,</div>
<div class="line">        graph_height_px     =&gt; 0,</div>
<div class="line">        use_slider_to_select_nodes =&gt; 1,</div>
<div class="line">        colour_not_in_tree  =&gt; Gtk2::Gdk::Color-&gt;new($grey, $grey, $grey),</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hover_func}         = shift || undef; #Callback <span class="keyword">function</span> <span class="keywordflow">for</span> when users move mouse over a cell</div>
<div class="line">    $self-&gt;{highlight_func}     = shift || undef; #Callback <span class="keyword">function</span> to highlight elements</div>
<div class="line">    $self-&gt;{use_highlight_func} = 1;  #  should we highlight?</div>
<div class="line">    $self-&gt;{ctrl_click_func}    = shift || undef; #Callback <span class="keyword">function</span> <span class="keywordflow">for</span> when users control-click on a cell</div>
<div class="line">    $self-&gt;{click_func}         = shift || undef; #Callback <span class="keyword">function</span> <span class="keywordflow">for</span> when users click on a cell</div>
<div class="line">    $self-&gt;{parent_tab}         = shift;</div>
<div class="line"></div>
<div class="line">    my $basedata_ref = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (defined $self-&gt;{parent_tab}) {</div>
<div class="line">        weaken $self-&gt;{parent_tab};</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (defined $basedata_ref) {</div>
<div class="line">        $self-&gt;{basedata_ref} = $basedata_ref;</div>
<div class="line">        weaken $self-&gt;{basedata_ref};</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # starting off with the &quot;clustering&quot; view, not a spatial analysis</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{sp_list}  = undef;</div>
<div class="line">    $self-&gt;{sp_index} = undef;</div>
<div class="line">    bless $self, $class;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make and hook up the canvases</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{canvas} = Gnome2::Canvas-&gt;new();</div>
<div class="line">    $self-&gt;{graph}  = Gnome2::Canvas-&gt;new();</div>
<div class="line">    $mainFrame-&gt;add( $self-&gt;{canvas} );</div>
<div class="line">    $graphFrame-&gt;add( $self-&gt;{graph} );</div>
<div class="line">    $self-&gt;{canvas}-&gt;signal_connect_swapped (</div>
<div class="line">        size_allocate =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#adfca076abc709c2aff37a23931abcd7a">onResize</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{graph}-&gt;signal_connect_swapped(</div>
<div class="line">        size_allocate =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a26781460392259f8f17907897c8fb28b">onGraphResize</a>,</div>
<div class="line">        $self,</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set up custom scrollbars due to flicker problems whilst panning..</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{hadjust} = Gtk2::Adjustment-&gt;new(0, 0, 1, 1, 1, 1);</div>
<div class="line">    $self-&gt;{vadjust} = Gtk2::Adjustment-&gt;new(0, 0, 1, 1, 1, 1);</div>
<div class="line"></div>
<div class="line">    $hscroll-&gt;set_adjustment( $self-&gt;{hadjust} );</div>
<div class="line">    $vscroll-&gt;set_adjustment( $self-&gt;{vadjust} );</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hadjust}-&gt;signal_connect_swapped(<span class="stringliteral">&#39;value-changed&#39;</span>, \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a81bf3f60972baca30de6b7a76e03f0f4">onHScroll</a>, $self);</div>
<div class="line">    $self-&gt;{vadjust}-&gt;signal_connect_swapped(<span class="stringliteral">&#39;value-changed&#39;</span>, \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a7fb36b117a0c14f2cb8d07fc7312295c">onVScroll</a>, $self);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Set up canvas</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{canvas}-&gt;set_center_scroll_region(0);</div>
<div class="line">    $self-&gt;{canvas}-&gt;show;</div>
<div class="line">    $self-&gt;{graph}-&gt;set_center_scroll_region(0);</div>
<div class="line">    $self-&gt;{graph}-&gt;show;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{length_scale} = 1;</div>
<div class="line">    $self-&gt;{height_scale} = 1;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Create background rectange to receive mouse events for panning</span></div>
<div class="line"><span class="preprocessor"></span>    my $rect = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Rect&#39;</span>,</div>
<div class="line">        x1 =&gt; 0,</div>
<div class="line">        y1 =&gt; 0,</div>
<div class="line">        x2 =&gt; 1,</div>
<div class="line">        y2 =&gt; 1,</div>
<div class="line">        fill_color_gdk =&gt; COLOUR_WHITE</div>
<div class="line"><span class="preprocessor">        #fill_color =&gt; &quot;blue&quot;,</span></div>
<div class="line"><span class="preprocessor"></span>    );</div>
<div class="line"></div>
<div class="line">    $rect-&gt;lower_to_bottom();</div>
<div class="line">    $self-&gt;{canvas}-&gt;root-&gt;signal_connect_swapped (event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a6c63bb2210db9d750cfcf55b73d19f17">onBackgroundEvent</a>, $self);</div>
<div class="line">    $self-&gt;{back_rect} = $rect;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Process changes for the map</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($map_index_combo) {</div>
<div class="line">        $map_index_combo-&gt;signal_connect_swapped(</div>
<div class="line">            changed =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a1b939705153a039f51fb234ad1d51e11">onMapIndexComboChanged</a>,</div>
<div class="line">            $self,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ($map_list_combo) {</div>
<div class="line">        $map_list_combo-&gt;signal_connect_swapped (</div>
<div class="line">            changed =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ae87920701c5f2d8527465432c76daabf">onMapListComboChanged</a>,</div>
<div class="line">            $self</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> $self;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a2e544a466dbebf3ce7a91ac283b91b42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::numerically </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-numerically' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-numerically-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-numerically-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-numerically-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in numerically: 1</span></div>
<div class="line"><span class="preprocessor">sub numerically {$a &lt;=&gt; $b};</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a6c63bb2210db9d750cfcf55b73d19f17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onBackgroundEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onBackgroundEvent' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onBackgroundEvent-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onBackgroundEvent-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onBackgroundEvent-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onBackgroundEvent: 79</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a6c63bb2210db9d750cfcf55b73d19f17">onBackgroundEvent</a> {</div>
<div class="line">    my ($self, $event, $item) = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ( $event-&gt;type eq <span class="stringliteral">&#39;button-press&#39;</span>) {</div>
<div class="line">        <span class="keywordflow">if</span> ($event-&gt;button == 1) {</div>
<div class="line">            $self-&gt;doColourNodesBelow;  #  no arg will <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a45d09b265dfbbe3bd5e4273ad11f43b8">clear</a> colouring</div>
<div class="line">            <span class="keywordflow">if</span> (defined $self-&gt;{click_func}) {</div>
<div class="line">                my $f = $self-&gt;{click_func};</div>
<div class="line">                &amp;$f();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            ($self-&gt;{drag_x}, $self-&gt;{drag_y}) = $event-&gt;coords;</div>
<div class="line"></div>
<div class="line">            # Grab mouse</div>
<div class="line">            $item-&gt;grab ([qw/pointer-motion-mask button-release-mask/],</div>
<div class="line">                         Gtk2::Gdk::Cursor-&gt;new (<span class="stringliteral">&#39;fleur&#39;</span>),</div>
<div class="line">                        $event-&gt;time</div>
<div class="line">                        );</div>
<div class="line">            $self-&gt;{dragging} = 1;</div>
<div class="line">            $self-&gt;{dragged}  = 0;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ( $event-&gt;type eq <span class="stringliteral">&#39;button-release&#39;</span>) {</div>
<div class="line"></div>
<div class="line">        $item-&gt;ungrab ($event-&gt;time);</div>
<div class="line">        $self-&gt;{dragging} = 0;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # FIXME: WHAT IS THIS (obsolete??)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # If clicked without dragging, we also remove the element mark (see onEvent)</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (not $self-&gt;{dragged}) {</div>
<div class="line"><span class="preprocessor">            #$self-&gt;markElements(undef);</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="keywordflow">if</span> ($self-&gt;{click_line}) {</div>
<div class="line">                $self-&gt;{click_line}-&gt;set(fill_color =&gt; <span class="stringliteral">&#39;black&#39;</span>);</div>
<div class="line">            }</div>
<div class="line">            $self-&gt;{click_line} = undef;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    elsif ( $event-&gt;type eq <span class="stringliteral">&#39;motion-notify&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #if ($self-&gt;{dragging} &amp;&amp; $event-&gt;state &gt;= &#39;button1-mask&#39; ) {</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($self-&gt;{dragging}) {</div>
<div class="line"><span class="preprocessor">            # Work out how much we&#39;ve moved away from last time</span></div>
<div class="line"><span class="preprocessor"></span>            my ($x, $y) = $event-&gt;coords;</div>
<div class="line">            my ($dx, $dy) = ($x - $self-&gt;{drag_x}, $y - $self-&gt;{drag_y});</div>
<div class="line">            $self-&gt;{drag_x} = $x;</div>
<div class="line">            $self-&gt;{drag_y} = $y;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Convert into scaled coords</span></div>
<div class="line"><span class="preprocessor"></span>            $self-&gt;{centre_x} = $self-&gt;{centre_x} * $self-&gt;{length_scale};</div>
<div class="line">            $self-&gt;{centre_y} = $self-&gt;{centre_y} * $self-&gt;{height_scale};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Scroll</span></div>
<div class="line"><span class="preprocessor"></span>            $self-&gt;{centre_x} = <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a15530d044a9a4a43bbc729038cdac4e0">clamp</a> (</div>
<div class="line">                $self-&gt;{centre_x} - $dx,</div>
<div class="line">                $self-&gt;{width_px}/2,</div>
<div class="line">                $self-&gt;{render_width}-$self-&gt;{width_px}/2</div>
<div class="line">            ) ;</div>
<div class="line">            $self-&gt;{centre_y} = <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a15530d044a9a4a43bbc729038cdac4e0">clamp</a> (</div>
<div class="line">                $self-&gt;{centre_y}-$dy,</div>
<div class="line">                $self-&gt;{height_px}/2,</div>
<div class="line">                $self-&gt;{render_height}-$self-&gt;{height_px}/2</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Convert into world coords</span></div>
<div class="line"><span class="preprocessor"></span>            $self-&gt;{centre_x} = $self-&gt;{centre_x} / $self-&gt;{length_scale};</div>
<div class="line">            $self-&gt;{centre_y} = $self-&gt;{centre_y} / $self-&gt;{height_scale};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            #print &quot;[Pan] panned\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>            $self-&gt;centreTree();</div>
<div class="line">            $self-&gt;updateScrollbars();</div>
<div class="line"></div>
<div class="line">            $self-&gt;{dragged} = 1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;    </div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af64e34a27d4bb3da54872af3081b9bf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onEvent' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onEvent-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onEvent-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onEvent-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onEvent: 92</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af64e34a27d4bb3da54872af3081b9bf8">onEvent</a> {</div>
<div class="line">    my ($self, $event, $line) = @_;</div>
<div class="line"></div>
<div class="line">    my $node = $line-&gt;{node};</div>
<div class="line">    my $f;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($event-&gt;type eq <span class="stringliteral">&#39;enter-notify&#39;</span>) {</div>
<div class="line"><span class="preprocessor">        #print &quot;enter - &quot; . $node-&gt;get_name() . &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # Call client-defined callback function</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (defined $self-&gt;{hover_func}) {</div>
<div class="line">            $f = $self-&gt;{hover_func};</div>
<div class="line">            &amp;$f($node);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Call client-defined callback function</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (defined $self-&gt;{highlight_func}</div>
<div class="line">            and $self-&gt;{use_highlight_func}</div>
<div class="line">            and not $self-&gt;{click_line}) {</div>
<div class="line"></div>
<div class="line">            $f = $self-&gt;{highlight_func};</div>
<div class="line">            &amp;$f($node);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #if (not $self-&gt;{click_line}) {</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #$self-&gt;{hover_line}-&gt;set(fill_color =&gt; &#39;black&#39;) if $self-&gt;{hover_line};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #$line-&gt;set(fill_color =&gt; &#39;red&#39;) if (not $self-&gt;{click_line});</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #$self-&gt;{hover_line} = $line;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #}</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # Change the cursor</span></div>
<div class="line"><span class="preprocessor"></span>        my $cursor = Gtk2::Gdk::Cursor-&gt;new(HOVER_CURSOR);</div>
<div class="line">        $self-&gt;{canvas}-&gt;window-&gt;set_cursor($cursor);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($event-&gt;type eq <span class="stringliteral">&#39;leave-notify&#39;</span>) {</div>
<div class="line"><span class="preprocessor">        #print &quot;leave - &quot; . $node-&gt;get_name() . &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # Call client-defined callback function</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (defined $self-&gt;{hover_func}) {</div>
<div class="line">            $f = $self-&gt;{hover_func};</div>
<div class="line">            &amp;$f(undef);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Call client-defined callback function</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> (defined $self-&gt;{highlight_func} and not $self-&gt;{click_line}) {</div>
<div class="line">            $f = $self-&gt;{highlight_func};</div>
<div class="line">            &amp;$f(undef);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #$line-&gt;set(fill_color =&gt; &#39;black&#39;) if (not $self-&gt;{click_line});</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # Change cursor back to default</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{canvas}-&gt;window-&gt;set_cursor(undef);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($event-&gt;type eq <span class="stringliteral">&#39;button-press&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # If middle-click or control-click call Clustering tab&#39;s callback (show/Hide popup dialog)</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($event-&gt;button == 2 || ($event-&gt;button == 1 and $event-&gt;state &gt;= [ <span class="stringliteral">&#39;control-mask&#39;</span> ]) ) {</div>
<div class="line">            <span class="keywordflow">if</span> (defined $self-&gt;{ctrl_click_func}) {</div>
<div class="line">                $f = $self-&gt;{ctrl_click_func};</div>
<div class="line">                &amp;$f($node);</div>
<div class="line">            }</div>
<div class="line"><span class="preprocessor">        # Just click - colour nodes</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line">        elsif ($event-&gt;button == 1) {</div>
<div class="line">            $self-&gt;doColourNodesBelow($node);</div>
<div class="line">            <span class="keywordflow">if</span> (defined $self-&gt;{click_func}) {</div>
<div class="line">                $f = $self-&gt;{click_func};</div>
<div class="line">                &amp;$f($node);</div>
<div class="line">            }</div>
<div class="line"><span class="preprocessor">        # Right click - set marks semi-permanently</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line">        elsif ($event-&gt;button == 3) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Restore previously clicked/hovered line</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #$self-&gt;{click_line}-&gt;set(fill_color =&gt; &#39;black&#39;) if $self-&gt;{click_line};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            #$self-&gt;{hover_line}-&gt;set(fill_color =&gt; &#39;black&#39;) if $self-&gt;{hover_line};</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">            # Call client-defined callback function</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="keywordflow">if</span> (defined $self-&gt;{highlight_func}) {</div>
<div class="line">                $f = $self-&gt;{highlight_func};</div>
<div class="line">                &amp;$f($node);</div>
<div class="line">            }</div>
<div class="line"><span class="preprocessor">            #$line-&gt;set(fill_color =&gt; &#39;red&#39;);</span></div>
<div class="line"><span class="preprocessor"></span>            $self-&gt;{click_line} = $line;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 1;    </div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a26781460392259f8f17907897c8fb28b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onGraphResize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onGraphResize' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onGraphResize-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onGraphResize-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onGraphResize-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onGraphResize: 16</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a26781460392259f8f17907897c8fb28b">onGraphResize</a> {</div>
<div class="line">    my ($self, $size) = @_;</div>
<div class="line">    $self-&gt;{graph_height_px} = $size-&gt;height;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (exists $self-&gt;{unscaled_width}) {</div>
<div class="line">        $self-&gt;renderTree;</div>
<div class="line">        $self-&gt;renderGraph;</div>
<div class="line">        $self-&gt;repositionSliders;</div>
<div class="line"></div>
<div class="line">        $self-&gt;centreTree;</div>
<div class="line">        $self-&gt;repositionSliders;</div>
<div class="line">        $self-&gt;setupScrollbars;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a81bf3f60972baca30de6b7a76e03f0f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onHScroll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onHScroll' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onHScroll-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onHScroll-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onHScroll-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onHScroll: 13</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a81bf3f60972baca30de6b7a76e03f0f4">onHScroll</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not $self-&gt;{dragging}) {</div>
<div class="line">        my $h = $self-&gt;{hadjust}-&gt;get_value;</div>
<div class="line">        $self-&gt;{centre_x} = ($h + $self-&gt;{width_px} / 2) / $self-&gt;{length_scale};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;[onHScroll] centre x:$self-&gt;{centre_x}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;centreTree;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a1b939705153a039f51fb234ad1d51e11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onMapIndexComboChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onMapIndexComboChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onMapIndexComboChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onMapIndexComboChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onMapIndexComboChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onMapIndexComboChanged: 32</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a1b939705153a039f51fb234ad1d51e11">onMapIndexComboChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $combo = shift || $self-&gt;{map_index_combo};</div>
<div class="line"></div>
<div class="line">    my $index = undef;</div>
<div class="line">    my $iter = $combo-&gt;get_active_iter;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($iter) {</div>
<div class="line"></div>
<div class="line">        $index = $combo-&gt;get_model-&gt;get($iter, 0);</div>
<div class="line">        $self-&gt;{analysis_list_index} = $index;</div>
<div class="line"></div>
<div class="line">        $self-&gt;{parent_tab}-&gt;onColourModeChanged;</div>
<div class="line"></div>
<div class="line">        my @minmax = $self-&gt;get_plot_min_max_values;</div>
<div class="line">        $self-&gt;{analysis_min} = $minmax[0];</div>
<div class="line">        $self-&gt;{analysis_max} = $minmax[1];</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;[Dendrogram] Setting grid to use (spatial) analysis $analysis\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{cluster_colour_mode} = <span class="stringliteral">&#39;list-values&#39;</span>;</div>
<div class="line">        $self-&gt;recolourClusterElements();</div>
<div class="line"></div>
<div class="line">        $self-&gt;recolourClusterLines($self-&gt;{processed_nodes});</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        $self-&gt;{analysis_list_index} = undef;</div>
<div class="line">        $self-&gt;{analysis_min}        = undef;</div>
<div class="line">        $self-&gt;{analysis_max}        = undef;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ae87920701c5f2d8527465432c76daabf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onMapListComboChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onMapListComboChanged' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onMapListComboChanged-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onMapListComboChanged-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onMapListComboChanged-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onMapListComboChanged: 35</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ae87920701c5f2d8527465432c76daabf">onMapListComboChanged</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $combo = shift || $self-&gt;{map_list_combo};</div>
<div class="line"></div>
<div class="line">    my $iter = $combo-&gt;get_active_iter;</div>
<div class="line">    my $model = $combo-&gt;get_model;</div>
<div class="line">    my $list = $model-&gt;get($iter, 0);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($list eq <span class="stringliteral">&#39;&lt;i&gt;Cluster&lt;/i&gt;&#39;</span>) {</div>
<div class="line"><span class="preprocessor">        # Selected cluster-palette-colouring mode</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #print &quot;[Dendrogram] Setting grid to use palette-based cluster colours\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        $self-&gt;{analysis_list_name}  = undef;</div>
<div class="line">        $self-&gt;{analysis_list_index} = undef;</div>
<div class="line">        $self-&gt;{analysis_min}        = undef;</div>
<div class="line">        $self-&gt;{analysis_max}        = undef;</div>
<div class="line"></div>
<div class="line">        $self-&gt;{cluster_colour_mode} = <span class="stringliteral">&#39;palette&#39;</span>;</div>
<div class="line">        $self-&gt;recolourClusterElements();</div>
<div class="line"></div>
<div class="line">        $self-&gt;recolourClusterLines($self-&gt;{processed_nodes});</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # blank out the other combo</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;setupMapIndexModel(undef);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">        # Selected analysis-colouring mode</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{analysis_list_name} = $list;</div>
<div class="line"></div>
<div class="line">        $self-&gt;setupMapIndexModel($self-&gt;{tree_node}-&gt;get_list_ref(list =&gt; $list));</div>
<div class="line">        $self-&gt;onMapIndexComboChanged();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="adfca076abc709c2aff37a23931abcd7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onResize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onResize' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onResize-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onResize-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onResize-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onResize: 42</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#adfca076abc709c2aff37a23931abcd7a">onResize</a> {</div>
<div class="line">    my ($self, $size)  = @_;</div>
<div class="line">    $self-&gt;{width_px}  = $size-&gt;width;</div>
<div class="line">    $self-&gt;{height_px} = $size-&gt;height;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  for debugging</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;{render_width} = $self-&gt;{width_px};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #$self-&gt;{render_height} = $self-&gt;{height_px};</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    my $resize_bk = 0;</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{render_width} == 0 || $self-&gt;{zoom_fit} == 1) {</div>
<div class="line">        $self-&gt;{render_width} = $size-&gt;width;</div>
<div class="line">        $resize_bk = 1;</div>
<div class="line"><span class="preprocessor">        #$self-&gt;resizeBackgroundRect();</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{render_height} == 0 || $self-&gt;{zoom_fit} == 1) {</div>
<div class="line">        $self-&gt;{render_height} = $size-&gt;height;</div>
<div class="line">        $resize_bk = 1;</div>
<div class="line"><span class="preprocessor">        #$self-&gt;resizeBackgroundRect();</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;resizeBackgroundRect() <span class="keywordflow">if</span> $resize_bk;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (exists $self-&gt;{unscaled_width}) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;[onResize] width px=$self-&gt;{width_px} render=$self-&gt;{render_width}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        #print &quot;[onResize] height px=$self-&gt;{height_px} render=$self-&gt;{render_height}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        $self-&gt;renderTree();</div>
<div class="line">        $self-&gt;renderGraph();</div>
<div class="line">        $self-&gt;centreTree();</div>
<div class="line"></div>
<div class="line">        $self-&gt;repositionSliders();</div>
<div class="line"></div>
<div class="line">        $self-&gt;setupScrollbars();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Set visible region</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{canvas}-&gt;set_scroll_region(0, 0, $size-&gt;width, $size-&gt;height);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a8ce51bb43f624cb45d011e5cc68e256f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onSliderEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onSliderEvent' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onSliderEvent-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onSliderEvent-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onSliderEvent-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onSliderEvent: 93</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8ce51bb43f624cb45d011e5cc68e256f">onSliderEvent</a> {</div>
<div class="line">    my ($self, $event, $item) = @_;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($event-&gt;type eq <span class="stringliteral">&#39;enter-notify&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;Slider - enter\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # Show #clusters</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{clusters_group}-&gt;show;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Change the cursor</span></div>
<div class="line"><span class="preprocessor"></span>        my $cursor = Gtk2::Gdk::Cursor-&gt;new(<span class="stringliteral">&#39;sb-h-double-arrow&#39;</span>);</div>
<div class="line">        $self-&gt;{canvas}-&gt;window-&gt;set_cursor($cursor);</div>
<div class="line">        $self-&gt;{graph}-&gt;window-&gt;set_cursor($cursor);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($event-&gt;type eq <span class="stringliteral">&#39;leave-notify&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;Slider - leave\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # hide #clusters</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{clusters_group}-&gt;hide;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Change cursor back to default</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{canvas}-&gt;window-&gt;set_cursor(undef);</div>
<div class="line">        $self-&gt;{graph}-&gt;window-&gt;set_cursor(undef);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ( $event-&gt;type eq <span class="stringliteral">&#39;button-press&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;Slider - press\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        ($self-&gt;{pan_start_x}, $self-&gt;{pan_start_y}) = $event-&gt;coords;</div>
<div class="line"></div>
<div class="line">        # Grab mouse</div>
<div class="line">        $item-&gt;grab (</div>
<div class="line">            [qw/pointer-motion-mask button-release-mask/],</div>
<div class="line">            Gtk2::Gdk::Cursor-&gt;new (<span class="stringliteral">&#39;fleur&#39;</span>),</div>
<div class="line">            $event-&gt;time,</div>
<div class="line">        );</div>
<div class="line">        $self-&gt;{sliding} = 1;</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ( $event-&gt;type eq <span class="stringliteral">&#39;button-release&#39;</span>) {</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;Slider - release\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        $item-&gt;ungrab ($event-&gt;time);</div>
<div class="line">        $self-&gt;{sliding} = 0;</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ( $event-&gt;type eq <span class="stringliteral">&#39;motion-notify&#39;</span>) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;{sliding}) {</div>
<div class="line"><span class="preprocessor">            #print &quot;Slider - slide\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">            # Sliding..</span></div>
<div class="line"><span class="preprocessor"></span>            my ($x, $y) = $event-&gt;coords;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Clamp $x</span></div>
<div class="line"><span class="preprocessor"></span>            my $min_x = 0;</div>
<div class="line">            my $max_x = $self-&gt;{width_px};</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ($x &lt; $min_x) {</div>
<div class="line">                $x = $min_x ;</div>
<div class="line">            }</div>
<div class="line">            elsif ($x &gt; $max_x) {</div>
<div class="line">                $x = $max_x;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Move slider and related graphics</span></div>
<div class="line"><span class="preprocessor"></span>            my $x2 = $x + SLIDER_WIDTH;</div>
<div class="line">            $self-&gt;{slider}-&gt;        <span class="keyword">set</span>(x1 =&gt; $x, x2 =&gt; $x2);</div>
<div class="line">            $self-&gt;{graph_slider}-&gt;  <span class="keyword">set</span>(x1 =&gt; $x, x2 =&gt; $x2);</div>
<div class="line">            $self-&gt;{clusters_group}-&gt;set(x =&gt; $x2);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Calculate how far the slider is length-wise</span></div>
<div class="line"><span class="preprocessor"></span>            my $xoffset = $self-&gt;{centre_x}</div>
<div class="line">                            $self-&gt;{length_scale}</div>
<div class="line">                          - $self-&gt;{width_px} / 2;</div>
<div class="line"></div>
<div class="line">            $self-&gt;{unscaled_slider_x} = ($x + $xoffset) / $self-&gt;{length_scale};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            #print &quot;[doSliderMove] x=$x pos=$self-&gt;{unscaled_slider_x}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            $self-&gt;doSliderMove($self-&gt;{unscaled_slider_x});</div>
<div class="line"></div>
<div class="line">            $self-&gt;repositionClustersTextbox($x);</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">            #print &quot;Slider - motion\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 1;    </div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a7fb36b117a0c14f2cb8d07fc7312295c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::onVScroll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-onVScroll' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-onVScroll-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-onVScroll-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-onVScroll-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in onVScroll: 13</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a7fb36b117a0c14f2cb8d07fc7312295c">onVScroll</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (not $self-&gt;{dragging}) {</div>
<div class="line">        my $v = $self-&gt;{vadjust}-&gt;get_value;</div>
<div class="line">        $self-&gt;{centre_y} = ($v + $self-&gt;{height_px} / 2) / $self-&gt;{height_scale};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #print &quot;[onVScroll] centre y:$self-&gt;{centre_y}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;centreTree;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a1a6c6b1769289e829bbf90ca1149c919"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::postZoom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-postZoom' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-postZoom-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-postZoom-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-postZoom-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in postZoom: 26</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a1a6c6b1769289e829bbf90ca1149c919">postZoom</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;renderTree();</div>
<div class="line">    $self-&gt;renderGraph();</div>
<div class="line">    $self-&gt;repositionSliders();</div>
<div class="line">    $self-&gt;resizeBackgroundRect();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Convert into scaled coords</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{centre_x} = $self-&gt;{centre_x} * $self-&gt;{length_scale};</div>
<div class="line">    $self-&gt;{centre_y} = $self-&gt;{centre_y} * $self-&gt;{height_scale};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Scroll</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{centre_x} = <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a15530d044a9a4a43bbc729038cdac4e0">clamp</a>($self-&gt;{centre_x}, $self-&gt;{width_px}/2, $self-&gt;{render_width}-$self-&gt;{width_px}/2) ;</div>
<div class="line">    $self-&gt;{centre_y} = <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a15530d044a9a4a43bbc729038cdac4e0">clamp</a>($self-&gt;{centre_y}, $self-&gt;{height_px}/2, $self-&gt;{render_height}-$self-&gt;{height_px}/2);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Convert into world coords</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{centre_x} = $self-&gt;{centre_x} / $self-&gt;{length_scale};</div>
<div class="line">    $self-&gt;{centre_y} = $self-&gt;{centre_y} / $self-&gt;{height_scale};</div>
<div class="line"></div>
<div class="line">    $self-&gt;centreTree();</div>
<div class="line">    $self-&gt;setupScrollbars();</div>
<div class="line">    $self-&gt;updateScrollbars();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a5b35a87fa3cf09ebc67f7f75a01604e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::recolour </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-recolour' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-recolour-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-recolour-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-recolour-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in recolour: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a5b35a87fa3cf09ebc67f7f75a01604e2">recolour</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{colour_start_node}) {</div>
<div class="line">        $self-&gt;doColourNodesBelow($self-&gt;{colour_start_node});</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a33dfdc00b3dfbc63d24e689c1a02b3f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::recolourClusterElements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-recolourClusterElements' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-recolourClusterElements-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-recolourClusterElements-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-recolourClusterElements-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in recolourClusterElements: 89</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a33dfdc00b3dfbc63d24e689c1a02b3f4">recolourClusterElements</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my $map = $self-&gt;{map};</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not defined $map;</div>
<div class="line"></div>
<div class="line">    my $list_name = $self-&gt;{analysis_list_name};</div>
<div class="line">    my $list_index = $self-&gt;{analysis_list_index};</div>
<div class="line">    my $analysis_min = $self-&gt;{analysis_min};</div>
<div class="line">    my $analysis_max = $self-&gt;{analysis_max};</div>
<div class="line">    my $terminal_elements = $self-&gt;{terminal_elements};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # sets colours according to palette</span></div>
<div class="line"><span class="preprocessor"></span>    my $palette_colour_func = sub {</div>
<div class="line">        my $elt = shift;</div>
<div class="line">        my $cluster_node = $self-&gt;{element_to_cluster}{$elt};</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($cluster_node) {</div>
<div class="line">            my $colour_ref = $self-&gt;{node_palette_colours}{$cluster_node-&gt;get_name};</div>
<div class="line">            <span class="keywordflow">return</span> $colour_ref <span class="keywordflow">if</span> $colour_ref;</div>
<div class="line">            <span class="keywordflow">return</span> COLOUR_PALETTE_OVERFLOW;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">if</span> (exists $terminal_elements-&gt;{$elt}) {</div>
<div class="line"><span class="preprocessor">                # in tree</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="keywordflow">return</span> COLOUR_OUTSIDE_SELECTION;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                # not even in the tree</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="keywordflow">return</span> $self-&gt;get_colour_not_in_tree;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        die <span class="stringliteral">&quot;how did I get here?\n&quot;</span>;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # sets colours according to (usually spatial) list value for the element&#39;s cluster</span></div>
<div class="line"><span class="preprocessor"></span>    my $list_value_colour_func = sub {</div>
<div class="line">        my $elt = shift;</div>
<div class="line"></div>
<div class="line">        my $cluster_node = $self-&gt;{element_to_cluster}{$elt};</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($cluster_node) {</div>
<div class="line"></div>
<div class="line">            my $list_ref = $cluster_node-&gt;get_list_ref (list =&gt; $list_name);</div>
<div class="line">            my $val = defined $list_ref</div>
<div class="line">                ? $list_ref-&gt;{$list_index}</div>
<div class="line">                : undef;  #  allows <span class="keywordflow">for</span> missing lists</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (defined $val) {</div>
<div class="line">                <span class="keywordflow">return</span> $map-&gt;getColour ($val, $analysis_min, $analysis_max);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="keywordflow">return</span> COLOUR_LIST_UNDEF;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">if</span> (exists $terminal_elements-&gt;{$elt}) {</div>
<div class="line"><span class="preprocessor">                # in tree</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="keywordflow">return</span> COLOUR_OUTSIDE_SELECTION;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">                # not even in the tree</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="keywordflow">return</span> $self-&gt;get_colour_not_in_tree;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        die <span class="stringliteral">&quot;how did I get here?\n&quot;</span>;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print Data::Dumper::Dumper(keys %{$self-&gt;{element_to_cluster}});</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{cluster_colour_mode} eq <span class="stringliteral">&#39;palette&#39;</span>) {</div>
<div class="line"></div>
<div class="line">        $map-&gt;colour($palette_colour_func);</div>
<div class="line"><span class="preprocessor">        #FIXME: should hide the legend (currently broken - legend never shows up again)</span></div>
<div class="line"><span class="preprocessor"></span>        $map-&gt;setLegendMinMax(0, 0);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    elsif ($self-&gt;{cluster_colour_mode} eq <span class="stringliteral">&#39;list-values&#39;</span>) {</div>
<div class="line"></div>
<div class="line">        $map-&gt;colour($list_value_colour_func);</div>
<div class="line">        $map-&gt;setLegendMinMax($analysis_min, $analysis_max);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        die <span class="stringliteral">&quot;bad cluster colouring mode: &quot;</span> . $self-&gt;{cluster_colour_mode};</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a7c047ecca47e800ec262843670131981"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::recolourClusterLines </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-recolourClusterLines' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-recolourClusterLines-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-recolourClusterLines-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-recolourClusterLines-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in recolourClusterLines: 73</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a7c047ecca47e800ec262843670131981">recolourClusterLines</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $cluster_nodes = shift;</div>
<div class="line"></div>
<div class="line">    my ($colour_ref, $line, $list_ref, $val);</div>
<div class="line">    my %coloured_nodes;</div>
<div class="line">    tie %coloured_nodes, <span class="stringliteral">&#39;Tie::RefHash&#39;</span>;</div>
<div class="line"></div>
<div class="line">    my $map = $self-&gt;{map};</div>
<div class="line">    my $list_name = $self-&gt;{analysis_list_name};</div>
<div class="line">    my $list_index = $self-&gt;{analysis_list_index};</div>
<div class="line">    my $analysis_min = $self-&gt;{analysis_min};</div>
<div class="line">    my $analysis_max = $self-&gt;{analysis_max};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">foreach</span> my $node_ref (@$cluster_nodes) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;{cluster_colour_mode} eq <span class="stringliteral">&#39;palette&#39;</span>) {</div>
<div class="line">            $colour_ref = $self-&gt;{node_palette_colours}{$node_ref-&gt;get_name} || COLOUR_RED;</div>
<div class="line">        }</div>
<div class="line">        elsif ($self-&gt;{cluster_colour_mode} eq <span class="stringliteral">&#39;list-values&#39;</span>) {</div>
<div class="line"></div>
<div class="line">            $list_ref = $node_ref-&gt;get_list_ref (list =&gt; $list_name);</div>
<div class="line">            $val = defined $list_ref</div>
<div class="line">                ? $list_ref-&gt;{$list_index}</div>
<div class="line">                : undef;  #  allows <span class="keywordflow">for</span> missing lists</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (defined $val) {</div>
<div class="line">                $colour_ref = $map-&gt;getColour ($val, $analysis_min, $analysis_max);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                $colour_ref = undef;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            die <span class="stringliteral">&quot;unknown colouring mode&quot;</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        #$node_ref-&gt;set_cached_value(__gui_colour =&gt; $colour_ref);</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{node_colours_cache}{$node_ref-&gt;get_name} = $colour_ref;</div>
<div class="line">        $colour_ref = $colour_ref || DEFAULT_LINE_COLOUR; # <span class="keywordflow">if</span> colour undef-&gt;we<span class="stringliteral">&#39;re clearing back to default</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        $line = $self-&gt;{node_lines}-&gt;{$node_ref-&gt;get_name};</span></div>
<div class="line"><span class="stringliteral">        $line-&gt;set(fill_color_gdk =&gt; $colour_ref);</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        # And also colour all nodes below</span></div>
<div class="line"><span class="stringliteral">        foreach my $child_ref (@{$node_ref-&gt;get_children}) {</span></div>
<div class="line"><span class="stringliteral">            $self-&gt;colourLines($child_ref, $colour_ref, \%coloured_nodes);</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        $coloured_nodes{$node_ref} = (); # mark as coloured</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    #print Data::Dumper::Dumper(keys %coloured_nodes);</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    if ($self-&gt;{recolour_nodes}) {</span></div>
<div class="line"><span class="stringliteral">        #print &quot;[Dendrogram] Recolouring &quot;, scalar keys %{ $self-&gt;{recolour_nodes} }, &quot; nodes\n&quot;;</span></div>
<div class="line"><span class="stringliteral">        # uncolour previously coloured nodes that aren&#39;</span>t being coloured <span class="keyword">this</span> time</div>
<div class="line">        <span class="keywordflow">foreach</span> my $node (keys %{ $self-&gt;{recolour_nodes} }) {</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (not exists $coloured_nodes{$node}) {</div>
<div class="line">                my $name = $node-&gt;get_name;</div>
<div class="line">                $self-&gt;{node_lines}-&gt;{$name}-&gt;set(fill_color_gdk =&gt; DEFAULT_LINE_COLOUR);</div>
<div class="line"><span class="preprocessor">                #$node-&gt;set_cached_value(__gui_colour =&gt; DEFAULT_LINE_COLOUR);</span></div>
<div class="line"><span class="preprocessor"></span>                $self-&gt;{node_colours_cache}{$name} = DEFAULT_LINE_COLOUR;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">        #print &quot;[Dendrogram] Recoloured nodes\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line">    $self-&gt;{recolour_nodes} = \%coloured_nodes;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a9d1425232b107902bba6a3ac66232468"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::renderGraph </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-renderGraph' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-renderGraph-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-renderGraph-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-renderGraph-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in renderGraph: 84</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a9d1425232b107902bba6a3ac66232468">renderGraph</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $lengths = $self-&gt;{total_lengths_array};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{render_width} == 0) {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $graph_height_units = $self-&gt;{graph_height_px};</div>
<div class="line">    $self-&gt;{graph_height_units} = $graph_height_units;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Delete old lines</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{graph_group}) {</div>
<div class="line">        $self-&gt;{graph_group}-&gt;destroy();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make group so we can transform everything together</span></div>
<div class="line"><span class="preprocessor"></span>    my $graph_group = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{graph}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Group&#39;</span>,</div>
<div class="line">        x =&gt; 0,</div>
<div class="line">        y =&gt; 0</div>
<div class="line">    );</div>
<div class="line">    $graph_group-&gt;lower_to_bottom();</div>
<div class="line">    $self-&gt;{graph_group} = $graph_group;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Draw the graph from right-to-left</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #  starting from the top of the tree</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # Note: &quot;length&quot; here usually means length to the right of the node (towards root)</span></div>
<div class="line"><span class="preprocessor"></span>    my $start_length = $lengths-&gt;[0]-&gt;get_value(<span class="stringliteral">&#39;total_length_gui&#39;</span>) * $self-&gt;{length_scale};</div>
<div class="line">    my $start_index = 0;</div>
<div class="line">    my $current_x = $self-&gt;{render_width}</div>
<div class="line">                    - ($self-&gt;{border_len}</div>
<div class="line">                       + $self-&gt;{neg_len}</div>
<div class="line">                       )</div>
<div class="line">                      $self-&gt;{length_scale}</div>
<div class="line">                    ;</div>
<div class="line">    my $previous_y;</div>
<div class="line">    my $y_offset; # <span class="keyword">this</span> puts the lowest y-value at the bottom of the graph - no wasted space</div>
<div class="line"></div>
<div class="line">    my @num_lengths = map { $_-&gt;get_value(<span class="stringliteral">&#39;total_length_gui&#39;</span>) } @$lengths;</div>
<div class="line"><span class="preprocessor">    #print &quot;[renderGraph] lengths: @num_lengths\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    #for (my $i = 0; $i &lt;= $#{$lengths}; $i++) {</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $i (0 .. $#{$lengths}) {</div>
<div class="line"></div>
<div class="line">        my $this_length = $lengths-&gt;[$i]-&gt;get_value(<span class="stringliteral">&#39;total_length_gui&#39;</span>) * $self-&gt;{length_scale};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">        # Start a new segment. We do this if since a few nodes can &quot;line up&quot; and thus have the same length</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordflow">if</span> ($this_length &gt; $start_length) {</div>
<div class="line"></div>
<div class="line">            my $segment_length = ($this_length - $start_length);</div>
<div class="line">            $start_length = $this_length;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Line height proportional to the percentage of nodes to the left of this one</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">            # At the start, it is max to give value zero - the y-axis goes top-to-bottom</span></div>
<div class="line"><span class="preprocessor"></span>            $y_offset = $y_offset || $#{$lengths};</div>
<div class="line">            my $segment_y = ($i * $graph_height_units) / $y_offset;</div>
<div class="line"><span class="preprocessor">            #print &quot;[renderGraph] segment_y=$segment_y current_x=$current_x\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            my $hline =  Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">                $graph_group,</div>
<div class="line">                <span class="stringliteral">&#39;Gnome2::Canvas::Line&#39;</span>,</div>
<div class="line">                points          =&gt; [$current_x - $segment_length, $segment_y, $current_x, $segment_y],</div>
<div class="line">                fill_color_gdk  =&gt; COLOUR_BLACK,</div>
<div class="line">                width_pixels    =&gt; NORMAL_WIDTH</div>
<div class="line">            );</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">            # Now the vertical line</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="keywordflow">if</span> ($previous_y) {</div>
<div class="line">                my $vline = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">                    $graph_group,</div>
<div class="line">                    <span class="stringliteral">&#39;Gnome2::Canvas::Line&#39;</span>,</div>
<div class="line">                    points          =&gt; [$current_x, $previous_y, $current_x, $segment_y],</div>
<div class="line">                    fill_color_gdk  =&gt; COLOUR_BLACK,</div>
<div class="line">                    width_pixels    =&gt; NORMAL_WIDTH</div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $previous_y = $segment_y;</div>
<div class="line">            $current_x -= $segment_length;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a7a359f9c1b806b79b0c28ef66a2fc332"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::renderTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-renderTree' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-renderTree-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-renderTree-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-renderTree-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in renderTree: 86</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a7a359f9c1b806b79b0c28ef66a2fc332">renderTree</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $tree = $self-&gt;{tree_node};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ($self-&gt;{render_width} == 0);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Remove any highlights. The lines highlightened are destroyed next,</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    # and may cause a crash when they get unhighlighted</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;clearHighlights;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{node_lines} = {};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Delete any old nodes</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{lines_group}-&gt;destroy() <span class="keywordflow">if</span> $self-&gt;{lines_group};</div>
<div class="line">    $self-&gt;{root_circle}-&gt;destroy() <span class="keywordflow">if</span> $self-&gt;{root_circle};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make group so we can transform everything together</span></div>
<div class="line"><span class="preprocessor"></span>    my $lines_group = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{canvas}-&gt;root,</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Group&#39;</span>,</div>
<div class="line">        x =&gt; 0,</div>
<div class="line">        y =&gt; 0</div>
<div class="line">    );</div>
<div class="line">    $self-&gt;{lines_group} = $lines_group;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Scaling values to make the rendered tree render_width by render_height</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{length_scale} = $self-&gt;{render_width}  / ($self-&gt;{unscaled_width}  || 1);</div>
<div class="line">    $self-&gt;{height_scale} = $self-&gt;{render_height} / ($self-&gt;{unscaled_height} || 1);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print &quot;[Dendrogram] Length scale = $self-&gt;{length_scale} Height scale = $self-&gt;{height_scale}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Recursive draw</span></div>
<div class="line"><span class="preprocessor"></span>    my $length_func = $self-&gt;{length_func};</div>
<div class="line">    my $root_offset = $self-&gt;{render_width}</div>
<div class="line">                      - ($self-&gt;{border_len}</div>
<div class="line">                         + $self-&gt;{neg_len}</div>
<div class="line">                         )</div>
<div class="line">                        $self-&gt;{length_scale}</div>
<div class="line">                      ;</div>
<div class="line"><span class="preprocessor">    #print &quot;[Dendrogram] root offset = $root_offset\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;$self-&gt;{render_width} - ($self-&gt;{border_len} + $self-&gt;{neg_len}) * $self-&gt;{length_scale}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;drawNode($tree, $root_offset, $length_func, $self-&gt;{length_scale}, $self-&gt;{height_scale});</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Draw a circle to mark out the root node</span></div>
<div class="line"><span class="preprocessor"></span>    my $root_y = $tree-&gt;get_value(<span class="stringliteral">&#39;_y&#39;</span>) * $self-&gt;{height_scale};</div>
<div class="line">    my $diameter = 0.5 * $self-&gt;{border_len} * $self-&gt;{length_scale};</div>
<div class="line">    $self-&gt;{root_circle} = Gnome2::Canvas::Item-&gt;new (</div>
<div class="line">        $self-&gt;{lines_group},</div>
<div class="line">        <span class="stringliteral">&#39;Gnome2::Canvas::Ellipse&#39;</span>,</div>
<div class="line">        x1 =&gt; $root_offset,</div>
<div class="line">        y1 =&gt; $root_y + $diameter / 2,</div>
<div class="line">        x2 =&gt; $root_offset + $diameter,</div>
<div class="line">        y2 =&gt; $root_y - $diameter / 2,</div>
<div class="line">        fill_color =&gt; <span class="stringliteral">&#39;brown&#39;</span></div>
<div class="line">    );</div>
<div class="line"><span class="preprocessor">    # Hook up the root-circle to the root!</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{root_circle}-&gt;signal_connect_swapped (event =&gt; \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af64e34a27d4bb3da54872af3081b9bf8">onEvent</a>, $self);</div>
<div class="line">    $self-&gt;{root_circle}-&gt;{node} =  $tree; # Remember the root (<span class="keywordflow">for</span> hovering, etc...)</div>
<div class="line"></div>
<div class="line">    $lines_group-&gt;lower_to_bottom();</div>
<div class="line">    $self-&gt;{root_circle}-&gt;lower_to_bottom();</div>
<div class="line">    $self-&gt;{back_rect}-&gt;lower_to_bottom();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (0) {</div>
<div class="line"><span class="preprocessor">        # Spent ages on this - not working - NO IDEA WHY!!</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">        # Draw an equilateral triangle to mark out the root node</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">        # Vertex pointing at the root, the up-down side half border_len behind</span></div>
<div class="line"><span class="preprocessor"></span>        my $perp_height = 0.5 * $self-&gt;{length_scale} *  $self-&gt;{border_len} / 1.732;  # 1.723 ~ sqrt(3)</div>
<div class="line">        my $triangle_path = Gnome2::Canvas::PathDef-&gt;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aabe86094ea530c529b6a3f676f842c42">new</a>;</div>
<div class="line">        $triangle_path-&gt;moveto($root_offset, $root_y);</div>
<div class="line">        $triangle_path-&gt;lineto($root_offset - 0.5 * $self-&gt;{border_len}, $root_y + $perp_height);</div>
<div class="line">        $triangle_path-&gt;lineto($root_offset - 0.5 * $self-&gt;{border_len}, $root_y - $perp_height);</div>
<div class="line">        $triangle_path-&gt;closepath();</div>
<div class="line"></div>
<div class="line">        my $triangle = Gnome2::Canvas::Item-&gt;new (  $lines_group,</div>
<div class="line">                                                    <span class="stringliteral">&quot;Gnome2::Canvas::Shape&quot;</span>,</div>
<div class="line">                                                    fill_color =&gt; <span class="stringliteral">&quot;green&quot;</span>,</div>
<div class="line">                                                    );</div>
<div class="line">        $triangle-&gt;set_path_def($triangle_path);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #$self-&gt;restoreLineColours();</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a937b768d824f68f892494edcdc4857eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::repositionClustersTextbox </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-repositionClustersTextbox' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-repositionClustersTextbox-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-repositionClustersTextbox-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-repositionClustersTextbox-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in repositionClustersTextbox: 20</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a937b768d824f68f892494edcdc4857eb">repositionClustersTextbox</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $slider_x = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Adjust backing rectangle to fit over the text</span></div>
<div class="line"><span class="preprocessor"></span>    my ($w, $h) = $self-&gt;{clusters_text}-&gt;get(<span class="stringliteral">&#39;text-width&#39;</span>, <span class="stringliteral">&#39;text-height&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($slider_x + $w &gt;= $self-&gt;{render_width}) { </div>
<div class="line"><span class="preprocessor">        # Move textbox to the left of the slider</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{clusters_rect}-&gt;set(x1 =&gt; -1 * $w, y2 =&gt; $h);</div>
<div class="line">        $self-&gt;{clusters_text}-&gt;set(anchor =&gt; <span class="stringliteral">&#39;ne&#39;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="preprocessor">        # Textbox to the right of the slider</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{clusters_rect}-&gt;set(x1 =&gt; $w, y2 =&gt; $h);</div>
<div class="line">        $self-&gt;{clusters_text}-&gt;set(anchor =&gt; <span class="stringliteral">&#39;nw&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a082965b334bfa11d8786ce889e27bd54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::repositionSliders </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-repositionSliders' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-repositionSliders-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-repositionSliders-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-repositionSliders-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in repositionSliders: 24</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a082965b334bfa11d8786ce889e27bd54">repositionSliders</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    my $xoffset = $self-&gt;{centre_x} * $self-&gt;{length_scale} - $self-&gt;{width_px} / 2;</div>
<div class="line">    my $slider_x = ($self-&gt;{unscaled_slider_x} * $self-&gt;{length_scale}) - $xoffset;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print &quot;[repositionSliders] centre_x=$self-&gt;{centre_x} length_scale=$self-&gt;{length_scale} unscaled_slider_x=$self-&gt;{unscaled_slider_x} width_px=$self-&gt;{width_px} slider_x=$slider_x\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    $self-&gt;{slider}-&gt;set(</div>
<div class="line">        x1 =&gt; $slider_x,</div>
<div class="line">        x2 =&gt; $slider_x + SLIDER_WIDTH,</div>
<div class="line">        y2 =&gt; $self-&gt;{render_height},</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    $self-&gt;{graph_slider}-&gt;set(</div>
<div class="line">        x1 =&gt; $slider_x,</div>
<div class="line">        x2 =&gt; $slider_x + SLIDER_WIDTH,</div>
<div class="line">        y2 =&gt; $self-&gt;{graph_height_units},</div>
<div class="line">    );</div>
<div class="line"></div>
<div class="line">    $self-&gt;repositionClustersTextbox($slider_x);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af8006c9d692945d1c69a626f477c9ec8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::resizeBackgroundRect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-resizeBackgroundRect' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-resizeBackgroundRect-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-resizeBackgroundRect-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-resizeBackgroundRect-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in resizeBackgroundRect: 8</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af8006c9d692945d1c69a626f477c9ec8">resizeBackgroundRect</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{back_rect}-&gt;set(    x2 =&gt; $self-&gt;{render_width}, y2 =&gt; $self-&gt;{render_height});</div>
<div class="line">    $self-&gt;{back_rect}-&gt;lower_to_bottom();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a8334ba2d9fb7abe7d547b4b50a95031a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::restoreLineColours </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-restoreLineColours' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-restoreLineColours-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-restoreLineColours-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-restoreLineColours-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in restoreLineColours: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8334ba2d9fb7abe7d547b4b50a95031a">restoreLineColours</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ($self-&gt;{recolour_nodes}) {</div>
<div class="line"></div>
<div class="line">        my $colour_ref;</div>
<div class="line">        <span class="keywordflow">foreach</span> my $node_ref (keys %{ $self-&gt;{recolour_nodes} }) {</div>
<div class="line"></div>
<div class="line">            $colour_ref = $self-&gt;{node_palette_colours}{$node_ref-&gt;get_name};</div>
<div class="line">            $colour_ref = $colour_ref || DEFAULT_LINE_COLOUR; # <span class="keywordflow">if</span> colour undef-&gt;we<span class="stringliteral">&#39;re clearing back to default</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">            $self-&gt;{node_lines}-&gt;{$node_ref-&gt;get_name}-&gt;set(fill_color_gdk =&gt; $colour_ref);</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">    }</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">    return;</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a25d1e4b53aee6349cbcd5a03e50116d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::set_plot_min_max_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_plot_min_max_values' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_plot_min_max_values-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_plot_min_max_values-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_plot_min_max_values-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_plot_min_max_values: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a25d1e4b53aee6349cbcd5a03e50116d8">set_plot_min_max_values</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my ($min, $max) = @_;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{analysis_min} = $min;</div>
<div class="line">    $self-&gt;{analysis_max} = $max;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aa620e0e07e28e7db5c741f13ff6ba849"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::set_use_highlight_func </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-set_use_highlight_func' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-set_use_highlight_func-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-set_use_highlight_func-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-set_use_highlight_func-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in set_use_highlight_func: 8</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aa620e0e07e28e7db5c741f13ff6ba849">set_use_highlight_func</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $value = shift;</div>
<div class="line">    $value = not $self-&gt;{use_highlight_func} <span class="keywordflow">if</span> ! defined $value;</div>
<div class="line">    $self-&gt;{use_highlight_func} = $value;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a922031a9f9782b71338e0d8acce95d1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setCluster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setCluster' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setCluster-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setCluster-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setCluster-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setCluster: 54</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a922031a9f9782b71338e0d8acce95d1d">setCluster</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $cluster = shift;</div>
<div class="line">    my $plot_mode = shift; # (cluster) <span class="stringliteral">&#39;length&#39;</span> or <span class="stringliteral">&#39;depth&#39;</span></div>
<div class="line"></div>
<div class="line">    # Clear any palette colours</div>
<div class="line">    <span class="keywordflow">foreach</span> my $node_ref (values %{$cluster-&gt;get_node_hash}) {</div>
<div class="line"><span class="preprocessor">        #$node_ref-&gt;set_cached_value(__gui_palette_colour =&gt; undef);</span></div>
<div class="line"><span class="preprocessor"></span>        $self-&gt;{node_palette_colours}{$node_ref-&gt;get_name} = undef;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Init variables</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;{cluster} = $cluster;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> ! defined $cluster;  #  trying to avoid warnings</div>
<div class="line"><span class="preprocessor">    #  skip incomplete clusterings (where the tree was not built)</span></div>
<div class="line"><span class="preprocessor"></span>    my $completed = $cluster-&gt;get_param(<span class="stringliteral">&#39;COMPLETED&#39;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> defined $completed and $completed != 1;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{tree_node} = $cluster-&gt;get_tree_ref;</div>
<div class="line">    croak <span class="stringliteral">&quot;No valid tree to plot\n&quot;</span> <span class="keywordflow">if</span> !$self-&gt;{tree_node};</div>
<div class="line">    $self-&gt;{element_to_cluster} = {};</div>
<div class="line">    $self-&gt;{selected_list_index} = {};</div>
<div class="line">    $self-&gt;{cluster_colour_mode} = <span class="stringliteral">&#39;palette&#39;</span>;</div>
<div class="line">    $self-&gt;{recolour_nodes} = undef;</div>
<div class="line">    $self-&gt;{processed_nodes} = undef;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #  number the nodes if needed</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> (! defined $self-&gt;{tree_node}-&gt;get_value (<span class="stringliteral">&#39;TERMINAL_NODE_FIRST&#39;</span>)) {</div>
<div class="line">        $self-&gt;{tree_node}-&gt;number_terminal_nodes;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    my $terminal_nodes_ref = $cluster-&gt;get_terminal_nodes();</div>
<div class="line">    $self-&gt;{num_leaves}    = scalar (keys %{$terminal_nodes_ref});</div>
<div class="line">    $self-&gt;{border_ht}     = $self-&gt;{num_leaves} * BORDER_HT;</div>
<div class="line">    $self-&gt;{terminal_elements} = $cluster-&gt;get_tree_ref-&gt;get_terminal_elements();</div>
<div class="line"></div>
<div class="line">    $self-&gt;{num_nodes} = $cluster-&gt;get_node_count;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Initialise Y coordinates</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;initYCoords($self-&gt;{tree_node});</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Make slider</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;makeSlider();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # draw</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;setPlotMode($plot_mode);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Initialise map analysis-selection comboboxen</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($self-&gt;{map_list_combo}) {</div>
<div class="line">        $self-&gt;setupMapListModel( scalar $self-&gt;{tree_node}-&gt;get_hash_lists() );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a67ccb75ab422e36e29f7be5c82ec78f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setGroupMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setGroupMode' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setGroupMode-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setGroupMode-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setGroupMode-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setGroupMode: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a67ccb75ab422e36e29f7be5c82ec78f2">setGroupMode</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{group_mode} = shift;</div>
<div class="line"><span class="preprocessor">    # apply new setting</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;recolour();</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a97e4266d3e4526d3ec392a564136ddba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setNumClusters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setNumClusters' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setNumClusters-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setNumClusters-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setNumClusters-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setNumClusters: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a97e4266d3e4526d3ec392a564136ddba">setNumClusters</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{num_clusters} = shift || 1;</div>
<div class="line"><span class="preprocessor">    # apply new setting</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;recolour();</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="afa55841ba5683699120d767a4075eb28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setPlotMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setPlotMode' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setPlotMode-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setPlotMode-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setPlotMode-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setPlotMode: 57</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#afa55841ba5683699120d767a4075eb28">setPlotMode</a> {</div>
<div class="line">    my ($self, $plot_mode) = @_;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{plot_mode} = $plot_mode;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Work out how to get the &quot;length&quot; based on mode</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($plot_mode eq <span class="stringliteral">&#39;length&#39;</span>) {</div>
<div class="line">        $self-&gt;{length_func}     = \&amp;<a class="code" href="classBiodiverse_1_1TreeNode.html#a1921f0adcc85995c4a114ac50265621e">Biodiverse::TreeNode::get_length</a>;</div>
<div class="line">        $self-&gt;{max_length_func} = \&amp;<a class="code" href="classBiodiverse_1_1TreeNode.html#a076df2cb30e18d04f2d355697b709d47">Biodiverse::TreeNode::get_max_total_length</a>;</div>
<div class="line">        $self-&gt;{neg_length_func} = \&amp;<a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#acb3252be0174b8371cac525be5d27ded">getMaxNegativeLength</a>;</div>
<div class="line">    }</div>
<div class="line">    elsif ($plot_mode eq <span class="stringliteral">&#39;depth&#39;</span>) {</div>
<div class="line">        $self-&gt;{length_func}     = sub { <span class="keywordflow">return</span> 1; }; # each node is <span class="stringliteral">&quot;1&quot;</span> depth level below the previous one</div>
<div class="line">        $self-&gt;{max_length_func} = \&amp;<a class="code" href="classBiodiverse_1_1TreeNode.html#a9633dfea5b69e188d92fe93839dd326e">Biodiverse::TreeNode::get_depth_below</a>;</div>
<div class="line">        $self-&gt;{neg_length_func} = sub { <span class="keywordflow">return</span> 0; };</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">    #elsif ($plot_mode eq &#39;range_weighted&#39;) {  #  experimental - replaced by method to convert the tree&#39;s branch lengths</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    #  need to get the node range table</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    my $bd = $self-&gt;{basedata_ref};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    $self-&gt;{length_func}     = sub {my ($node, %args) = @_; return $node-&gt;get_length / $node-&gt;get_node_range (basedata_ref =&gt; $bd)};</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    $self-&gt;{max_length_func} = \&amp;Biodiverse::TreeNode::get_max_total_length;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #    $self-&gt;{neg_length_func} = \&amp;getMaxNegativeLength;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #}</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">else</span> {</div>
<div class="line">        die <span class="stringliteral">&quot;Invalid cluster-plotting mode - $plot_mode&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Work out dimensions in canvas units</span></div>
<div class="line"><span class="preprocessor"></span>    my $f = $self-&gt;{max_length_func};</div>
<div class="line">    my $g = $self-&gt;{neg_length_func};</div>
<div class="line">    my $ht = $self-&gt;{num_leaves} * LEAF_SPACING;</div>
<div class="line">    $self-&gt;{unscaled_height} = $ht + $self-&gt;{border_ht} * 2;</div>
<div class="line">    $self-&gt;{max_len}         = &amp;$f($self-&gt;{tree_node}); # <span class="keyword">this</span> is in (unscaled) cluster-length units</div>
<div class="line">    $self-&gt;{neg_len}         = &amp;$g($self-&gt;{tree_node});</div>
<div class="line">    $self-&gt;{border_len}      = 0.5 * BORDER_FRACTION * ($self-&gt;{max_len} + $self-&gt;{neg_len}) / (1 - BORDER_FRACTION);</div>
<div class="line">    $self-&gt;{unscaled_width}  = 2 * $self-&gt;{border_len} + $self-&gt;{max_len} + $self-&gt;{neg_len};</div>
<div class="line"></div>
<div class="line">    $self-&gt;{centre_x} = $self-&gt;{unscaled_width} / 2;</div>
<div class="line">    $self-&gt;{centre_y} = $self-&gt;{unscaled_height} / 2;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{unscaled_slider_x} = $self-&gt;{unscaled_width} - $self-&gt;{border_len} / 2;</div>
<div class="line"><span class="preprocessor">    #print &quot;[Dendrogram] slider position is $self-&gt;{unscaled_slider_x}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;[Dendrogram] max len = &quot; . $self-&gt;{max_len} . &quot; neg len = &quot; . $self-&gt;{neg_len} . &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;[Dendrogram] unscaled width: $self-&gt;{unscaled_width}, unscaled height: $self-&gt;{unscaled_height}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">    # Make sorted total length array to make slider and graph fast</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;makeTotalLengthArray;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # (redraw)</span></div>
<div class="line"><span class="preprocessor"></span>    $self-&gt;renderTree;</div>
<div class="line">    $self-&gt;renderGraph;</div>
<div class="line">    $self-&gt;setupScrollbars;</div>
<div class="line">    $self-&gt;resizeBackgroundRect;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a27b753df882b5d83956237ae94f71957"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setProcessedNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setProcessedNodes' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setProcessedNodes-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setProcessedNodes-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setProcessedNodes-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setProcessedNodes: 6</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a27b753df882b5d83956237ae94f71957">setProcessedNodes</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{processed_nodes} = shift;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af28d43faea77801057bc2c1bb9b0d195"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setupMapIndexModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setupMapIndexModel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setupMapIndexModel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setupMapIndexModel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setupMapIndexModel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setupMapIndexModel: 35</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af28d43faea77801057bc2c1bb9b0d195">setupMapIndexModel</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    my $indices = shift;</div>
<div class="line"></div>
<div class="line">    my $model = Gtk2::ListStore-&gt;new(<span class="stringliteral">&#39;Glib::String&#39;</span>);</div>
<div class="line">    $self-&gt;{map_index_combo}-&gt;set_model($model);</div>
<div class="line">    my $iter;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Add all the analyses</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">if</span> ($indices) { # can be undef <span class="keywordflow">if</span> we want to <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a45d09b265dfbbe3bd5e4273ad11f43b8">clear</a> the list (eg: selecting <span class="stringliteral">&quot;Cluster&quot;</span> mode)</div>
<div class="line"></div>
<div class="line">        <span class="preprocessor"># restore previously selected index for this list</span></div>
<div class="line"><span class="preprocessor"></span>        my $selected_index = $self-&gt;{selected_list_index}{$indices};</div>
<div class="line">        my $selected_iter = undef;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> my $key (sort keys %$indices) {</div>
<div class="line"><span class="preprocessor">            #print &quot;[Dendrogram] Adding map analysis $key\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>            $iter = $model-&gt;append;</div>
<div class="line">            $model-&gt;set($iter, 0, $key);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (defined $selected_index &amp;&amp; $selected_index eq $key) {</div>
<div class="line">                $selected_iter = $iter;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($selected_iter) {</div>
<div class="line">            $self-&gt;{map_index_combo}-&gt;set_active_iter($selected_iter);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            $self-&gt;{map_index_combo}-&gt;set_active_iter($model-&gt;get_iter_first);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="af54215c0ac3cdb5a92353b84c0f852f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setupMapListModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setupMapListModel' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setupMapListModel-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setupMapListModel-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setupMapListModel-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setupMapListModel: 23</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#af54215c0ac3cdb5a92353b84c0f852f3">setupMapListModel</a> {</div>
<div class="line">    my $self  = shift;</div>
<div class="line">    my $lists = shift;</div>
<div class="line"></div>
<div class="line">    my $model = Gtk2::ListStore-&gt;new(<span class="stringliteral">&#39;Glib::String&#39;</span>);</div>
<div class="line">    my $iter;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Add all the analyses</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">foreach</span> my $list (sort @$lists) {</div>
<div class="line"><span class="preprocessor">        #print &quot;[Dendrogram] Adding map list $list\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span>        $iter = $model-&gt;append;</div>
<div class="line">        $model-&gt;set($iter, 0, $list);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    # Add &amp; select, the &quot;cluster&quot; analysis (distinctive colour for every cluster)</span></div>
<div class="line"><span class="preprocessor"></span>    $iter = $model-&gt;insert(0);</div>
<div class="line">    $model-&gt;set($iter, 0, <span class="stringliteral">&#39;&lt;i&gt;Cluster&lt;/i&gt;&#39;</span>);</div>
<div class="line"></div>
<div class="line">    $self-&gt;{map_list_combo}-&gt;set_model($model);</div>
<div class="line">    $self-&gt;{map_list_combo}-&gt;set_active_iter($iter);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a8a72bd3008b5efac6b3bfa2afc8e9d3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::setupScrollbars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-setupScrollbars' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-setupScrollbars-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-setupScrollbars-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-setupScrollbars-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in setupScrollbars: 21</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8a72bd3008b5efac6b3bfa2afc8e9d3b">setupScrollbars</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordflow">if</span> not $self-&gt;{render_width};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print &quot;[setupScrolllbars] render w:$self-&gt;{render_width} h:$self-&gt;{render_height}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;[setupScrolllbars]   px   w:$self-&gt;{width_px} h:$self-&gt;{height_px}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    $self-&gt;{hadjust}-&gt;upper( $self-&gt;{render_width} );</div>
<div class="line">    $self-&gt;{vadjust}-&gt;upper( $self-&gt;{render_height} );</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hadjust}-&gt;page_size( $self-&gt;{width_px} );</div>
<div class="line">    $self-&gt;{vadjust}-&gt;page_size( $self-&gt;{height_px} );</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hadjust}-&gt;page_increment( $self-&gt;{width_px} / 2 );</div>
<div class="line">    $self-&gt;{vadjust}-&gt;page_increment( $self-&gt;{height_px} / 2 );</div>
<div class="line"></div>
<div class="line">    $self-&gt;{hadjust}-&gt;changed;</div>
<div class="line">    $self-&gt;{vadjust}-&gt;changed;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a8a0849bcaa82619875ad5530adae76f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::toggle_use_slider_to_select_nodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-toggle_use_slider_to_select_nodes' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-toggle_use_slider_to_select_nodes-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-toggle_use_slider_to_select_nodes-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-toggle_use_slider_to_select_nodes-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in toggle_use_slider_to_select_nodes: 7</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a8a0849bcaa82619875ad5530adae76f1">toggle_use_slider_to_select_nodes</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{use_slider_to_select_nodes} = ! $self-&gt;{use_slider_to_select_nodes};</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a70c557f7d837bb9e6b250425e7bf8c33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::updateScrollbars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-updateScrollbars' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-updateScrollbars-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-updateScrollbars-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-updateScrollbars-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in updateScrollbars: 18</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a70c557f7d837bb9e6b250425e7bf8c33">updateScrollbars</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #print &quot;[updateScrollbars] centre x:$self-&gt;{centre_x} y:$self-&gt;{centre_y}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;[updateScrollbars] scale  x:$self-&gt;{length_scale} y:$self-&gt;{height_scale}\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    $self-&gt;{hadjust}-&gt;set_value($self-&gt;{centre_x} * $self-&gt;{length_scale} - $self-&gt;{width_px} / 2);</div>
<div class="line"><span class="preprocessor">    #print &quot;[updateScrollbars] set hadjust to &quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print ($self-&gt;{centre_x} * $self-&gt;{length_scale} - $self-&gt;{width_px} / 2);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    $self-&gt;{vadjust}-&gt;set_value($self-&gt;{centre_y} * $self-&gt;{height_scale} - $self-&gt;{height_px} / 2);</div>
<div class="line"><span class="preprocessor">    #print &quot;[updateScrollbars] set vadjust to &quot;;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print ($self-&gt;{centre_y} * $self-&gt;{height_scale} - $self-&gt;{height_px} / 2);</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">    #print &quot;\n&quot;;</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="aaa07b6fcbed3619df94516a1517e5782"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::zoomFit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-zoomFit' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-zoomFit-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-zoomFit-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-zoomFit-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in zoomFit: 9</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#aaa07b6fcbed3619df94516a1517e5782">zoomFit</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line">    $self-&gt;{render_width} = $self-&gt;{width_px};</div>
<div class="line">    $self-&gt;{render_height} = $self-&gt;{height_px};</div>
<div class="line">    $self-&gt;{zoom_fit} = 1;</div>
<div class="line">    $self-&gt;postZoom();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="ab305c94b2355fc9ff2a43bb0d96b17e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::zoomIn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-zoomIn' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-zoomIn-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-zoomIn-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-zoomIn-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in zoomIn: 11</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#ab305c94b2355fc9ff2a43bb0d96b17e3">zoomIn</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{render_width} = $self-&gt;{render_width} * 1.5;</div>
<div class="line">    $self-&gt;{render_height} = $self-&gt;{render_height} * 1.5;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{zoom_fit} = 0;</div>
<div class="line">    $self-&gt;postZoom();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<a class="anchor" id="a3418ac7163bd3e28c4bba234e9837ef7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public method Biodiverse::GUI::Dendrogram::zoomOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undocumented Method  
<div id='codesection-zoomOut' class='dynheader closed' style='cursor:pointer;' onclick='return toggleVisibility(this)'>
    <img id='codesection-zoomOut-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-zoomOut-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-zoomOut-content' class='dyncontent' style='display: none;'>
 <div class="fragment"><div class="line"><span class="preprocessor"># Number of lines of code in zoomOut: 11</span></div>
<div class="line"><span class="preprocessor"></span>sub <a class="code" href="classBiodiverse_1_1GUI_1_1Dendrogram.html#a3418ac7163bd3e28c4bba234e9837ef7">zoomOut</a> {</div>
<div class="line">    my $self = shift;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{render_width} = $self-&gt;{render_width} / 1.5;</div>
<div class="line">    $self-&gt;{render_height} = $self-&gt;{render_height} / 1.5;</div>
<div class="line"></div>
<div class="line">    $self-&gt;{zoom_fit} = 0;</div>
<div class="line">    $self-&gt;postZoom();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/Biodiverse/GUI/<a class="el" href="Dendrogram_8pm_source.html">Dendrogram.pm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Biodiverse</b></li><li class="navelem"><b>GUI</b></li><li class="navelem"><a class="el" href="classBiodiverse_1_1GUI_1_1Dendrogram.html">Dendrogram</a></li>
    <li class="footer">Generated on Tue Nov 5 2013 19:07:35 for Biodiverse by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
